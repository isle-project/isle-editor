"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2087],{497828:function(e,n,t){t.r(n);var i=t(497326),o=t(894578),s=t(202784),l=t(770561),r=t(81982),a=t(213980),c=t.n(a),d=t(588703),p=t.n(d),u=Object.defineProperty,h=function(e,n,t){return function(e,n,t){n in e?u(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!=typeof n?n+"":n,t),t},f=function(e){function n(n){var t;return t=e.call(this,n)||this,h((0,i.Z)(t),"clickHide",(function(){t.props.onHide()})),h((0,i.Z)(t),"handlePDFExport",(function(){t.props.saveAsPDF(),t.props.onHide()})),h((0,i.Z)(t),"handlePNGExport",(function(){t.props.saveAsPNG(),t.props.onHide()})),t.state={ownerFile:null},t}(0,o.Z)(n,e);var t=n.prototype;return t.componentDidMount=function(){var e=this;this.props.session.getLessonOwnerFiles((function(n,t){p()(t)&&t.length>0&&(t=t.filter((function(n){return n.title===e.props.id+".pdf"})),e.setState({ownerFile:t[t.length-1]}))}))},t.render=function(){var e,n,t=this.props.session;this.state.ownerFile&&(e=new Date(this.state.ownerFile.updatedAt),n=this.state.ownerFile.name);var i=this.props.t;return s.createElement(r.Z,{onHide:this.clickHide,show:this.props.show,dialogClassName:"modal-w30"},s.createElement(r.Z.Header,{closeButton:!0},s.createElement(r.Z.Title,{as:"h4"},i("download"))),s.createElement(r.Z.Body,null,this.props.pdf?s.createElement(l.Z,{className:"sketchpad-download-link-btn",size:"large",variant:"secondary",block:!0,onClick:this.clickHide},s.createElement("a",{className:"unstyled-link sketchpad-download-link",href:this.props.pdf,download:!0},i("download-original"))):null,this.state.ownerFile?s.createElement(l.Z,{size:"large",variant:"secondary",block:!0,onClick:this.clickHide},s.createElement("a",{className:"unstyled-link",href:t.server+"/"+this.state.ownerFile.filename,download:!0},i("download-instructor-annotations"),s.createElement("br",null),s.createElement("small",null,"(",i("last-updated"),": ",e.toDateString()+", "+e.toLocaleTimeString()," ",i("by")," ",n,")"))):null,s.createElement(l.Z,{variant:"secondary",size:"large",onClick:this.handlePDFExport,block:!0},i("export-pdf")),s.createElement(l.Z,{variant:"secondary",size:"large",onClick:this.handlePNGExport,block:!0},i("export-png"))))},n}(s.Component);f.propTypes={id:c().string.isRequired,onHide:c().func,pdf:c().string,saveAsPDF:c().func.isRequired,saveAsPNG:c().func.isRequired,session:c().object.isRequired,show:c().bool.isRequired},f.defaultProps={pdf:null,onHide:function(){}},n.default=f}}]);