(self.webpackChunk=self.webpackChunk||[]).push([[5538],{861710:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return le}});n(627476),n(95767),n(694882),n(298351),n(382139);var o,a=n(711746),r=n(264659),i=n(904730),l=n(673989),s=n(175663),u=n(750591),c=n(575630),d=n(151119),p=n(858255),f=(n(319371),n(898837),n(296253),n(856997),n(991181),n(850110),n(111246),n(6059),n(202784)),h=(n(213980),n(928316)),v=n(911755),m=n.n(v),g=n(198),b=n(837876),Z=n(320231),w=n.n(Z),y=n(822736),O=n(482228),C=n(770561),S=n(81982),N=n(150275),P=n(313054),x=n.n(P),I=n(888244),T=n.n(I),k=n(536892),D=n.n(k),R=n(287013),B=n.n(R),E=n(777628),M=n.n(E),V=n(295943),j=n.n(V),L=n(521536),F=n.n(L),H=n(838060),A=n.n(H),z=n(308669),U=n.n(z),W=n(623102),_=n.n(W),J=n(830324),G=n.n(J),K=n(588703),q=n.n(K),Y=n(309765),Q=n(409961),X=n.n(Q),$=n(437069),tt=n.n($),et=n(148820),nt=n(945157),ot=n(42111),at=n(42720),rt=n(741319),it=n(5140),lt=n(395465),st=n.n(lt),ut=n(927447),ct=n(647537),dt=n(31071),pt=n(975249),ft=n(603107),ht=n(224008),vt=n.n(ht),mt=JSON.parse('[{"target":".data-table-title-button","content":"On top of the data table you find the name of the data set. Clicking on it will open a modal window with a detailed description.","placement":"bottom","placementBeacon":"bottom"},{"target":".ReactTable","content":"Tabular display of the data set, with rows corresponding to individual records and columns to the different variables.","placement":"bottom","placementBeacon":"bottom"},{"target":".-header","content":"Variable names. Hovering over the names with your mouse opens a tooltip with the description of the respective variable. Clicking on any column orders the rows of the data table by the values of the chosen column. You can also select multiple columns by holding down the \\"Shift\\" key to sort by multiple columns","placement":"bottom","placementBeacon":"bottom"},{"target":".-filter","content":"Filter out rows by adjusting the filters for any column.","placement":"top","placementBeacon":"top"},{"target":".label-number-rows","content":"The number of currently displayed rows, i.e. the rows matching the specified filters, and in parentheses the total number of rows in the table.","placement":"top","placementBeacon":"top"},{"target":".reset-button","content":"Clicking on the reset button will clear all currently active filters and return the ordering of the rows to its default.","placement":"top","placementBeacon":"top"},{"target":".variable-descriptions-button","content":"The descriptions for each variable can also be accessed by clicking on this button.","placement":"top","placementBeacon":"top"}]');function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}var bt=function(t){(0,s.Z)(n,t);var e=gt(n);function n(t){var o;return(0,r.Z)(this,n),o=e.call(this,t),(0,d.Z)((0,l.Z)(o),"startTour",(function(){o.setState({running:!o.state.running})})),o.state={running:!1},o.stepsWithId=vt()(mt,2).map((function(e){return e.target="#".concat(t.id," ")+e.target,e})),o}return(0,i.Z)(n,[{key:"render",value:function(){var t=this;return(0,p.Z)(f.Fragment,{},void 0,(0,p.Z)(pt.Z,{placement:"bottom",overlay:(0,p.Z)(dt.Z,{},void 0,this.props.t(this.state.running?"close-tutorial":"show-tutorial"))},void 0,(0,p.Z)(C.Z,{"aria-label":this.props.t("show-tutorial"),className:"help-button",variant:"light",onClick:this.startTour},void 0,o||(o=(0,p.Z)("div",{className:"fa fa-question"})))),(0,p.Z)(ft.ZP,{steps:this.stepsWithId,disableScrolling:!0,showProgress:!0,run:this.state.running,callback:function(e){e.type===ft.FP.TOUR_END&&(t.setState({running:!1}),t.props.onTutorialCompletion())}}))}}]),n}(f.Component),Zt=n(607560),wt=n(454530),yt=n(618245),Ot=["placement","scheduleUpdate","arrowProps","outOfBoundaries","show"];function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}var Pt=function(t){(0,s.Z)(n,t);var e=Nt(n);function n(t){var o;return(0,r.Z)(this,n),o=e.call(this,t),(0,d.Z)((0,l.Z)(o),"showTooltip",(function(){o.setState({showTooltip:!0})})),(0,d.Z)((0,l.Z)(o),"hideTooltip",(function(){o.setState({showTooltip:!1})})),o.state={showTooltip:!1},o}return(0,i.Z)(n,[{key:"render",value:function(){var t=this;return(0,p.Z)(f.Fragment,{},void 0,(0,p.Z)(yt.Z,{show:this.state.showTooltip,target:this.title},void 0,(function(e){e.placement,e.scheduleUpdate,e.arrowProps,e.outOfBoundaries,e.show;var n=(0,wt.Z)(e,Ot);return f.createElement("div",(0,Zt.Z)({},n,{style:St({backgroundColor:"rgba(10, 10, 10,0.9)",padding:"2px 10px",color:"white",borderRadius:3,maxWidth:"300px",marginBottom:"10px"},n.style)}),t.props.tooltip)})),f.createElement("span",{ref:function(e){t.title=e},onMouseOver:this.showTooltip,onFocus:this.showTooltip,onMouseOut:this.hideTooltip,onBlur:this.hideTooltip},this.props.title))}}]),n}(f.Component);Pt.defaultProps={tooltip:""};var xt,It=Pt,Tt=n(579553),kt=n.n(Tt),Dt=n(439917),Rt=n.n(Dt),Bt=n(741709),Et=n(686605),Mt=n.n(Et),Vt=["placement","scheduleUpdate","arrowProps","outOfBoundaries","show"];function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}var Ht,At,zt=function(t){(0,s.Z)(n,t);var e=Ft(n);function n(t){var o;return(0,r.Z)(this,n),o=e.call(this,t),(0,d.Z)((0,l.Z)(o),"showRangeInput",(function(){o.setState({showRangeInput:!0})})),(0,d.Z)((0,l.Z)(o),"hideRangeInput",(function(){o.setState({showRangeInput:!1})})),(0,d.Z)((0,l.Z)(o),"handleBlur",(function(){o.props.onChange(o.state.currentValue)})),o.state={currentValue:t.defaultValue,defaultValue:t.defaultValue,showRangeInput:!1},o}return(0,i.Z)(n,[{key:"render",value:function(){var t=this,e=this.state.currentValue;return f.createElement("div",{className:"input-range-wrapper",ref:function(e){t.inputRange=e}},(0,p.Z)(Rt(),{ariaLabelledby:this.props.ariaLabelledby,ariaControls:this.props.ariaControls,allowSameValues:!0,maxValue:this.props.maxValue,minValue:this.props.minValue,value:e,onChange:function(e){t.setState({currentValue:e})},onChangeComplete:function(e){t.props.onChange(e)},formatLabel:function(e){return(0,p.Z)("span",{className:"input-range-clickable-label",role:"button",tabIndex:0,onKeyPress:t.showRangeInput,onClick:t.showRangeInput,title:t.props.t("click-to-set-value")},void 0,Mt()(e))},style:{float:"left"}}),(0,p.Z)(yt.Z,{show:this.state.showRangeInput,target:this.inputRange},void 0,(function(n){n.placement,n.scheduleUpdate,n.arrowProps,n.outOfBoundaries,n.show;var o=(0,wt.Z)(n,Vt);return(0,p.Z)(kt(),{active:t.state.showRangeInput},void 0,f.createElement("div",(0,Zt.Z)({className:"input-range-number-entry"},o,{style:Lt({},o.style)}),(0,p.Z)(Bt.Z,{inline:!0,value:e.min,min:t.props.minValue,max:e.max,onChange:function(e){var n={min:Number(e),max:t.state.currentValue.max};t.setState({currentValue:n})},onBlur:t.handleBlur,step:.1}),(0,p.Z)(Bt.Z,{inline:!0,value:e.max,min:e.min,max:t.props.maxValue,onChange:function(e){var n={min:t.state.currentValue.min,max:Number(e)};t.setState({currentValue:n})},onBlur:t.handleBlur,step:.1}),(0,p.Z)(C.Z,{"aria-label":t.props.t("close"),variant:"outline-secondary",size:"sm",onClick:t.hideRangeInput},void 0,xt||(xt=(0,p.Z)("i",{className:"fas fa-times"})))))})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.defaultValue!==e.defaultValue?{currentValue:t.defaultValue,defaultValue:t.defaultValue}:null}}]),n}(f.Component),Ut=n(432261);function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Gt=x()({html:!0,xhtmlOut:!0,breaks:!0,typographer:!1}),Kt=m()("isle:data-table"),qt=(0,ot.Z)("data-table"),Yt=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}),Qt=/[0-9.,]+/;function Xt(t,e){return(t=null==t||"NA"===t?st():t)-(e=null==e||"NA"===e?st():e)}function $t(t,e){return t=null==t||"NA"===t?st():t,e=null==e||"NA"===e?st():e,Yt.compare(t,e)}function te(t,e){var n=e[t.id];return!(!n&&t.value)&&(q()(t.value)?B()(t.value,n):B()(M()(n),M()(t.value)))}function ee(t,e){var n=e[t.id];return n>=t.value.min&&n<=t.value.max}function ne(t,e,n){if(!t.value||U()(t.value))return!0;var o=t.pivotId||t.id;return void 0===e[o]||(q()(t.value)?B()(t.value,String(e[o])):String(e[o])===t.value)}function oe(t){if(_()(t))return[];for(var e=tt()(t),n=function(t,e){for(var n=0,o=0;o<e.length;o++){var a=t[e[o]];q()(a)&&a.length>n&&(n=a.length)}return n}(t,e),o=new Array(n),a=0;a<n;a++){o[a]={};for(var r=0;r<e.length;r++){var i=e[r];o[a][i]=t[i][a]}}return o}var ae=function(){return Ht||(Ht=(0,p.Z)("div",{}))};function re(t){t.target.style.width=t.target.value.length+1+"ch"}var ie=function(t){(0,s.Z)(o,t);var e=Wt(o);function o(t){var i;(0,r.Z)(this,o),i=e.call(this,t),(0,d.Z)((0,l.Z)(i),"renderEditable",(function(t){return(0,p.Z)("div",{style:{backgroundColor:"#fafafa"},contentEditable:!0,suppressContentEditableWarning:!0,onBlur:function(e){var n=(0,a.Z)(i.state.rows),o=e.target.innerHTML;n[t.index][t.column.id]=Qt.test(o)?Number(o):o,i.setState({rows:n},(function(){i.props.onEdit(n)}))},dangerouslySetInnerHTML:{__html:i.state.rows[t.index][t.column.id]}})})),(0,d.Z)((0,l.Z)(i),"renderCheckboxRemovable",(function(t){return(0,p.Z)("input",{id:"checkBox",type:"checkbox",onClick:function(e){var n=(0,a.Z)(i.state.rows);n[t.index][t.column.id]=e.target.checked,i.setState({rows:n}),i.props.onClickRemove(n)}},"".concat(t.index,"-").concat(t.column.id,"-").concat(i.state.rows.length))})),(0,d.Z)((0,l.Z)(i),"handleFilterChange",(function(t,e){(0,h.findDOMNode)(i.table).getElementsByClassName("rt-tbody")[0].scrollTop=0,i.context.log({id:i.id,type:it.Uc,value:e.id}),i.setState({filtered:t},(function(){i.props.onFilteredChange(i.state.filtered.filter((function(t){return!X()(t.value)})))}))})),(0,d.Z)((0,l.Z)(i),"handleSortedChange",(function(t,e){i.context.log({id:i.id,type:it.mk,value:e.id}),i.setState({sorted:t})})),(0,d.Z)((0,l.Z)(i),"showDescriptions",(function(){i.setState({showVarModal:!0})})),(0,d.Z)((0,l.Z)(i),"reset",(function(){i.context.log({id:i.id,type:it.Di,value:""}),i.setState({filtered:[],sorted:[]},(function(){i.props.onFilteredChange(i.state.filtered)}))})),(0,d.Z)((0,l.Z)(i),"showInfo",(function(){Kt("Show dataset information..."),i.setState({showInfo:!0})})),(0,d.Z)((0,l.Z)(i),"toggleSaveModal",(function(){i.setState({showSaveModal:!i.state.showSaveModal})})),(0,d.Z)((0,l.Z)(i),"saveJSON",(function(){var t,e=new Blob([JSON.stringify(i.state.data)],{type:"application/json"}),n=i.props.dataInfo;t=n&&n.name?n.name:"dataset.json",(0,at.Z)(e,t)})),(0,d.Z)((0,l.Z)(i),"saveCSV",(function(){var t=i.context;Promise.all([n.e(4851),n.e(7561),n.e(8671)]).then(n.t.bind(n,596823,23)).then((function(e){(0,e.default)(i.state.rows,{header:!0},(function(e,n){if(e)return t.addNotification({title:i.props.t("error-encountered"),message:i.props.t("error-csv")+e.message,level:"error",position:"tl"});var o,a=new Blob([n],{type:"text/plain"}),r=i.props.dataInfo;o=r&&r.name?"".concat(r.name,".csv"):"dataset.csv",(0,at.Z)(a,o)}))}))})),(0,d.Z)((0,l.Z)(i),"handleSaveCSV",(function(){i.saveCSV(),i.toggleSaveModal()})),(0,d.Z)((0,l.Z)(i),"handleSaveJSON",(function(){i.saveJSON(),i.toggleSaveModal()})),(0,d.Z)((0,l.Z)(i),"hideVarModal",(function(){i.setState({showVarModal:!1})})),(0,d.Z)((0,l.Z)(i),"hideInfoModal",(function(){i.setState({showInfo:!1})})),(0,d.Z)((0,l.Z)(i),"handleTableProps",(function(){return{onScroll:function(t){for(var e=t.target.scrollLeft>0?t.target.scrollLeft:0,n=0;n<i.frozenElems.length;n++)i.frozenElems[n].style.left="".concat(e,"px")}}})),(0,d.Z)((0,l.Z)(i),"handleTrProps",(function(t,e,n,o){var a;return(a=i.props.getTrProps?i.props.getTrProps(t,e,n,o):{}).style||(a.style={}),a.style.width="max-content !important",a})),Kt("Constructor is invoked..."),i.id=t.id||qt(t);var s=t.dataInfo||{};return i.dragged=null,i.reorder=[],i.state={showInfo:!!s.showOnStartup,dataInfo:{info:s.info||[],name:s.name||"",variables:s.variables||null,showOnStartup:s.showOnStartup||null},showSaveModal:!1,id:i.id},i}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){if(Kt("Component has mounted..."),this.table){var t=(0,h.findDOMNode)(this.table).getElementsByClassName("rt-thead")[0],e=(0,h.findDOMNode)(this.table).getElementsByClassName("rt-thead")[1],n=(0,h.findDOMNode)(this.table).getElementsByClassName("rt-tbody")[0];n.addEventListener("scroll",(function(){t.scrollLeft=n.scrollLeft,e.scrollLeft=n.scrollLeft}))}}},{key:"componentDidUpdate",value:function(t,e){Kt("Component has updated...");var n={};if(!this.props.filters||this.props.filters===t.filters&&this.props.filters.length===t.filters.length||(Kt("Data table now has ".concat(this.props.filters.length," filters...")),n.filtered=this.props.filters),this.props.data!==t.data&&this.state.keys.length!==e.keys.length){var o=(0,h.findDOMNode)(this.table).getElementsByClassName("rt-thead")[0],a=(0,h.findDOMNode)(this.table).getElementsByClassName("rt-thead")[1],r=(0,h.findDOMNode)(this.table).getElementsByClassName("rt-tbody")[0];o.scrollLeft=o.scrollWidth,a.scrollLeft=a.scrollWidth,r.scrollLeft=r.scrollWidth}_()(n)||(Kt("Trigger a state change after update..."),this.setState(n))}},{key:"render",value:function(){var t=this;Kt("Rendering component");var e=this.state,n=e.rows,o=e.dataInfo;if(!n)return(0,p.Z)(y.Z,{variant:"danger"},void 0,this.props.t("no-data"));var a,r=null;this.state.showVarModal?r=(0,p.Z)(S.Z,{dialogClassName:"modal-50w",show:this.state.showVarModal,onHide:this.hideVarModal},void 0,(0,p.Z)(S.Z.Header,{closeButton:!0},void 0,(0,p.Z)(S.Z.Title,{},void 0,this.props.t("variables"))),(0,p.Z)(S.Z.Body,{},void 0,function(t,e){for(var n=tt()(t),o=new Array(n.length),a=0;a<n.length;a++){var r=n[a];o[a]=(0,p.Z)("tr",{},"".concat(r,"-").concat(a),(0,p.Z)("td",{},void 0,"".concat(r)),(0,p.Z)("td",{},void 0,t[r]))}return(0,p.Z)("table",{className:"table-bordered table-condensed",style:{width:"100%"}},void 0,(0,p.Z)("thead",{},void 0,(0,p.Z)("tr",{},void 0,(0,p.Z)("th",{},void 0,e("name")),(0,p.Z)("th",{},void 0,e("description")))),(0,p.Z)("tbody",{},void 0,o))}(o.variables,this.props.t))):this.state.showInfo&&(Kt("Rendering dataset information modal..."),r=(0,p.Z)(S.Z,{show:this.state.showInfo,dialogClassName:"modal-50w",onHide:this.hideInfoModal},void 0,(0,p.Z)(S.Z.Header,{closeButton:!0},void 0,(0,p.Z)(S.Z.Title,{},void 0,o.name," ",this.props.t("description"))),(0,p.Z)(S.Z.Body,{dangerouslySetInnerHTML:{__html:Gt.render(q()(o.info)?o.info.join("\n"):o.info)}}))),a=this.props.editable.length>0?this.state.columns.map((function(e){return B()(t.props.editable,e.id)&&(e.Cell=t.renderEditable),e})):this.state.columns.slice(),this.reorder.forEach((function(t){a[t.a]=a.splice(t.b,1,a[t.a])[0]})),a=a.map((function(e,n){return"id"===e.Header?e:Jt(Jt({},e),{},{Header:(0,p.Z)("span",{className:"draggable-header",id:"header-".concat(e.id),draggable:"true",onDragStart:function(e){e.stopPropagation(),e.dataTransfer.setData("Text",n),t.dragged=n},onDrag:function(t){return t.stopPropagation},onDragEnd:function(e){e.stopPropagation(),setTimeout((function(){t.dragged=null}),100)},onDragOver:function(t){t.preventDefault(),t.dataTransfer.dropEffect="move"},onDrop:function(e){e.preventDefault();var o=n,a=t.dragged,r=t.state.columns.map((function(t){return t.id}));r.shift();var i=r[o];r[o]=r[a],r[a]=i,t.props.onColumnDrag(r),t.reorder.push({a:o,b:a}),t.forceUpdate()}},void 0,e.Header)})})),this.props.showIdColumn&&a.unshift({Header:"id",accessor:"id",className:"frozen",headerClassName:"frozen",filterable:!1,resizable:!1,width:50}),this.props.showRemove&&a.push({Header:this.props.t("remove"),accessor:"remove",Cell:this.renderCheckboxRemovable,filterable:!1}),a.push({Header:"",className:"table_last_col",filterable:!1,sortable:!1,resizable:!1,width:30});var i=(0,p.Z)(N.Z,{placement:"bottom",tooltip:this.props.disableDownload?this.props.t("download-disabled"):this.props.t("download-data")},void 0,(0,p.Z)(C.Z,{"aria-label":this.props.t("download-data"),className:"save-button",variant:"light",onClick:this.toggleSaveModal,disabled:this.props.disableDownload},void 0,At||(At=(0,p.Z)("i",{className:"fas fa-download"}))));return(0,p.Z)(f.Fragment,{},void 0,(0,p.Z)("div",{className:"data-table-wrapper",id:this.id,style:this.props.style},void 0,(0,p.Z)("div",{className:"data-table-header-wrapper"},void 0,(0,p.Z)(N.Z,{placement:"bottom",tooltip:this.props.t("open-description"),show:o.info.length>0},void 0,(0,p.Z)(C.Z,{variant:"light",disabled:0===o.info.length,onClick:this.showInfo,className:"data-table-title-button",style:{cursor:o.info.length>0?"pointer":"inherit"}},void 0,o.name?o.name:this.props.t("data"))),i,(0,p.Z)(bt,{id:this.id,session:this.context,onTutorialCompletion:this.props.onTutorialCompletion,t:this.props.t})),(0,p.Z)(b.Z,{id:this.id,data:n,columns:a,showPagination:!0,sortable:!0,resizable:!0,filterable:this.props.filterable,filtered:this.state.filtered,sorted:this.state.sorted,showPageSizeOptions:!1,defaultPageSize:50,onFilteredChange:this.handleFilterChange,onSortedChange:this.handleSortedChange,style:this.props.style,getTableProps:this.handleTableProps,getTrProps:this.handleTrProps,previousText:this.props.t("previous"),nextText:this.props.t("next"),loadingText:this.props.t("loading"),noDataText:this.props.t("no-rows-found"),pageText:this.props.t("page"),ofText:this.props.t("of"),rowsText:this.props.t("rows")},void 0,(function(e,a,r){var i=e.sortedData.length;return f.createElement("div",{ref:function(e){e&&(t.table=e,t.frozenElems=(0,h.findDOMNode)(t.table).getElementsByClassName("frozen"))}},(0,p.Z)(O.Z,{className:"data-table-header-toolbar"},void 0,o.variables?(0,p.Z)(N.Z,{placement:"right",tooltip:t.props.t("variable-descriptions-tooltip")},void 0,(0,p.Z)(C.Z,{onClick:t.showDescriptions,variant:"light",size:"xsmall",className:"variable-descriptions-button"},void 0,t.props.t("variable-descriptions"))):null,i!==n.length||t.state.sorted&&t.state.sorted.length>0?(0,p.Z)(N.Z,{placement:"left",tooltip:t.props.t("reset-display-tooltip")},void 0,(0,p.Z)(C.Z,{onClick:t.reset,variant:"light",size:"xsmall",className:"reset-button"},void 0,t.props.t("reset-display"))):null),a(),(0,p.Z)("label",{className:"label-number-rows"},void 0,(0,p.Z)("i",{},void 0,t.props.t("number-rows"),": ",i," (",t.props.t("total"),": ",n.length,")")))}))),r,this.state.showSaveModal?(0,p.Z)(S.Z,{show:this.state.showSaveModal,onHide:this.toggleSaveModal},void 0,(0,p.Z)(S.Z.Header,{closeButton:!0},void 0,(0,p.Z)(S.Z.Title,{},void 0,this.props.t("download-data"))),(0,p.Z)(S.Z.Body,{},void 0,this.props.t("download-data-body")),(0,p.Z)(S.Z.Footer,{},void 0,(0,p.Z)(C.Z,{onClick:this.handleSaveCSV},void 0,this.props.t("save-csv")),(0,p.Z)(C.Z,{onClick:this.handleSaveJSON},void 0,this.props.t("save-json")))):null)}}],[{key:"getDerivedStateFromProps",value:function(t,e){Kt("Generating derived state...");var n=null;if(t.data!==e.data){var o,a;Kt("Data is new...");var r=q()(t.data);if(r||G()(t.data)){if(r?(o=t.data.slice(),a=tt()(o[0])):(o=oe(t.data),a=tt()(t.data)),Kt("Created a `rows` array of length: "+o.length),B()(a,"id"))for(var i=0;i<o.length;i++)t.showRemove&&!o[i].remove&&(o[i].remove=!1);else{for(var l=0;l<o.length;l++)t.showRemove&&!o[l].remove&&(o[l].remove=!1),o[l].id=l+1;a.push("id")}(n={}).rows=o,n.keys=a,n.filtered=t.filters,n.showTooltip=!1,n.data=t.data,n.columns=function(t,e){Kt("Create columns...");var n=t.t;return e.keys.filter((function(t){return"id"!==t})).map((function(o,a){var r,i=o,l=t.dataInfo&&t.dataInfo.variables&&t.dataInfo.variables[o],s={id:o,accessor:function(t){return X()(t[o])?"NA":String(t[o])},minWidth:l?125:150};if(l?i=(0,p.Z)(It,{title:o,tooltip:t.dataInfo.variables[o]}):t.deletable&&!B()(t.undeletableVars,o)&&(i=(0,p.Z)("div",{style:{backgroundColor:"papayawhip"}},void 0,(0,p.Z)(N.Z,{placement:"left",tooltip:n("rename-variable")},void 0,(0,p.Z)("span",{},void 0,(0,p.Z)("input",{type:"text",className:"header-text-input",style:{width:"".concat(o.length+1,"ch")},defaultValue:o,onBlur:function(e){var n=e.target.value;document.getElementById("header-".concat(o)).setAttribute("draggable",!0),n.length>0&&o!==n&&t.onColumnNameChange(o,n)},onMouseEnter:function(t){document.getElementById("header-".concat(o)).setAttribute("draggable",!1)},onChange:re,onClick:function(t){t.stopPropagation()}}))),(0,p.Z)(N.Z,{placement:"left",tooltip:n("remove-variable")},void 0,(0,p.Z)("button",{"aria-label":n("remove-variable"),className:"fa fa-times delete-button",onClick:function(e){e.stopPropagation(),t.onColumnDelete(o)}})))),s.Header=i,q()(t.data)){r=new Array(e.rows.length);for(var u=0;u<e.rows.length;u++)r[u]=t.data[u][o]}else r=t.data[o].slice();if(t.filterable){var c,d=!1;if(D()(r))d=!0,c=r;else{r=r.filter((function(t){return!X()(t)&&""!==t&&"NA"!==t})),c=w()(r);var h=t.filters.filter((function(t){return t.id===o}))[0];d=!!(h&&(0,Y.isPrimitive)(h.value.min)&&(0,Y.isPrimitive)(h.value.max))||A()(r)&&c.length>2}d?(s.filterMethod=ee,s.sortMethod=Xt,s.style={textAlign:"right"},s.Filter=function(t){var a=t.filter,r=t.onChange,i=F()((0,nt.Z)(c)),l=j()((0,et.Z)(c)),s={max:i,min:l};return(0,p.Z)(zt,{ariaLabelledby:"header-".concat(o),ariaControls:e.id,defaultValue:a?a.value:s,onChange:r,maxValue:i,minValue:l,t:n})}):c.length<=50?(c=c.map((function(t){return String(t)})).sort($t),T()(c[0])&&(s.style={textAlign:"right"}),s.filterMethod=ne,s.sortMethod=$t,s.Filter=function(t){var e=t.filter,o=t.onChange;return(0,p.Z)(ut.Z,{onChange:function(t){t&&t.length>0&&c.length>3?s.minWidth=300:s.minWidth=125,o(t)},style:{width:"100%"},value:e?e.value:null,searchable:!1,options:c,menuPlacement:"auto",multi:!0,placeholder:n("show-all"),components:{DropdownIndicator:ae,MultiValueLabel:function(t){var e=function(){o(c.filter((function(e){return e!==t.children})))};return(0,p.Z)(N.Z,{tooltip:n("select-others"),placement:"bottom"},void 0,(0,p.Z)("span",{role:"button",tabIndex:0,onClick:e,onKeyPress:e,onMouseDown:function(t){t.preventDefault(),t.stopPropagation()},style:{cursor:"cursor"}},void 0,f.createElement(ct.c.MultiValueLabel,t)))}},escapeClearsValue:!0,closeMenuOnSelect:c.length<=2,menuPortalTarget:document.body,styles:{menuPortal:function(t){return Jt(Jt({},t),{},{zIndex:9999})}}})}):(s.filterMethod=te,s.sortMethod=$t)}return s}))}(t,n)}}return t.dataInfo&&e.dataInfo&&t.dataInfo.name!==e.dataInfo.name&&(Kt("Data information has changed..."),n||(n={}),n.dataInfo={info:t.dataInfo.info||[],name:t.dataInfo.name||"",variables:t.dataInfo.variables||null,showOnStartup:t.dataInfo.showOnStartup||null}),n}}]),o}(f.Component);ie.defaultProps={dataInfo:{info:[],name:"",variables:null,showOnStartup:!1},deletable:!1,undeletableVars:[],filterable:!0,editable:[],getTrProps:void 0,onColumnDrag:function(){},onColumnDelete:function(){},onColumnNameChange:function(){},onClickRemove:function(){},onEdit:function(){},onFilteredChange:function(){},onTutorialCompletion:function(){},filters:[],showRemove:!1,showIdColumn:!0,disableDownload:!1,className:"",style:{}},ie.contextType=rt.Z;var le=(0,g.Z)("data-table")((0,Ut.W)(ie))},42720:function(t,e,n){"use strict";n(59357),n(6059);var o=/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i;function a(t){setImmediate((function(){throw t}),0)}function r(t){return o.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}var i=function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e,n=t.document,o=!1;n&&n.createElementNS&&(e=n.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in e);var i=/constructor/i.test(t.HTMLElement)||t.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent),s=t.setImmediate||t.setTimeout,u=p.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=r(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=null,u.onwritestart=null,u.onprogress=null,u.onwrite=null,u.onabort=null,u.onerror=null,u.onwriteend=null,function(t,e,n){return new p(t,e||t.name||"download",n)})}function c(){return t.URL||t.webkitURL||t}function d(t){setTimeout((function(){"string"==typeof t?c().revokeObjectURL(t):t.remove()}),4e4)}function p(n,u,p){p||(n=r(n));var f,h=this,v="application/octet-stream"===n.type;function m(){!function(t,e,n){for(var o=(e=[].concat(e)).length;o--;){var r=t["on"+e[o]];if("function"==typeof r)try{r.call(t,n||t)}catch(i){a(i)}}}(h,"writestart progress write writeend".split(" "))}if(h.readyState=h.INIT,o)return f=c().createObjectURL(n),void s((function(){var t,n;e.href=f,e.download=u,t=e,n=new MouseEvent("click"),t.dispatchEvent(n),m(),d(f),h.readyState=h.DONE}),0);!function(){if((l||v&&i)&&t.FileReader){var e=new FileReader;return e.onloadend=function(){var n=l?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(n,"_blank")||(t.location.href=n),n=void 0,h.readyState=h.DONE,m()},e.readAsDataURL(n),void(h.readyState=h.INIT)}f||(f=c().createObjectURL(n)),v?t.location.href=f:t.open(f,"_blank")||(t.location.href=f),h.readyState=h.DONE,m(),d(f)}()}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);e.Z=i}}]);