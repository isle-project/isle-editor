/*! For license information please see MultipleChoiceSurvey.a8214a21.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3962],{569904:function(e,t,n){var r=n(867855),l=n(202784),a=n(213980),o=n.n(a),s=Object.defineProperty,u=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=function(e,t,n){return t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},d=function(e){var t=e,n=t.children,a=function(e,t){var n={};for(var l in e)i.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&u)for(var a,o=(0,r.Z)(u(e));!(a=o()).done;)l=a.value,t.indexOf(l)<0&&c.call(e,l)&&(n[l]=e[l]);return n}(t,["children"]);return l.createElement("div",function(e,t){for(var n in t||(t={}))i.call(t,n)&&f(e,n,t[n]);if(u)for(var l,a=(0,r.Z)(u(t));!(l=a()).done;)n=l.value,c.call(t,n)&&f(e,n,t[n]);return e}({},a),n)};d.defaultProps={className:"",style:{}},d.propTypes={className:o().string,style:o().object},t.Z=d},281252:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(202784),l=n(213980),a=n.n(l),o=n(376699),s=n(312594),u=n(458264),i=n(471275),c=n(188304),f=n(790817),d=n(690299),m=n.n(d),v=n(308669),p=n.n(v),b=n(839916),y=n.n(b),w=n(24551),Z=n(584443),g=n(262600),E=n(569904),h=n(750707),x=n(893316),C=n(267682),k=n(382617),N=n(615558),$=n(912860),O=function(e){return e.disabled?r.createElement($.Z,null,e.answerContent):r.createElement($.Z,{onClick:e.onAnswerSelected,active:e.active},e.answerContent)};O.propTypes={active:a().bool.isRequired,answerContent:a().oneOfType([a().element,a().string]).isRequired,disabled:a().bool.isRequired,onAnswerSelected:a().func.isRequired};var P=O,S=m()("isle:multiple-choice-survey"),j=(0,w.Z)("multiple-choice-survey"),A=function(e){var t,n=(0,r.useRef)(e.id||j(e)),l=(0,o.$)("surveys").t,a=e.allowMultipleAnswers,d=e.anonymous,m=e.answers,v=e.multipleAnswers,b=e.question,w=e.onSubmit,N=(0,r.useContext)(C.Z),$=(0,r.useState)(!1),O=$[0],A=$[1],R=(0,r.useState)(!1),I=R[0],q=R[1],K=(0,r.useState)(!1),z=K[0],T=K[1],D=(0,r.useState)(v?new Array(m.length):null),F=D[0],B=D[1],L=(0,r.useState)({counts:[],freqTable:null}),M=L[0],G=L[1],U=(0,r.useCallback)((function(){N.log({id:n.current,type:k.ys,value:F,anonymous:d},"members"),a||A(!0),N.addNotification({title:l("submitted"),message:l("answer-submitted"),level:"success"}),w(F)}),[F,a,d,N,w,l]),W=(0,r.useCallback)((function(e){S("MultipleChoiceSurvey is receiving data: "+JSON.stringify(e));var t=y()(e),n=t.map((function(e){return{x:m[e[0]],y:e[1]}})),a=r.createElement("table",{className:"table table-bordered"},r.createElement("tr",null,r.createElement("th",null,l("category")),r.createElement("th",null,l("count")),r.createElement("th",null,l("relative-frequency"))),t.map((function(e,t){return r.createElement("tr",{key:t},e.map((function(e,n){return 0===n?e=m[e]:2===n&&(e=e.toFixed(3)),r.createElement("td",{key:t+":"+n},e)})))})));G({counts:n,freqTable:a})}),[m,l]),J=(0,r.useCallback)((function(e,t){return r.createElement(P,{key:t,no:t,answerContent:e,active:F===t,submitted:O,onAnswerSelected:function(){O||(B(t),T(!0))}})}),[F,O]),V=(0,r.useCallback)((function(e,t){return r.createElement(P,{key:e,no:t,answerContent:e,active:F[t],submitted:O,onAnswerSelected:function(){if(!O){var e=F.slice();e[t]=!e[t],B(e),T(!0)}}})}),[F,O]);return t=v?O:O||!z,r.createElement(g.Z,{id:n.current,style:e.style},r.createElement(i.Z,null,r.createElement(u.Z,null,r.createElement(s.Z,{md:6},r.createElement(f.Z,{body:!0,className:"multiple-choice-survey"},r.createElement("p",null,r.createElement("label",null,b),I?r.createElement("i",{className:"fas fa-lock",style:{float:"right"}}):null),v?r.createElement("span",null,l("multiple-answers")):null,r.createElement(c.Z,{fill:!0},v?m.map(V):m.map(J)),r.createElement(x.Z,{id:n.current,disabled:t,onClick:U,onPaused:q},l(O?"submitted":"submit")))),r.createElement(s.Z,{md:6},r.createElement(h.Z,{for:[n.current],onData:W}),p()(M.counts)?r.createElement("h3",null,l("no-responses-yet")):r.createElement(Z.Z,{data:[{x:M.counts.map((function(e){return e.x})),y:M.counts.map((function(e){return e.y})),type:"bar"}],layout:{width:400,height:300},removeButtons:!0}),r.createElement("p",null,M.freqTable)))),r.createElement(E.Z,{buttonLabel:l("responses"),id:n.current,data:{type:"factor",levels:e.answers},info:k.ys}))};A.defaultProps={question:"",allowMultipleAnswers:!1,anonymous:!1,answers:[],multipleAnswers:!1,style:{},onSubmit:function(){}},A.propTypes={question:a().oneOfType([a().string,a().node]),allowMultipleAnswers:a().bool,anonymous:a().bool,answers:a().array,multipleAnswers:a().bool,style:a().object,onSubmit:a().func};var R=(0,N.W)(A)},893316:function(e,t,n){var r=n(202784),l=n(213980),a=n.n(l),o=n(376699),s=n(822736),u=n(770561),i=n(476709),c=n(267682),f=n(382617),d=n(10206),m=function(e){var t=e.children,n=e.disabled,l=e.id,a=e.size,m=e.variant,v=e.onClick,p=e.onPaused,b=(0,r.useState)(!1),y=b[0],w=b[1],Z=(0,o.$)("general").t,g=(0,r.useContext)(c.Z);(0,r.useEffect)((function(){var e;return g&&(e=g.subscribe((function(e,t){e===d.Wh&&t.id===l+"-stoppable-button"&&(t.type===f.rz?(w(!0),p(!0)):t.type===f.nt&&(w(!1),p(!1)))}))),function(){e&&e()}}),[l,g,p]);var E=(0,r.useCallback)((function(){g.log({id:l+"-stoppable-button",type:y?f.nt:f.rz,value:!0},"members"),w(!y),p&&p(!y)}),[l,y,g,p]);return l?r.createElement("div",{className:"d-grid gap-2"},r.createElement(u.Z,{className:"stoppable-button",size:a,variant:m,onClick:v,disabled:n||y},t),r.createElement(i.Z,{owner:!0,banner:null},r.createElement(u.Z,{size:a,variant:y?"warning":"secondary",onClick:E},y?r.createElement("span",null,Z("resume")):r.createElement("span",null,Z("pause"))))):r.createElement(s.Z,{variant:"danger"},Z("supply-component-id"))};m.defaultProps={size:"small",variant:"success"},m.propTypes={size:a().oneOf(["small","sm","large","lg"]),variant:a().string},t.Z=m},418919:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(202784);function l(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}},303428:function(e,t,n){n.d(t,{PB:function(){return r},$F:function(){return l}});function r(e){return`data-rr-ui-${e}`}function l(e){return`rrUi${e}`}},853154:function(e,t,n){var r=n(658092),l=n(202784),a=n(418919),o=n(225879),s=n(699311),u=n(465590),i=n(590593),c=n(303428),f=n(621528),d=n(552322);const m=["as","onSelect","activeKey","role","onKeyDown"];const v=()=>{},p=(0,c.PB)("event-key"),b=l.forwardRef(((e,t)=>{let{as:n="div",onSelect:f,activeKey:b,role:y,onKeyDown:w}=e,Z=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,m);const g=(0,a.Z)(),E=(0,l.useRef)(!1),h=(0,l.useContext)(u.Z),x=(0,l.useContext)(i.Z);let C,k;x&&(y=y||"tablist",b=x.activeKey,C=x.getControlledId,k=x.getControllerId);const N=(0,l.useRef)(null),$=e=>{const t=N.current;if(!t)return null;const n=(0,r.Z)(t,`[${p}]:not([aria-disabled=true])`),l=t.querySelector("[aria-selected=true]");if(!l||l!==document.activeElement)return null;const a=n.indexOf(l);if(-1===a)return null;let o=a+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},O=(e,t)=>{null!=e&&(null==f||f(e,t),null==h||h(e,t))};(0,l.useEffect)((()=>{if(N.current&&E.current){const e=N.current.querySelector(`[${p}][aria-selected=true]`);null==e||e.focus()}E.current=!1}));const P=(0,o.Z)(t,N);return(0,d.jsx)(u.Z.Provider,{value:O,children:(0,d.jsx)(s.Z.Provider,{value:{role:y,activeKey:(0,u.h)(b),getControlledId:C||v,getControllerId:k||v},children:(0,d.jsx)(n,Object.assign({},Z,{onKeyDown:e=>{if(null==w||w(e),!x)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=$(-1);break;case"ArrowRight":case"ArrowDown":t=$(1);break;default:return}t&&(e.preventDefault(),O(t.dataset[(0,c.$F)("EventKey")]||null,e),E.current=!0,g())},ref:P,role:y}))})})}));b.displayName="Nav",t.Z=Object.assign(b,{Item:f.Z})},699311:function(e,t,n){const r=n(202784).createContext(null);r.displayName="NavContext",t.Z=r},621528:function(e,t,n){n.d(t,{v:function(){return d}});var r=n(202784),l=n(427452),a=n(699311),o=n(465590),s=n(247830),u=n(303428),i=n(590593),c=n(552322);const f=["as","active","eventKey"];function d({key:e,onClick:t,active:n,id:s,role:c,disabled:f}){const d=(0,r.useContext)(o.Z),m=(0,r.useContext)(a.Z),v=(0,r.useContext)(i.Z);let p=n;const b={role:c};if(m){c||"tablist"!==m.role||(b.role="tab");const t=m.getControllerId(null!=e?e:null),r=m.getControlledId(null!=e?e:null);b[(0,u.PB)("event-key")]=e,b.id=t||s,p=null==n&&null!=e?m.activeKey===e:n,!p&&(null!=v&&v.unmountOnExit||null!=v&&v.mountOnEnter)||(b["aria-controls"]=r)}return"tab"===b.role&&(f&&(b.tabIndex=-1,b["aria-disabled"]=!0),p?b["aria-selected"]=p:b.tabIndex=-1),b.onClick=(0,l.Z)((n=>{f||(null==t||t(n),null!=e&&d&&!n.isPropagationStopped()&&d(e,n))})),[b,{isActive:p}]}const m=r.forwardRef(((e,t)=>{let{as:n=s.ZP,active:r,eventKey:l}=e,a=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,f);const[i,m]=d(Object.assign({key:(0,o.h)(l,a.href),active:r},a));return i[(0,u.PB)("active")]=m.isActive,(0,c.jsx)(n,Object.assign({},a,i,{ref:t}))}));m.displayName="NavItem",t.Z=m},465590:function(e,t,n){n.d(t,{h:function(){return l}});const r=n(202784).createContext(null),l=(e,t=null)=>null!=e?String(e):t||null;t.Z=r},590593:function(e,t,n){const r=n(202784).createContext(null);t.Z=r},839916:function(e,t,n){var r=n(669710);e.exports=r},669710:function(e,t,n){var r=n(571388),l=n(552770);e.exports=function(e){var t,n,a,o,s,u,i;if(!r(e))throw new TypeError("invalid argument. First argument must be a collection. Value: `"+e+"`.");for(t=0,n=[],o=[],a=e.length,u=0;u<a;u++)s=e[u],t+=1,-1===(i=l(n,s))?(n.push(s),o.push([s,1,0])):o[i][1]+=1;for(a=o.length,u=0;u<a;u++)o[u][2]=o[u][1]/t;return o}},658092:function(e,t,n){n.d(t,{Z:function(){return l}});var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function l(e,t){return r(e.querySelectorAll(t))}},770561:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),o=n(247830),s=n(429658),u=n(552322);const i=a.forwardRef((({as:e,bsPrefix:t,variant:n,size:r,active:a,className:i,...c},f)=>{const d=(0,s.vE)(t,"btn"),[m,{tagName:v}]=(0,o.FT)({tagName:e,...c}),p=v;return(0,u.jsx)(p,{...m,...c,ref:f,className:l()(i,d,a&&"active",n&&`${d}-${n}`,r&&`${d}-${r}`,c.href&&c.disabled&&"disabled")})}));i.displayName="Button",i.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=i},471275:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),o=n(429658),s=n(552322);const u=a.forwardRef((({bsPrefix:e,fluid:t,as:n="div",className:r,...a},u)=>{const i=(0,o.vE)(e,"container"),c="string"==typeof t?`-${t}`:"-fluid";return(0,s.jsx)(n,{ref:u,...a,className:l()(r,t?`${i}${c}`:i)})}));u.displayName="Container",u.defaultProps={fluid:!1},t.Z=u},188304:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),o=(n(645982),n(593759)),s=n(853154),u=n(429658),i=n(912860),c=n(552322);const f=a.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:a,horizontal:i,numbered:f,as:d="div",...m}=(0,o.Ch)(e,{activeKey:"onSelect"}),v=(0,u.vE)(r,"list-group");let p;return i&&(p=!0===i?"horizontal":`horizontal-${i}`),(0,c.jsx)(s.Z,{ref:t,...m,as:d,className:l()(n,v,a&&`${v}-${a}`,p&&`${v}-${p}`,f&&`${v}-numbered`)})}));f.displayName="ListGroup",t.Z=Object.assign(f,{Item:i.Z})},912860:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),o=n(427452),s=n(621528),u=n(465590),i=n(429658),c=n(552322);const f=a.forwardRef((({bsPrefix:e,active:t,disabled:n,eventKey:r,className:a,variant:f,action:d,as:m,...v},p)=>{e=(0,i.vE)(e,"list-group-item");const[b,y]=(0,s.v)({key:(0,u.h)(r,v.href),active:t,...v}),w=(0,o.Z)((e=>{if(n)return e.preventDefault(),void e.stopPropagation();b.onClick(e)}));n&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0);const Z=m||(d?v.href?"a":"button":"div");return(0,c.jsx)(Z,{ref:p,...v,...b,onClick:w,className:l()(a,e,y.isActive&&"active",n&&"disabled",f&&`${e}-${f}`,d&&`${e}-action`)})}));f.displayName="ListGroupItem",t.Z=f},458264:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),o=n(429658),s=n(552322);const u=a.forwardRef((({bsPrefix:e,className:t,as:n="div",...r},a)=>{const u=(0,o.vE)(e,"row"),i=(0,o.pi)(),c=`${u}-cols`,f=[];return i.forEach((e=>{const t=r[e];let n;delete r[e],null!=t&&"object"==typeof t?({cols:n}=t):n=t;const l="xs"!==e?`-${e}`:"";null!=n&&f.push(`${c}${l}-${n}`)})),(0,s.jsx)(n,{ref:a,...r,className:l()(t,u,...f)})}));u.displayName="Row",t.Z=u}}]);