"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[54588],{198364:function(e,a,l){l.r(a),l.d(a,{default:function(){return Le}});var t=l(202784),n=l(213980),c=l.n(n),r=l(690299),s=l.n(r),o=l(198),i=l(770561),u=l(471275),m=l(26266),f=l(312594),E=l(458264),d=l(72282),b=l.n(d),k=l(561647),Z=l.n(k),p=l(377174),v=l(426214),C=l(194542),N=l(691334),g=l(123103),h=l(888244),x=l.n(h),y=l(569257),S=l.n(y),w=l(302467),R=l.n(w),$=l(487890),A=l(922730),H=l(437069),F=l.n(H),O=l(798030),z=l.n(O),L=l(573012),P=l.n(L),q=l(578444),I=l.n(q),K=l(733727),T=l.n(K),j=l(719740),D=l.n(j),G=l(32593),U=l.n(G),B=l(567906),J=l.n(B),M=l(190465),Q=l.n(M),V=l(211304),W=l.n(V),X=l(932895),Y=l.n(X),_=l(695688),ee=l.n(_),ae=l(655406),le=l.n(ae),te=l(560390),ne=l.n(te),ce=l(270059),re=l.n(ce),se=l(479737),oe=l.n(se),ie=l(74039),ue=l.n(ie),me=l(294565),fe=l(685983),Ee=l.n(fe),de=l(987598),be=l.n(de),ke=l(394398),Ze=l.n(ke);const pe=/\d/,ve=(e,a,l,t,n)=>({name:e,precedence:a,params:t,method:n,associativity:l}),Ce={"+":ve("+",1,"left",2,((e,a)=>e+a)),"-":ve("-",1,"left",2,((e,a)=>e-a)),"*":ve("*",2,"left",2,((e,a)=>e*a)),"/":ve("/",2,"left",2,((e,a)=>e/a)),"^":ve("^",3,"right",2,T()),"!":ve("!",4,"right",1,re())},Ne={sqrt:{params:1,method:ee()},ln:{params:1,method:z()},abs:{params:1,method:U()},inv:{params:1,method:J()},sin:{params:1,method:P()},cos:{params:1,method:I()},tan:{params:1,method:D()},exp:{params:1,method:Q()},log10:{params:1,method:le()},log2:{params:1,method:Y()},choose:{params:2,method:ne()},log:{params:2,method:W()}},ge={pi:be(),e:Ze()},he=F()(Ne),xe=F()(Ce),ye=["sin","cos","tan"];function Se(e){return-1!==xe.indexOf(e)}function we(e){return-1!==he.indexOf(e)}function Re(e){return void 0!==ge[e]}function $e(e,a){return!(!Se(e)||!Se(a))&&(a=Ce[a],"left"===(e=Ce[e]).associativity&&e.precedence<=a.precedence||"right"===e.associativity&&e.precedence<a.precedence)}var Ae=function(e,a){if(e=function(e){let a=[],l=Ee()();for(let t=0;t<e.length;t++){let n=e[t];if(Re(n))a.push(String(ge[n]));else if(we(n))l.push(n);else if(Se(n)){let e=n,t=l.first();for(;we(t)||$e(e,t);)a.push(t),l.pop(),t=l.first();l.push(e)}else if("("===n)l.push(n);else if(")"===n){for(;"("!==l.first();){if(void 0===l.first())return A.a.t("calculator:too-many-closing-parens");a.push(l.pop())}l.pop()}else if(pe.test(n))a.push(n);else if(" "!==n)return A.a.t("calculator:malformed-expression")}for(;l.length;){let e=l.pop();if("("===e)return A.a.t("Calculator:too-many-opening-parens");a.push(e)}return a}(e),(0,me.isPrimitive)(e))return e;let l=[];for(let t=0,n=e.length;t<n;t++){const n=Ce[e[t]]||Ne[e[t]];if(n)if(a&&ye.includes(e[t])){const e=oe().apply(null,l.splice(-n.params));let a=n.method(e);a=ue()(a,-15),l.push(a)}else l.push(n.method.apply(null,l.splice(-n.params)));else l.push(parseFloat(e[t]))}return l[0]};const He=s()("isle:calculator"),Fe=/([() +\-/*^!])/,Oe=/[+\-/*^!]/,ze=e=>{He("Rendering calculator...");const{t:a}=e,{logAction:l}=(0,$.G)("CALCULATOR",e),n=(0,t.useContext)(g.Z);let c=t.createRef();const[r,s]=(0,t.useState)("0"),[o,d]=(0,t.useState)(!1),[k,h]=(0,t.useState)(!1),[y,w]=(0,t.useState)(0),A=e=>{s(e.target.value)},H=()=>{d(!o)},F=()=>{"0"===r?w(0):s("0")},O=()=>{1===r.length?s("0"):s(r.substring(0,r.length-1))},z=e=>()=>{if("0"===r)s(e);else{const a=c.current.selectionStart;s(r.substring(0,a)+e+r.substring(a))}c.current.focus()},L=e=>()=>{if("0"===r||y===r)s(e),c.current.focus();else{let a=c.current.selectionStart;s(r.substring(0,a)+e+r.substring(a)),a+=1,c.current.setSelectionRange(a,a),c.current.focus()}},P=e=>()=>{if("0"===r){s(e+"()");const a=r.length-1;c.current.setSelectionRange(a,a)}else if(Oe.test(r)&&!S()(r,"-")){s(r+" "+e+"()");const a=r.length-1;c.current.setSelectionRange(a,a)}else{s(e+"("+r+")");const a=r.length;c.current.setSelectionRange(a,a)}c.current.focus()},q=()=>{n.addNotification({title:a("copied"),message:a("copied-message"),level:"success",position:"tr"})},I=()=>{h(!k)},K=a=>{"calculator-panel"!==a.target.id&&"calculator-panel-full"!==a.target.id||e.onHide()},T=()=>{if(!r)return;x()(r)&&w(r),l(N.u9,r);let e=R()(r,/\) *\(/g,") * (");e=R()(e,/\) *([a-z0-9])/g,") * $1"),e=R()(e,/((?:\s|^)-?\d+|!)([a-z][^\d-]|\()/g,"$1 * $2"),e=R()(e,/([-\d.])e(-?\d+)/g,"$1 * 10^$2"),e=R()(e,/(^|[(*/:^!+]) *-([^+\-/*^!]+)/g,"$1 (0-$2) "),e=R()(e,/(^|[(*/:^!+]) *\+/g,"$1 ");let a=e.split(Fe);a=a.filter((e=>""!==e));const t=String(Ae(a,k));s(t),w(t),c.current.focus()},j=e=>{13===e.charCode&&T()};return e.show?o?t.createElement(p.Z,{bounds:"#Lesson",cancel:"#calc-text-area",onEscape:K},t.createElement(v.Z,{id:"calculator-panel-full",tabIndex:0,role:"button",header:a("calculator"),onHide:e.onHide,minimizable:!0,style:e.style,className:e.className,trapFocus:!0},t.createElement(u.Z,{className:"desaturated"},t.createElement(m.Z,{"aria-label":a("calculator-input"),autoFocus:!0,type:"text",id:"calc-text-area",value:String(r),onChange:A,ref:c,onKeyPress:j,readOnly:Z()}),t.createElement("p",null,a("answer")," = ",y),t.createElement(E.Z,null,t.createElement(f.Z,null,t.createElement(E.Z,null,t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("inv")},"x",t.createElement("sup",null,"-1")),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("abs")},"|x|"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z(" choose ")},t.createElement(C.Z,{style:{color:"white"},raw:"\\tbinom{n}{k}"})),t.createElement(i.Z,{variant:"light",className:"calculator-btn-full",onClick:z("(")},"("),t.createElement(i.Z,{variant:"light",className:"calculator-btn-full",onClick:z(")")},")"),t.createElement(b(),{text:y},t.createElement(i.Z,{variant:"warning",className:"calculator-btn-full",onClick:q},a("copy"))),t.createElement(i.Z,{variant:"warning",className:"calculator-btn-full",onClick:H},a("basic"))),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("sin")},"sin(x)"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("exp")},"e",t.createElement("sup",null,"x")),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("sqrt")},"\u221a"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("7")},"7"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("8")},"8"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("9")},"9"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("/")},"\xf7")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("cos")},"cos(x)"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("ln")},"ln(x)"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("^(1/")},t.createElement(C.Z,{style:{color:"white"},raw:"\\sqrt[n]{}"})),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("4")},"4"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("5")},"5"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("6")},"6"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("*")},"\xd7")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("tan")},"tan(x)"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:P("log10")},"log",t.createElement("sub",null,"10"),"(x)"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("^")},"x",t.createElement("sup",null,"y")),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("1")},"1"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("2")},"2"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("3")},"3"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("-")},"-")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("pi")},"\u03c0"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z(" log ")},"log",t.createElement("sub",null,"b"),"(x)"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("!")},"x!"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L(String(y))},"Ans"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:L("0")},"0"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-full",onClick:z(".")},"."),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("+")},"+")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:I},k?"Deg":"Rad"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-full",onClick:z("e")},"e"),t.createElement(i.Z,{variant:"danger",className:"calculator-btn-full",onClick:O},"CE"),t.createElement(i.Z,{variant:"danger",className:"calculator-btn-full",onClick:F},"AC"),t.createElement(i.Z,{variant:"success",className:"solve-button",onClick:T},"="))))))):t.createElement(p.Z,{bounds:"#Lesson",cancel:"#calc-text-area",onEscape:K},t.createElement(v.Z,{id:"calculator-panel",tabIndex:0,role:"button",header:a("calculator"),onHide:e.onHide,style:e.style,className:e.className,minimizable:!0,trapFocus:!0},t.createElement(u.Z,{className:"desaturated"},t.createElement(m.Z,{autoFocus:!0,type:"text",id:"calc-text-area",value:String(r),onChange:A,ref:c,onKeyPress:j,readOnly:Z()}),t.createElement("p",null,a("answer")," = ",y),t.createElement(E.Z,null,t.createElement(f.Z,null,t.createElement(E.Z,null,t.createElement(i.Z,{variant:"light",className:"calculator-btn-small",onClick:z("(")},"("),t.createElement(i.Z,{variant:"light",className:"calculator-btn-small",onClick:z(")")},")"),t.createElement(b(),{text:y},t.createElement(i.Z,{variant:"warning",className:"calculator-btn-small",onClick:q},a("copy"))),t.createElement(i.Z,{variant:"warning",disabled:!e.expandable,className:"calculator-btn-small",onClick:H},a("expand"))),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("7")},"7"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("8")},"8"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("9")},"9"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-small",onClick:z("/")},"\xf7")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("4")},"4"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("5")},"5"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("6")},"6"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-small",onClick:z("*")},"\xd7")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("1")},"1"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("2")},"2"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("3")},"3"),t.createElement(i.Z,{variant:"info",className:"calculator-btn-small",onClick:z("-")},"-")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L(String(y))},"Ans"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:L("0")},"0"),t.createElement(i.Z,{variant:"dark",className:"calculator-btn-small",onClick:z(".")},"."),t.createElement(i.Z,{variant:"info",className:"calculator-btn-small",onClick:z("+")},"+")),t.createElement(E.Z,null,t.createElement(i.Z,{variant:"danger",className:"calculator-btn-small",onClick:O},"CE"),t.createElement(i.Z,{variant:"danger",className:"calculator-btn-small",onClick:F},"AC"),t.createElement(i.Z,{variant:"success",className:"calculator-half-btn",onClick:T},"="))))))):null};ze.defaultProps={expandable:!0,show:!0,className:"",style:{},onHide:null},ze.propTypes={expandable:c().bool,show:c().bool,className:c().string,style:c().object,onHide:c().func};var Le=(0,o.Z)("internal/toolbar/calculator")(ze)}}]);