"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5956],{134656:function(e,t,n){var i=(0,n(708717).Z)((function(){return n.e(112).then(n.bind(n,643549))}));t.Z=i},569904:function(e,t,n){var i=n(867855),s=n(202784),r=n(213980),o=n.n(r),a=Object.defineProperty,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,m=function(e,t,n){return t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},b=function(e){var t=e,n=t.children,r=function(e,t){var n={};for(var s in e)l.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&u)for(var r,o=(0,i.Z)(u(e));!(r=o()).done;)s=r.value,t.indexOf(s)<0&&c.call(e,s)&&(n[s]=e[s]);return n}(t,["children"]);return s.createElement("div",function(e,t){for(var n in t||(t={}))l.call(t,n)&&m(e,n,t[n]);if(u)for(var s,r=(0,i.Z)(u(t));!(s=r()).done;)n=s.value,c.call(t,n)&&m(e,n,t[n]);return e}({},r),n)};b.defaultProps={className:"",style:{}},b.propTypes={className:o().string,style:o().object},t.Z=b},615697:function(e,t,n){var i=(0,n(708717).Z)((function(){return n.e(6131).then(n.bind(n,102149))}));t.Z=i},870717:function(e,t,n){var i=(0,n(708717).Z)((function(){return Promise.all([n.e(532),n.e(4507)]).then(n.bind(n,552767))}));t.Z=i},685220:function(e,t,n){n.r(t);var i=n(497326),s=n(894578),r=n(867855),o=n(202784),a=n(213980),u=n.n(a),l=n(198),c=n(482228),m=n(223444),b=n(690299),p=n.n(b),d=n(109918),f=n.n(d),h=n(395465),v=n.n(h),g=n(74039),y=n.n(g),S=n(871199),Z=n.n(S),E=n(309765),N=n.n(E),O=n(588703),k=n.n(O),w=n(24551),P=n(262600),T=n(864892),q=n(615697),x=n(569904),C=n(195065),j=n(134656),F=n(269891),A=n(870717),L=n(267682),B=n(23228),H=n(10206),I=n(382617),U=n(615558),R=Object.defineProperty,V=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,M=function(e,t,n){return t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_=function(e,t,n){return M(e,"symbol"!=typeof t?t+"":t,n),n},z=(0,w.Z)("number-question"),Q=p()("isle:number-question");function W(e,t){if(k()(t)){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}return e===t}function G(e,t,n){if(e=y()(e,-n),k()(t)){for(var i=0;i<t.length;i++)if(e===y()(t[i],-n))return!0;return!1}return e===y()(t,-n)}var J=function(e){function t(t,n){var s;s=e.call(this,t)||this,_((0,i.Z)(s),"handleChange",(function(e){Q("Handle change of input field..."),s.setState({value:e}),s.props.onChange(e)})),_((0,i.Z)(s),"handleKeyPress",(function(e){13===e.charCode&&(document&&document.activeElement&&(Q("Trigger blur event..."),document.activeElement.blur()),setTimeout(s.submitHandler,50))})),_((0,i.Z)(s),"sendSubmitNotification",(function(e){var t=s.context;if(Z()(s.props.solution))t.addNotification({title:s.state.submitted?"Answer re-submitted.":"Answer submitted.",message:s.state.submitted?s.props.t("resubmission-message"):s.props.t("submission-message"),level:"info"});else if(s.props.provideFeedback){var n,i;if(e)n=s.props.t("submission-correct"),i="success";else{var r=s.state.numSubmissions+1;n=r<s.props.nTries?s.props.t("submission-try-again")+" ("+s.props.t("tries",{count:s.props.nTries-r})+").":s.props.t("submission-incorrect"),i="error"}t.addNotification({title:s.props.t("answer-submitted"),message:n,level:i})}else t.addNotification({title:s.state.submitted?s.props.t("answer-resubmitted"):s.props.t("answer-submitted"),message:s.state.submitted?s.props.t("resubmission-message"):s.props.t("submission-message"),level:"info"})})),_((0,i.Z)(s),"submitHandler",(function(){var e=s.context,t=parseFloat(s.state.value);if(t<s.props.min||t>s.props.max)return e.addNotification({title:s.props.t("invalid-answer"),message:s.props.t("invalid-range",{min:s.props.min,max:s.props.max}),level:"error"});var n,i=s.props,r=i.digits,o=i.solution;if(!Z()(o)){var a=parseFloat(s.state.value);n=null===r?W(a,o):G(a,o,r)}s.props.onSubmit(t,n),s.props.disableSubmitNotification||s.sendSubmitNotification(n),s.setState({submitted:!0,correct:n,numSubmissions:s.state.numSubmissions+1}),e.log({id:s.id,type:I.Sl,value:s.state.value})})),_((0,i.Z)(s),"logHint",(function(e){Q("Logging hint..."),s.context.log({id:s.id,type:I.Q7,value:e})})),s.id=t.id||z(t);var o=n.currentUserActions,a=(0,B.Z)(o,s.id,I.Sl);return s.state=function(e,t){for(var n in t||(t={}))D.call(t,n)&&M(e,n,t[n]);if(V)for(var i,s=(0,r.Z)(V(t));!(i=s()).done;)n=i.value,K.call(t,n)&&M(e,n,t[n]);return e}({value:N()(a)?a:t.defaultValue,submitted:a&&Z()(t.solution),numSubmissions:0,correct:t.digits?G(a,t.solution,t.digits):W(a,t.solution)},t),s}(0,s.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.question!==t.question||e.solution!==t.solution?{value:void 0,submitted:!1,question:e.question,solution:e.solution}:null};var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.context;t&&(this.unsubscribe=t.subscribe((function(t,n){if(t===H.u){var i=n[e.id];if(k()(i)&&(i=i.filter((function(e){return e.type===I.Sl}))).length>0){var s=i[0].value;e.setState({value:s,submitted:Z()(e.props.solution)})}}})))},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},n.renderSubmitButton=function(){var e=this.context,t=this.props,n=t.until,i=t.nTries,s=t.solution,r=t.submitAfterFeedback,a=t.t;if(n&&e.startTime>n)return o.createElement("span",{className:"title",style:{marginLeft:4}},a("question-closed"));var u=null!==s,l=!N()(this.state.value)||this.state.submitted&&u&&(this.state.numSubmissions>=i&&!r||this.state.correct);return o.createElement(T.Z,{className:"submit-button",variant:"primary",size:"sm",disabled:l,onClick:this.submitHandler,style:{marginLeft:3}},this.state.submitted&&!s?a("resubmit"):a("submit"))},n.render=function(){var e=this.props,t=e.chat,n=e.feedback,i=e.hints,s=e.hintPlacement,r=e.question,a=e.points,u=e.provideFeedback,l=e.nTries,b=e.solution,p=e.submitAfterFeedback,d=e.style,f=e.t,h=i.length,v=null!==b,g=this.state.submitted&&v&&(this.state.numSubmissions>=l&&!p||this.state.correct);return o.createElement(P.Z,{id:this.id,className:"number-question",style:d,fullscreen:!0,bodyStyle:{display:"inline-block",marginBottom:6}},r?o.createElement("p",null,o.createElement("label",null,r)):null,o.createElement("div",{className:"number-question-input-wrapper"},o.createElement(C.Z,{step:"any",legend:f("your-answer"),onChange:this.handleChange,defaultValue:this.state.value,disabled:g,inline:!0,width:90,numbersOnly:!1,onKeyPress:this.handleKeyPress,tooltip:(0,C.N)(this.props)}),this.state.submitted&&v&&u&&(this.state.correct||this.state.numSubmissions>=l)?o.createElement(m.Z,{bg:this.state.correct?"success":"danger",style:{fontSize:18}},f("solution")+":   ",k()(b)?function(e,t){var n=t("one-of");n+=e[0];for(var i=1;i<e.length-1;i++)n+=", ",n+=e[i];return n+=" "+t("or")+" ",n+e[e.length-1]}(b,f):String(b)):null),o.createElement(c.Z,{className:"number-question-toolbar"},o.createElement(x.Z,{buttonLabel:f("answers"),id:this.id,data:{type:"number",question:r,solution:b},info:"NUMBER_QUESTION_SUBMISSION",style:{marginLeft:3,marginRight:3},points:a}),h>0?o.createElement(j.Z,{onClick:this.logHint,hints:i,placement:s,style:{marginLeft:3}}):null,t?o.createElement("div",{style:{display:"inline-block",marginLeft:3}},o.createElement(q.Z,{for:this.id})):null,this.renderSubmitButton()),n?o.createElement(F.Z,{id:this.id+"_feedback",style:{marginRight:5,marginTop:-5}}):null,o.createElement(A.Z,{for:this.id,points:a}))},t}(o.Component);J.defaultProps={question:"",hints:[],hintPlacement:"top",feedback:!0,solution:null,digits:3,max:f(),min:v(),defaultValue:null,provideFeedback:!0,submitAfterFeedback:!1,nTries:1,disableSubmitNotification:!1,chat:!1,until:null,points:10,style:{},onChange:function(){},onSubmit:function(){}},J.propTypes={question:u().oneOfType([u().string,u().node]),hintPlacement:u().string,hints:u().arrayOf(u().oneOfType([u().string,u().node])),feedback:u().bool,solution:u().oneOfType([u().number,u().arrayOf(u().number)]),digits:u().number,max:u().number,min:u().number,defaultValue:u().number,provideFeedback:u().bool,submitAfterFeedback:u().bool,nTries:u().number,disableSubmitNotification:u().bool,chat:u().bool,until:u().instanceOf(Date),points:u().number,style:u().object,onChange:u().func,onSubmit:u().func},J.contextType=L.Z,t.default=(0,l.Z)("questions/number")((0,U.W)(J))},23228:function(e,t,n){var i=n(588703),s=n.n(i),r=n(830324),o=n.n(r);t.Z=function(e,t,n){if(o()(e)){var i=e[t];if(s()(i)&&(i=i.filter((function(e){return e.type===n}))).length>0)return i[0].value}return null}},482228:function(e,t,n){var i=n(72779),s=n.n(i),r=n(202784),o=n(429658),a=n(552322);const u=r.forwardRef((({bsPrefix:e,className:t,...n},i)=>{const r=(0,o.vE)(e,"btn-toolbar");return(0,a.jsx)("div",{...n,ref:i,className:s()(t,r)})}));u.displayName="ButtonToolbar",u.defaultProps={role:"toolbar"},t.Z=u}}]);