"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[79599],{667045:function(e,t,s){const n=(0,s(217431).Z)((()=>s.e(10112).then(s.bind(s,497925))));t.Z=n},956260:function(e,t,s){var n=s(202784),i=s(213980),r=s.n(i),o=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,t,s)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const m=e=>{const t=e,{children:s}=t,i=((e,t)=>{var s={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&a)for(var n of a(e))t.indexOf(n)<0&&c.call(e,n)&&(s[n]=e[n]);return s})(t,["children"]);return n.createElement("div",((e,t)=>{for(var s in t||(t={}))l.call(t,s)&&p(e,s,t[s]);if(a)for(var s of a(t))c.call(t,s)&&p(e,s,t[s]);return e})({},i),s)};m.defaultProps={className:"",style:{}},m.propTypes={className:r().string,style:r().object},t.Z=m},370420:function(e,t,s){const n=(0,s(217431).Z)((()=>s.e(96131).then(s.bind(s,66720))));t.Z=n},666226:function(e,t,s){s.r(t);var n=s(202784),i=s(690299),r=s.n(i),o=s(213980),a=s.n(o),l=s(198),c=s(23836),p=s(931776),m=s(223444),u=s(770561),h=s(458264),d=s(312594),b=s(294565),f=s(224008),g=s.n(f),v=s(437069),y=s.n(v),w=s(287013),E=s.n(w),P=s(588703),Z=s.n(P),N=s(309765),k=s(623102),O=s.n(k),x=s(417332),S=s(426214),j=s(667045),q=s(956260),C=s(370420),$=s(925188),F=s(172888),T=s(123103),I=s(691334),R=s(741082),A=Object.defineProperty,M=Object.defineProperties,L=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,D=(e,t,s)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Q=(e,t)=>{for(var s in t||(t={}))H.call(t,s)&&D(e,s,t[s]);if(z)for(var s of z(t))B.call(t,s)&&D(e,s,t[s]);return e},W=(e,t)=>M(e,L(t)),V=(e,t,s)=>(D(e,"symbol"!=typeof t?t+"":t,s),s);const _=r()("isle:select-question-matrix"),G=(0,x.Z)("select-question-matrix");class J extends n.Component{constructor(e){super(e),V(this,"handleChangeFactory",(e=>t=>{_(`Received a new value for ${e}...`);const s=g()(this.state.answers,1);s[e]=t.value,this.setState({answers:s}),this.props.onChange(s)})),V(this,"handleSubmit",(()=>{const e=this.context;let t=!0;const s=y()(this.props.solution);for(let o=0;o<s.length;o++){const e=s[o],n=this.props.solution[e],i=this.state.answers[e];(0,N.isPrimitive)(i)&&(Z()(n)?E()(n,i)||(t=!1):n!==i&&(t=!1))}const n=!O()(this.props.solution);"none"!==this.props.provideFeedback&&n?t?e.addNotification({title:this.props.t("correct"),message:this.props.successMsg||this.props.t("success-message"),level:"success"}):e.addNotification({title:this.props.t("incorrect"),message:this.props.failureMsg||this.props.t("failure-message"),level:"error"}):e.addNotification({title:this.state.submitted?this.props.t("answer-resubmitted"):this.props.t("answer-submitted"),message:this.state.submitted?this.props.t("resubmit-message"):this.props.t("submit-message"),level:"info"}),e.log({id:this.id,type:I.QHg,value:this.state.answers}),this.props.onSubmit(this.state.answers,t);let i=null;this.props.provideFeedback&&n&&(i=t?"success":"danger");const r=this.state.numbSubmissions+1;this.setState({submitted:!0,answerState:i,submittedAnswers:g()(this.state.answers),numbSubmissions:r,completed:(r>=this.props.nTries||t)&&"none"!==this.props.provideFeedback&&n})})),this.id=e.id||G(e),this.state={answers:{},submitted:!1,answerState:null,completed:!1,numbSubmissions:0,submittedAnswers:null}}renderColumnNames(){const e=this.props.cols.length;let t;return t=e>7?1:e>4?2:3,n.createElement(h.Z,{className:"multiple-choice-matrix-question-header"},n.createElement(d.Z,{sm:t}),this.props.cols.map(((e,t)=>n.createElement(d.Z,{key:t},n.createElement(c.Z.Label,null,(0,b.isPrimitive)(e)?n.createElement($.Z,{raw:e}):e)))))}renderSelectInput(e,t){const s=e+":"+t;let i,r=this.props.options[s]||[];r=r.map(((e,t)=>({label:e,value:t})));const o="overall"===this.props.provideFeedback&&this.state.submitted||"individual"===this.props.provideFeedback&&this.state.submitted&&(0,N.isPrimitive)(this.state.submittedAnswers[s]);o&&(0,N.isPrimitive)(this.props.solution[s])&&(i=this.state.submittedAnswers[s]===this.props.solution[s]?"green":"red");const a=n.createElement(p.ZP,{name:"form-field-name",className:"select-field",isDisabled:this.state.completed,isSearchable:!1,options:r,key:`select-${e}-${t}`,onChange:this.handleChangeFactory(s),menuPlacement:"top",menuPortalTarget:document.body,styles:{menuPortal:e=>W(Q({},e),{zIndex:1010}),singleValue:e=>W(Q({},e),{color:i}),menu:e=>W(Q({},e),{width:"max-content",minWidth:"100%"})}}),l=this.props.cellLabels[s];let c;return c=this.state.completed?"green"===i?this.props.t("correct-answer"):this.props.t("should-have-been"):"green"===i?this.props.t("correct"):this.props.t("try-again"),n.createElement(n.Fragment,null,l?n.createElement("span",{className:"select-question-matrix-cell-label"},l):null,a,o?n.createElement(m.Z,{bg:"green"===i?"success":"danger"},c,this.state.completed?this.props.options[s][this.props.solution[s]]:null):null)}renderRowSelects(e){const t=this.props.cols.length,s=new Array(t);for(let i=0;i<t;i++)s[i]=n.createElement(d.Z,{key:i},this.renderSelectInput(e,i));return n.createElement(n.Fragment,null,s)}renderRows(){const e=this.props.rows.length;let t;return t=e>7?1:e>4?2:3,this.props.rows.map(((e,s)=>n.createElement(h.Z,{key:s,style:{marginBottom:15,marginTop:15}},n.createElement(d.Z,{sm:t},n.createElement(c.Z.Label,{column:!0,style:{textAlign:"right"}},(0,b.isPrimitive)(e)?n.createElement($.Z,{raw:e}):e)),this.renderRowSelects(s))))}render(){const e=this.props.hints.length,t=y()(this.state.answers).length,s=y()(this.props.options).length,i=0===t||t<s&&!this.props.allowIncomplete||this.state.completed;return n.createElement(S.Z,Q({id:this.id,border:this.state.answerState,className:`select-question-matrix ${this.props.className}`,style:this.props.style},this.props.panelProps),this.props.question?n.createElement("label",null,this.props.question):null,this.renderColumnNames(),this.renderRows(),n.createElement("div",{className:"select-question-matrix-toolbar"},n.createElement(u.Z,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,disabled:i},this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),e>0?n.createElement(j.Z,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.props.chat?n.createElement(C.Z,{for:this.id}):null),n.createElement("div",null,n.createElement(q.Z,{id:this.id,data:{type:"tensor",rows:this.props.rows,cols:this.props.cols,question:this.props.question,solution:this.props.solution,options:this.props.options},info:I.QHg}),this.props.feedback?n.createElement(F.Z,{id:this.id+"_feedback",style:{float:"left"}}):null))}}J.defaultProps={question:"",rows:[],cols:[],solution:{},options:{},hints:[],hintPlacement:"bottom",feedback:!0,provideFeedback:"individual",allowIncomplete:!1,nTries:3,failureMsg:null,successMsg:null,cellLabels:{},chat:!1,panelProps:{},className:"",style:{},onChange(){},onSubmit(){}},J.propTypes={question:a().oneOfType([a().string,a().node]),rows:a().array,cols:a().array,options:a().object,solution:a().object,hints:a().arrayOf(a().oneOfType([a().string,a().node])),hintPlacement:a().string,feedback:a().bool,provideFeedback:a().oneOf(["none","overall","individual"]),allowIncomplete:a().bool,nTries:a().number,failureMsg:a().string,successMsg:a().string,cellLabels:a().object,chat:a().bool,panelProps:a().object,className:a().string,style:a().object,onChange:a().func,onSubmit:a().func},J.contextType=T.Z,t.default=(0,l.Z)("questions/select-matrix")((0,R.W)(J))},770561:function(e,t,s){var n=s(72779),i=s.n(n),r=s(202784),o=s(247830),a=s(429658),l=s(552322);const c=r.forwardRef((({as:e,bsPrefix:t,variant:s,size:n,active:r,className:c,...p},m)=>{const u=(0,a.vE)(t,"btn"),[h,{tagName:d}]=(0,o.FT)({tagName:e,...p}),b=d;return(0,l.jsx)(b,{...h,...p,ref:m,className:i()(c,u,r&&"active",s&&`${u}-${s}`,n&&`${u}-${n}`,p.href&&p.disabled&&"disabled")})}));c.displayName="Button",c.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=c},458264:function(e,t,s){var n=s(72779),i=s.n(n),r=s(202784),o=s(429658),a=s(552322);const l=r.forwardRef((({bsPrefix:e,className:t,as:s="div",...n},r)=>{const l=(0,o.vE)(e,"row"),c=(0,o.pi)(),p=`${l}-cols`,m=[];return c.forEach((e=>{const t=n[e];let s;delete n[e],null!=t&&"object"==typeof t?({cols:s}=t):s=t;const i="xs"!==e?`-${e}`:"";null!=s&&m.push(`${p}${i}-${s}`)})),(0,a.jsx)(s,{ref:r,...n,className:i()(t,l,...m)})}));l.displayName="Row",t.Z=l}}]);