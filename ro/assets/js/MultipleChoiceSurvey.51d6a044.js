/*! For license information please see MultipleChoiceSurvey.51d6a044.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3962],{418919:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(202784);function l(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}},303428:function(e,t,n){n.d(t,{PB:function(){return r},$F:function(){return l}});function r(e){return`data-rr-ui-${e}`}function l(e){return`rrUi${e}`}},853154:function(e,t,n){var r=n(658092),l=n(202784),a=n(418919),s=n(225879),o=n(699311),i=n(465590),c=n(590593),u=n(303428),d=n(621528),f=n(552322);const m=["as","onSelect","activeKey","role","onKeyDown"];const p=()=>{},v=(0,u.PB)("event-key"),b=l.forwardRef(((e,t)=>{let{as:n="div",onSelect:d,activeKey:b,role:y,onKeyDown:w}=e,g=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,m);const E=(0,a.Z)(),Z=(0,l.useRef)(!1),h=(0,l.useContext)(i.Z),x=(0,l.useContext)(c.Z);let C,k;x&&(y=y||"tablist",b=x.activeKey,C=x.getControlledId,k=x.getControllerId);const N=(0,l.useRef)(null),$=e=>{const t=N.current;if(!t)return null;const n=(0,r.Z)(t,`[${v}]:not([aria-disabled=true])`),l=t.querySelector("[aria-selected=true]");if(!l||l!==document.activeElement)return null;const a=n.indexOf(l);if(-1===a)return null;let s=a+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},O=(e,t)=>{null!=e&&(null==d||d(e,t),null==h||h(e,t))};(0,l.useEffect)((()=>{if(N.current&&Z.current){const e=N.current.querySelector(`[${v}][aria-selected=true]`);null==e||e.focus()}Z.current=!1}));const P=(0,s.Z)(t,N);return(0,f.jsx)(i.Z.Provider,{value:O,children:(0,f.jsx)(o.Z.Provider,{value:{role:y,activeKey:(0,i.h)(b),getControlledId:C||p,getControllerId:k||p},children:(0,f.jsx)(n,Object.assign({},g,{onKeyDown:e=>{if(null==w||w(e),!x)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=$(-1);break;case"ArrowRight":case"ArrowDown":t=$(1);break;default:return}t&&(e.preventDefault(),O(t.dataset[(0,u.$F)("EventKey")]||null,e),Z.current=!0,E())},ref:P,role:y}))})})}));b.displayName="Nav",t.Z=Object.assign(b,{Item:d.Z})},699311:function(e,t,n){const r=n(202784).createContext(null);r.displayName="NavContext",t.Z=r},621528:function(e,t,n){n.d(t,{v:function(){return f}});var r=n(202784),l=n(427452),a=n(699311),s=n(465590),o=n(247830),i=n(303428),c=n(590593),u=n(552322);const d=["as","active","eventKey"];function f({key:e,onClick:t,active:n,id:o,role:u,disabled:d}){const f=(0,r.useContext)(s.Z),m=(0,r.useContext)(a.Z),p=(0,r.useContext)(c.Z);let v=n;const b={role:u};if(m){u||"tablist"!==m.role||(b.role="tab");const t=m.getControllerId(null!=e?e:null),r=m.getControlledId(null!=e?e:null);b[(0,i.PB)("event-key")]=e,b.id=t||o,v=null==n&&null!=e?m.activeKey===e:n,!v&&(null!=p&&p.unmountOnExit||null!=p&&p.mountOnEnter)||(b["aria-controls"]=r)}return"tab"===b.role&&(d&&(b.tabIndex=-1,b["aria-disabled"]=!0),v?b["aria-selected"]=v:b.tabIndex=-1),b.onClick=(0,l.Z)((n=>{d||(null==t||t(n),null!=e&&f&&!n.isPropagationStopped()&&f(e,n))})),[b,{isActive:v}]}const m=r.forwardRef(((e,t)=>{let{as:n=o.ZP,active:r,eventKey:l}=e,a=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,d);const[c,m]=f(Object.assign({key:(0,s.h)(l,a.href),active:r},a));return c[(0,i.PB)("active")]=m.isActive,(0,u.jsx)(n,Object.assign({},a,c,{ref:t}))}));m.displayName="NavItem",t.Z=m},465590:function(e,t,n){n.d(t,{h:function(){return l}});const r=n(202784).createContext(null),l=(e,t=null)=>null!=e?String(e):t||null;t.Z=r},590593:function(e,t,n){const r=n(202784).createContext(null);t.Z=r},839916:function(e,t,n){var r=n(669710);e.exports=r},669710:function(e,t,n){var r=n(571388),l=n(552770);e.exports=function(e){var t,n,a,s,o,i,c;if(!r(e))throw new TypeError("invalid argument. First argument must be a collection. Value: `"+e+"`.");for(t=0,n=[],s=[],a=e.length,i=0;i<a;i++)o=e[i],t+=1,-1===(c=l(n,o))?(n.push(o),s.push([o,1,0])):s[c][1]+=1;for(a=s.length,i=0;i<a;i++)s[i][2]=s[i][1]/t;return s}},658092:function(e,t,n){n.d(t,{Z:function(){return l}});var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function l(e,t){return r(e.querySelectorAll(t))}},956260:function(e,t,n){var r=n(202784),l=n(213980),a=n.n(l),s=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=e=>{const t=e,{children:n}=t,l=((e,t)=>{var n={};for(var r in e)i.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))i.call(t,n)&&u(e,n,t[n]);if(o)for(var n of o(t))c.call(t,n)&&u(e,n,t[n]);return e})({},l),n)};d.defaultProps={className:"",style:{}},d.propTypes={className:a().string,style:a().object},t.Z=d},64031:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(202784),l=n(213980),a=n.n(l),s=n(376699),o=n(312594),i=n(458264),c=n(471275),u=n(188304),d=n(790817),f=n(690299),m=n.n(f),p=n(308669),v=n.n(p),b=n(839916),y=n.n(b),w=n(417332),g=n(46739),E=n(426214),Z=n(956260),h=n(466621),x=n(70366),C=n(123103),k=n(691334),N=n(741082),$=n(912860);const O=e=>e.disabled?r.createElement($.Z,null,e.answerContent):r.createElement($.Z,{onClick:e.onAnswerSelected,active:e.active},e.answerContent);O.propTypes={active:a().bool.isRequired,answerContent:a().oneOfType([a().element,a().string]).isRequired,disabled:a().bool.isRequired,onAnswerSelected:a().func.isRequired};var P=O;const S=m()("isle:multiple-choice-survey"),j=(0,w.Z)("multiple-choice-survey"),A=e=>{const t=(0,r.useRef)(e.id||j(e)),{t:n}=(0,s.$)("surveys"),{allowMultipleAnswers:l,anonymous:a,answers:f,multipleAnswers:m,question:p,onSubmit:b}=e,w=(0,r.useContext)(C.Z),[N,$]=(0,r.useState)(!1),[O,A]=(0,r.useState)(!1),[R,I]=(0,r.useState)(!1),[q,K]=(0,r.useState)(m?new Array(f.length):null),[z,T]=(0,r.useState)({counts:[],freqTable:null}),D=(0,r.useCallback)((()=>{w.log({id:t.current,type:k.ys,value:q,anonymous:a},"members"),l||$(!0),w.addNotification({title:n("submitted"),message:n("answer-submitted"),level:"success"}),b(q)}),[q,l,a,w,b,n]),F=(0,r.useCallback)((e=>{S("MultipleChoiceSurvey is receiving data: "+JSON.stringify(e));const t=y()(e),l=t.map((e=>({x:f[e[0]],y:e[1]}))),a=r.createElement("table",{className:"table table-bordered"},r.createElement("tr",null,r.createElement("th",null,n("category")),r.createElement("th",null,n("count")),r.createElement("th",null,n("relative-frequency"))),t.map(((e,t)=>r.createElement("tr",{key:t},e.map(((e,n)=>(0===n?e=f[e]:2===n&&(e=e.toFixed(3)),r.createElement("td",{key:`${t}:${n}`},e))))))));T({counts:l,freqTable:a})}),[f,n]),B=(0,r.useCallback)(((e,t)=>r.createElement(P,{key:t,no:t,answerContent:e,active:q===t,submitted:N,onAnswerSelected:()=>{N||(K(t),I(!0))}})),[q,N]),M=(0,r.useCallback)(((e,t)=>r.createElement(P,{key:e,no:t,answerContent:e,active:q[t],submitted:N,onAnswerSelected:()=>{if(!N){let e=q.slice();e[t]=!e[t],K(e),I(!0)}}})),[q,N]);let L;return L=m?N:N||!R,r.createElement(E.Z,{id:t.current,style:e.style},r.createElement(c.Z,null,r.createElement(i.Z,null,r.createElement(o.Z,{md:6},r.createElement(d.Z,{body:!0,className:"multiple-choice-survey"},r.createElement("p",null,r.createElement("label",null,p),O?r.createElement("i",{className:"fas fa-lock",style:{float:"right"}}):null),m?r.createElement("span",null,n("multiple-answers")):null,r.createElement(u.Z,{fill:!0},m?f.map(M):f.map(B)),r.createElement(x.Z,{id:t.current,disabled:L,onClick:D,onPaused:A},n(N?"submitted":"submit")))),r.createElement(o.Z,{md:6},r.createElement(h.Z,{for:[t.current],onData:F}),v()(z.counts)?r.createElement("h3",null,n("no-responses-yet")):r.createElement(g.Z,{data:[{x:z.counts.map((e=>e.x)),y:z.counts.map((e=>e.y)),type:"bar"}],layout:{width:400,height:300},removeButtons:!0}),r.createElement("p",null,z.freqTable)))),r.createElement(Z.Z,{buttonLabel:n("responses"),id:t.current,data:{type:"factor",levels:e.answers},info:k.ys}))};A.defaultProps={question:"",allowMultipleAnswers:!1,anonymous:!1,answers:[],multipleAnswers:!1,style:{},onSubmit(){}},A.propTypes={question:a().oneOfType([a().string,a().node]),allowMultipleAnswers:a().bool,anonymous:a().bool,answers:a().array,multipleAnswers:a().bool,style:a().object,onSubmit:a().func};var R=(0,N.W)(A)},70366:function(e,t,n){var r=n(202784),l=n(213980),a=n.n(l),s=n(376699),o=n(822736),i=n(770561),c=n(770149),u=n(123103),d=n(691334),f=n(302108);const m=({children:e,disabled:t,id:n,size:l,variant:a,onClick:m,onPaused:p})=>{const[v,b]=(0,r.useState)(!1),{t:y}=(0,s.$)("general"),w=(0,r.useContext)(u.Z);(0,r.useEffect)((()=>{let e;return w&&(e=w.subscribe(((e,t)=>{e===f.Wh&&t.id===n+"-stoppable-button"&&(t.type===d.rz?(b(!0),p(!0)):t.type===d.nt&&(b(!1),p(!1)))}))),()=>{e&&e()}}),[n,w,p]);const g=(0,r.useCallback)((()=>{w.log({id:n+"-stoppable-button",type:v?d.nt:d.rz,value:!0},"members"),b(!v),p&&p(!v)}),[n,v,w,p]);return n?r.createElement("div",{className:"d-grid gap-2"},r.createElement(i.Z,{className:"stoppable-button",size:l,variant:a,onClick:m,disabled:t||v},e),r.createElement(c.Z,{owner:!0,banner:null,showOwnerInPresentationMode:!1},r.createElement(i.Z,{size:l,variant:v?"warning":"secondary",onClick:g},v?r.createElement("span",null,y("resume")):r.createElement("span",null,y("pause"))))):r.createElement(o.Z,{variant:"danger"},y("supply-component-id"))};m.defaultProps={size:"small",variant:"success"},m.propTypes={size:a().oneOf(["small","sm","large","lg"]),variant:a().string},t.Z=m},770561:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),s=n(247830),o=n(429658),i=n(552322);const c=a.forwardRef((({as:e,bsPrefix:t,variant:n,size:r,active:a,className:c,...u},d)=>{const f=(0,o.vE)(t,"btn"),[m,{tagName:p}]=(0,s.FT)({tagName:e,...u}),v=p;return(0,i.jsx)(v,{...m,...u,ref:d,className:l()(c,f,a&&"active",n&&`${f}-${n}`,r&&`${f}-${r}`,u.href&&u.disabled&&"disabled")})}));c.displayName="Button",c.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=c},471275:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),s=n(429658),o=n(552322);const i=a.forwardRef((({bsPrefix:e,fluid:t,as:n="div",className:r,...a},i)=>{const c=(0,s.vE)(e,"container"),u="string"==typeof t?`-${t}`:"-fluid";return(0,o.jsx)(n,{ref:i,...a,className:l()(r,t?`${c}${u}`:c)})}));i.displayName="Container",i.defaultProps={fluid:!1},t.Z=i},188304:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),s=(n(645982),n(593759)),o=n(853154),i=n(429658),c=n(912860),u=n(552322);const d=a.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:a,horizontal:c,numbered:d,as:f="div",...m}=(0,s.Ch)(e,{activeKey:"onSelect"}),p=(0,i.vE)(r,"list-group");let v;return c&&(v=!0===c?"horizontal":`horizontal-${c}`),(0,u.jsx)(o.Z,{ref:t,...m,as:f,className:l()(n,p,a&&`${p}-${a}`,v&&`${p}-${v}`,d&&`${p}-numbered`)})}));d.displayName="ListGroup",t.Z=Object.assign(d,{Item:c.Z})},912860:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),s=n(427452),o=n(621528),i=n(465590),c=n(429658),u=n(552322);const d=a.forwardRef((({bsPrefix:e,active:t,disabled:n,eventKey:r,className:a,variant:d,action:f,as:m,...p},v)=>{e=(0,c.vE)(e,"list-group-item");const[b,y]=(0,o.v)({key:(0,i.h)(r,p.href),active:t,...p}),w=(0,s.Z)((e=>{if(n)return e.preventDefault(),void e.stopPropagation();b.onClick(e)}));n&&void 0===p.tabIndex&&(p.tabIndex=-1,p["aria-disabled"]=!0);const g=m||(f?p.href?"a":"button":"div");return(0,u.jsx)(g,{ref:v,...p,...b,onClick:w,className:l()(a,e,y.isActive&&"active",n&&"disabled",d&&`${e}-${d}`,f&&`${e}-action`)})}));d.displayName="ListGroupItem",t.Z=d},458264:function(e,t,n){var r=n(72779),l=n.n(r),a=n(202784),s=n(429658),o=n(552322);const i=a.forwardRef((({bsPrefix:e,className:t,as:n="div",...r},a)=>{const i=(0,s.vE)(e,"row"),c=(0,s.pi)(),u=`${i}-cols`,d=[];return c.forEach((e=>{const t=r[e];let n;delete r[e],null!=t&&"object"==typeof t?({cols:n}=t):n=t;const l="xs"!==e?`-${e}`:"";null!=n&&d.push(`${u}${l}-${n}`)})),(0,o.jsx)(n,{ref:a,...r,className:l()(t,i,...d)})}));i.displayName="Row",t.Z=i}}]);