"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2940],{693660:function(e,t,a){a.d(t,{I0:function(){return r.Z},Y2:function(){return s.Z},lq:function(){return n.Z}});var r=a(351375),s=a(506078),n=a(440835);a(658774),a(430391),a(369701),a(902194)},264248:function(e,t,a){a.r(t);var r=a(202784),s=a(213980),n=a.n(s),l=a(690299),i=a.n(l),o=a(198),p=a(822736),h=a(770561),c=a(423184),m=a(471275),d=a(312594),u=a(458264),v=a(32593),f=a.n(v),y=a(695688),g=a.n(y),b=a(240054),E=a.n(b),w=a(323522),Z=a(844204),S=a(850013),$=a(700865),x=a(328731),z=a(961239),B=a.n(z),k=a(465810),C=a.n(k),T=a(74039),M=a.n(T),L=a(700601),N=a.n(L),H=a(552770),P=a.n(H),j=a(838060),q=a.n(j),R=a(693660),O=a(426214),Y=a(194542),F=a(99733),Q=a(201),V=Object.defineProperty,A=(e,t,a)=>(((e,t,a)=>{t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a);const D=i()("isle:learn:confidence-coverage-sample");class G extends r.Component{constructor(e){super(e),A(this,"drawSamples",(e=>{"numeric"===this.state.type?this.drawQuantitative(e):"binary"===this.state.type&&this.drawBinary(e)})),A(this,"drawQuantitative",(e=>{let{nTrapped:t,nLower:a,nHigher:r}=this.state;const s=1-this.state.level,n=this.state.errorBars.slice(),l=this.state.trueMean,i=this.state.sampleSize;for(let o=0;o<e;o++){const e=E()(this.state.values,{size:i}),o=(0,F.Z)(e),p=(0,Q.Z)(e)/g()(i),h=B()(1-s/2,i-1),c=f()(p*h),m={num:n.length+1,yval:o,err:c};m.yval-m.err>l?r+=1:m.yval+m.err<l?a+=1:t+=1,n.push(m)}this.setState({nTrapped:t,nLower:a,nHigher:r,errorBars:n})})),A(this,"drawBinary",(e=>{let{nTrapped:t,nLower:a,nHigher:r}=this.state;const s=1-this.state.level,n=this.state.errorBars.slice(),l=this.state.trueMean;for(let i=0;i<e;i++){D("Draw sample of size "+this.state.sampleSize);const e=E()(this.state.values,{size:this.state.sampleSize}),i=(0,F.Z)(e),o=g()(i*(1-i)/this.state.sampleSize),p={num:n.length+1,yval:i,err:f()(o*C()(1-s/2,0,1))};p.yval-p.err>l?r+=1:p.yval+p.err<l?a+=1:t+=1,n.push(p)}this.setState({nTrapped:t,nLower:a,nHigher:r,errorBars:n})})),A(this,"onSelectVariable",(e=>{let t=this.props.data[e];t=t.filter((e=>null!==e&&""!==e));let a,r,s="none";if(q()(t)&&(s="numeric",a=(0,F.Z)(t),D("Encountered numeric array with a mean of "+a+"...")),((e,t=!0)=>{const a={};let r=0;for(let s=0;s<e.length;s++){if(N()(a,e[s])||(a[e[s]]=!0,r+=1),r>2)return!1;if(t&&s>50)break}return 2===r})(t)){s="binary",r=[...new Set(t)].sort();let e=0;for(let a=0;a<t.length;a++)t[a]===r[1]&&(e+=1);t=t.map((e=>P()(r,e))),a=e/t.length,D("Encountered binary array with a mean of "+a+"...")}let n=this.state.sampleSize;n>t.length&&(n=t.length),this.setState({variable:e,values:t,sampleSize:n,type:s,trueMean:a})})),this.state={variable:null,type:"none",errorBars:[],nTrapped:0,nLower:0,nHigher:0,sampleSize:25,level:.95}}clear(){this.setState({errorBars:[],nTrapped:0,nLower:0,nHigher:0})}renderChart(){const{errorBars:e}=this.state;if(!e||0===e.length)return null;const t=this.state.trueMean;return r.createElement(w.k,{padding:{top:20,bottom:30,left:40,right:20},height:2.5*this.state.errorBars.length+50,theme:Z.J.material},r.createElement(S.E,{padding:20,standalone:!1,style:{tickLabels:{fontSize:"9px"}}}),r.createElement(S.E,{dependentAxis:!0,padding:20,standalone:!1}),r.createElement($.i,{animate:{duration:100},style:{data:{stroke:e=>e.datum.yval-e.datum.err>t||e.datum.yval+e.datum.err<t?"darkred":"steelblue"}},data:this.state.errorBars,x:"yval",y:"num",errorX:e=>e.err}),r.createElement(x.j,{data:[{x:t,y:0},{x:t,y:this.state.errorBars.length}]}))}render(){const{t:e}=this.props,t=this.state.errorBars.length,a="numeric"===this.state.type?"mean":"proportion";return r.createElement(m.Z,{style:{maxWidth:1200}},r.createElement(R.lq,{legend:e("select-variable"),options:this.props.variables,onChange:this.onSelectVariable}),"numeric"===this.state.type||"binary"===this.state.type?r.createElement(u.Z,null,r.createElement(d.Z,{md:6},r.createElement(O.Z,{header:r.createElement("span",null,e("confidence-intervals-for")," ",this.state.variable),style:{height:"85vh"}},this.renderChart())),r.createElement(d.Z,{md:6},"numeric"===this.state.type||"binary"===this.state.type?r.createElement(O.Z,{header:e("parameters")},r.createElement(R.Y2,{legend:e("sample-size"),step:1,min:1,value:this.state.sampleSize,max:this.state.values.length,onChange:e=>this.setState({sampleSize:e})}),r.createElement(R.Y2,{legend:e("confidence-level"),step:.01,min:0,max:1,value:this.state.level,onChange:e=>this.setState({level:e})}),r.createElement(c.Z,null,q()(this.props.samples)?this.props.samples.map(((t,a)=>r.createElement(h.Z,{key:a,onClick:()=>{this.drawSamples(t)}},e("draw-samples",{n:t})))):r.createElement(h.Z,{onClick:()=>{this.drawSamples(this.props.samples)}},e("draw-samples",{n:this.props.samples})),r.createElement(h.Z,{onClick:this.clear.bind(this)},e("clear")))):null,r.createElement(O.Z,{header:e("statistics")},e("number-of-confidence-intervals-of",{center:a}),"\xa0",r.createElement(Y.Z,{raw:M()(this.state.trueMean,-3)}),": ",r.createElement("br",null),r.createElement(Y.Z,{raw:`\\text{${e("covering-population")} ${e(a)}: }${this.state.nTrapped} \\text{ out of } ${t}`,displayMode:!0}),this.state.errorBars.length>0?r.createElement(r.Fragment,null,r.createElement(Y.Z,{raw:`\\text{${e("coverage")}: }${M()(this.state.nTrapped/t,-3)}\\%`,displayMode:!0}),e("number-of-confidence-intervals",{center:a})," ",r.createElement("br",null),r.createElement(Y.Z,{raw:`\\text{${e("interval-above-population")} ${a}: }${this.state.nHigher}`,displayMode:!0}),r.createElement(Y.Z,{raw:`\\text{${e("interval-below-population")} ${a}: }${this.state.nLower}`,displayMode:!0})):null))):r.createElement(p.Z,{variant:"info",style:{fontSize:24}},e("please-sample")))}}G.propTypes={data:n().object.isRequired,samples:n().oneOfType([n().arrayOf(n().number),n().number]),variables:n().array.isRequired},G.defaultProps={samples:25},t.default=(0,o.Z)("learn/confidence-coverage")(G)},770561:function(e,t,a){var r=a(72779),s=a.n(r),n=a(202784),l=a(247830),i=a(429658),o=a(552322);const p=n.forwardRef((({as:e,bsPrefix:t,variant:a,size:r,active:n,className:p,...h},c)=>{const m=(0,i.vE)(t,"btn"),[d,{tagName:u}]=(0,l.FT)({tagName:e,...h}),v=u;return(0,o.jsx)(v,{...d,...h,ref:c,className:s()(p,m,n&&"active",a&&`${m}-${a}`,r&&`${m}-${r}`,h.href&&h.disabled&&"disabled")})}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=p},423184:function(e,t,a){var r=a(72779),s=a.n(r),n=a(202784),l=a(429658),i=a(552322);const o=n.forwardRef((({bsPrefix:e,size:t,vertical:a,className:r,as:n="div",...o},p)=>{const h=(0,l.vE)(e,"btn-group");let c=h;return a&&(c=`${h}-vertical`),(0,i.jsx)(n,{...o,ref:p,className:s()(r,c,t&&`${h}-${t}`)})}));o.displayName="ButtonGroup",o.defaultProps={vertical:!1,role:"group"},t.Z=o}}]);