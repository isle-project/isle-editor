/*! For license information please see SimpleLinearRegression.30331ac0.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4651],{573116:function(e,t,r){r.r(t);var l=r(894578),n=r(55196),a=r(202784),i=r(213980),o=r.n(i),s=r(198),u=r(822736),c=r(770561),d=r(43649),m=r(708579),p=r(524785),g=r.n(p),f=r(563402),y=r.n(f),E=r(784373),v=r.n(E),h=r(254988),x=r.n(h),b=r(32593),Z=r.n(b),F=r(695688),w=r.n(F),P=r(519907),k=r(584443),O=r(147282),R=r(211881),M=r(133757),z=r(683015),A=r(338664),D=r(412042),j=r(479724),q=r(641728),C=Object.defineProperty,N=Object.defineProperties,L=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,_=function(e,t,r){return t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},B=function(e,t){for(var r in t||(t={}))T.call(t,r)&&_(e,r,t[r]);if(S)for(var l,a=(0,n.Z)(S(t));!(l=a()).done;){r=l.value;X.call(t,r)&&_(e,r,t[r])}return e},I=function(e,t){return N(e,L(t))},W=0;function G(e,t){for(var r=(0,P.Z)(e),l=(0,P.Z)(t),n=0,a=0,i=e.length,o=0;o<i;o++){var s=e[o]-r;n+=s*s,a+=s*(t[o]-l)}var u=a/n;return{yint:l-u*r,slope:u,xg:e,yg:t}}function H(e){var t=e.x,r=e.y,l=e.data,n=e.group,a=e.omitMissing,i=l[t],o=l[r],s=l[n];if(a){var u=[],c=[],d=[];if(s)for(var m=0;m<i.length;m++)!(0,q.Z)(s[m])&&(0,j.Z)(i[m])&&(0,j.Z)(o[m])&&(u.push(i[m]),c.push(o[m]),d.push(s[m]));else for(var p=0;p<i.length;p++)(0,j.Z)(i[p])&&(0,j.Z)(o[p])&&(u.push(i[p]),c.push(o[p]));return{xd:u,yd:c,groups:d}}return{xd:i,yd:o,groups:s}}var J=function(e){function t(t){var r;r=e.call(this,t)||this,W+=1;var l=t.x,n=t.y,a=t.data,i=t.group,o=t.omitMissing;return r.state=H({x:l,y:n,data:a,group:i,omitMissing:o}),r}return(0,l.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.data!==t.data||e.x!==t.x||e.y!==t.y||e.group!==t.group||e.omitMissing!==t.omitMissing?H({x:e.x,y:e.y,intercept:e.intercept,omitMissing:e.omitMissing,data:e.data,group:e.group}):null},t.prototype.render=function(){var e,t=this,r=this.state,l=r.xd,n=r.yd,i=r.groups,o=this.props,s=o.x,p=o.y,f=o.group,E=o.data,h=o.t;try{if(f){var b=(0,z.Z)(l,i,P.Z),F=(0,M.Z)(l,n,i,G);e=a.createElement("div",{style:{overflowX:"auto",width:"100%"}},a.createElement("label",null,h("regression-y-on-x",{x:s,y:p})),a.createElement("p",null,a.createElement("i",null,h("grouped-by")," ",f,":")),g()(y()(F,(function(e,t){for(var r=e.yint,l=e.slope,n=e.xg,i=e.yg,o=v()(),u=v()(),c=v()(),m=x().factory(i.length-2),p=0;p<i.length;p++){o(r+l*n[p]-i[p]),u(n[p]),c(n[p]-b[t])}var g=o()/(i.length-2),f=g/c(),y=w()(f),E=1/i.length*g*u()/c(),F=w()(E),P=l/y,k=r/F;return a.createElement("div",{key:"group-"+t},a.createElement("label",null,t,":"),a.createElement(d.Z,{bordered:!0,size:"sm"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,h("variable")),a.createElement("th",null,h("coefficient")),a.createElement("th",null,h("std-error")),a.createElement("th",null,"t"),a.createElement("th",null,h("p-value")))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,h("intercept")),a.createElement("td",null,r.toFixed(4)),a.createElement("td",null,F.toFixed(4)),a.createElement("td",null,k.toFixed(4)),a.createElement("td",null,2*(1-m(Z()(k))).toFixed(4))),a.createElement("tr",null,a.createElement("td",null,s),a.createElement("td",null,l.toFixed(4)),a.createElement("td",null,y.toFixed(4)),a.createElement("td",null,P.toFixed(4)),a.createElement("td",null,2*(1-m(Z()(P))).toFixed(4))))))}))),this.props.onPredict?a.createElement(m.Z,{tooltip:h("use-model-to-predict-tooltip")},a.createElement(c.Z,{variant:"secondary",size:"sm",onClick:function(){t.props.onPredict((function(e){for(var t=e[s],r=e[p],l=new Float64Array(r.length),n=new Float64Array(r.length),a=e[f],i=0;i<l.length;i++){var o=F[a[i]],u=o.yint,c=o.slope;l[i]=u+c*t[i],n[i]=r[i]-l[i]}return{fitted:l,residuals:n}}),W)}},this.props.t("use-model-to-predict"))):null,this.props.onDiagnostics?a.createElement(c.Z,{variant:"secondary",size:"sm",style:{marginLeft:6},onClick:function(){for(var e=E[s],r=E[p],l=new Float64Array(r.length),n=new Float64Array(r.length),i=E[f],o=0;o<l.length;o++){var u=F[i[o]],c=u.yint,d=u.slope;l[o]=c+d*e[o],n[o]=r[o]-l[o]}var m=a.createElement(k.Z,I(B({draggable:!0,editable:!0,fit:!0},(0,R._)(n,"residuals")),{meta:{type:"qqplot of regression residuals",x:e,y:r}})),g=a.createElement(k.Z,{draggable:!0,editable:!0,fit:!0,data:[{x:l,y:n,mode:"markers"}],layout:{xaxis:{title:h("fitted-values")},yaxis:{title:h("residuals")},title:h("residuals-vs-fitted")},meta:{type:"regression residuals vs. fitted",x:e,y:r}}),y=a.createElement(O.Z,{data:{Residuals:n},variable:"Residuals",title:h("plotly:histogram-title",{x:"Residuals"})});t.props.onDiagnostics([m,y,g])}},h("model-diagnostics")):null)}else{for(var A=G(l,n),D=A.yint,j=A.slope,q=v()(),C=v()(),N=v()(),L=(0,P.Z)(l),S=x().factory(n.length-2),T=0;T<n.length;T++){q(D+j*l[T]-n[T]),C(l[T]),N(l[T]-L)}var X=q()/(n.length-2),_=X/N(),H=w()(_),J=1/n.length*X*C()/N(),K=w()(J),Q=j/H,U=D/K;e=a.createElement("div",{style:{overflowX:"auto",width:"100%"}},a.createElement("label",null,h("simple-regression-title",{x:s,y:p,counter:W})),a.createElement(d.Z,{bordered:!0,size:"sm"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,h("variable")),a.createElement("th",null,h("coefficient")),a.createElement("th",null,h("std-error")),a.createElement("th",null,"t"),a.createElement("th",null,h("p-value")))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,h("intercept")),a.createElement("td",null,D.toFixed(4)),a.createElement("td",null,K.toFixed(4)),a.createElement("td",null,U.toFixed(4)),a.createElement("td",null,2*(1-S(Z()(U))).toFixed(4))),a.createElement("tr",null,a.createElement("td",null,s),a.createElement("td",null,j.toFixed(4)),a.createElement("td",null,H.toFixed(4)),a.createElement("td",null,Q.toFixed(4)),a.createElement("td",null,2*(1-S(Z()(Q))).toFixed(4))))),this.props.onPredict?a.createElement(m.Z,{tooltip:h("use-model-to-predict-tooltip")},a.createElement(c.Z,{variant:"secondary",size:"sm",onClick:function(){t.props.onPredict((function(e){for(var t=e[s],r=e[p],l=new Array(r.length),n=new Array(r.length),a=0;a<l.length;a++)l[a]=D+j*t[a],n[a]=r[a]-l[a];return{fitted:l,residuals:n}}),W)}},this.props.t("use-model-to-predict"))):null,this.props.onDiagnostics?a.createElement(c.Z,{variant:"secondary",size:"sm",style:{marginLeft:6},onClick:function(){for(var e=E[s],r=E[p],l=new Array(r.length),n=new Array(r.length),i=0;i<l.length;i++)l[i]=D+j*e[i],n[i]=r[i]-l[i];var o=a.createElement(k.Z,I(B({draggable:!0,editable:!0,fit:!0},(0,R._)(n,"residuals")),{meta:{type:"qqplot of regression residuals",x:e,y:r}})),u=a.createElement(O.Z,{data:{Residuals:n},variable:"Residuals",title:h("plotly:histogram-title",{x:"Residuals"})}),c=a.createElement(k.Z,{draggable:!0,editable:!0,fit:!0,data:[{x:l,y:n,mode:"markers",type:l.length>2e3?"scattergl":"scatter"}],layout:{xaxis:{title:h("fitted-values")},yaxis:{title:h("residuals")},title:h("residuals-vs-fitted")},meta:{type:"regression residuals vs. fitted",x:e,y:r}});t.props.onDiagnostics([o,u,c])}},h("model-diagnostics")):null)}return e}catch(V){return a.createElement(u.Z,{variant:"danger"},h("missing-attributes"))}},t}(a.Component);J.defaultProps={group:null,omitMissing:!1,onDiagnostics:null,onPredict:null},J.propTypes={data:o().object.isRequired,x:o().string.isRequired,y:o().string.isRequired,group:o().oneOfType([o().string,o().instanceOf(D.E)]),omitMissing:o().bool,onDiagnostics:o().func,onPredict:o().func},t.default=(0,s.Z)(["models","plotly"])((0,A.W)(J))},784373:function(e,t,r){var l=r(863653);e.exports=l},863653:function(e){e.exports=function(){var e,t=0;return function(r){if(0===arguments.length)return e?t:null;return e=!0,t+=r*r}}},770561:function(e,t,r){var l=r(807896),n=r(231461),a=r(72779),i=r.n(a),o=r(202784),s=r(429658),u=r(482695),c=["bsPrefix","variant","size","active","className","block","type","as"],d=o.forwardRef((function(e,t){var r=e.bsPrefix,a=e.variant,d=e.size,m=e.active,p=e.className,g=e.block,f=e.type,y=e.as,E=(0,n.Z)(e,c),v=(0,s.vE)(r,"btn"),h=i()(p,v,m&&"active",a&&v+"-"+a,g&&v+"-block",d&&v+"-"+d);if(E.href)return o.createElement(u.Z,(0,l.Z)({},E,{as:y,ref:t,className:i()(h,E.disabled&&"disabled")}));t&&(E.ref=t),f?E.type=f:y||(E.type="button");var x=y||"button";return o.createElement(x,(0,l.Z)({},E,{className:h}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=d}}]);