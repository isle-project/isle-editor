"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2940],{693660:function(e,t,r){r.d(t,{I0:function(){return n.Z},Y2:function(){return a.Z},lq:function(){return o.Z}});var n=r(351375),a=r(506078),o=r(440835);r(658774),r(430391),r(369701),r(902194)},264248:function(e,t,r){r.r(t);var n=r(202784),a=r(213980),o=r.n(a),l=r(690299),i=r.n(l),s=r(198),c=r(822736),u=r(770561),p=r(423184),d=r(471275),m=r(312594),h=r(458264),f=r(32593),b=r.n(f),y=r(695688),v=r.n(y),g=r(240054),x=r.n(g),w=r(323522),E=r(844204),O=r(850013),Z=r(700865),C=r(357521),j=r(961239),S=r.n(j),P=r(465810),z=r.n(P),_=r(74039),T=r.n(_),k=r(700601),B=r.n(k),Y=r(552770),$=r.n(Y),A=r(838060),I=r.n(A),N=r(693660),W=r(426214),X=r(194542),L=r(99733),M=r(201),R=Object.defineProperty,q=(e,t,r)=>(((e,t,r)=>{t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const H=i()("isle:learn:confidence-coverage-sample");class D extends n.Component{constructor(e){super(e),q(this,"drawSamples",(e=>{"numeric"===this.state.type?this.drawQuantitative(e):"binary"===this.state.type&&this.drawBinary(e)})),q(this,"drawQuantitative",(e=>{let{nTrapped:t,nLower:r,nHigher:n}=this.state;const a=1-this.state.level,o=this.state.errorBars.slice(),l=this.state.trueMean,i=this.state.sampleSize;for(let s=0;s<e;s++){const e=x()(this.state.values,{size:i}),s=(0,L.Z)(e),c=(0,M.Z)(e)/v()(i),u=S()(1-a/2,i-1),p=b()(c*u),d={num:o.length+1,yval:s,err:p};d.yval-d.err>l?n+=1:d.yval+d.err<l?r+=1:t+=1,o.push(d)}this.setState({nTrapped:t,nLower:r,nHigher:n,errorBars:o})})),q(this,"drawBinary",(e=>{let{nTrapped:t,nLower:r,nHigher:n}=this.state;const a=1-this.state.level,o=this.state.errorBars.slice(),l=this.state.trueMean;for(let i=0;i<e;i++){H("Draw sample of size "+this.state.sampleSize);const e=x()(this.state.values,{size:this.state.sampleSize}),i=(0,L.Z)(e),s=v()(i*(1-i)/this.state.sampleSize),c={num:o.length+1,yval:i,err:b()(s*z()(1-a/2,0,1))};c.yval-c.err>l?n+=1:c.yval+c.err<l?r+=1:t+=1,o.push(c)}this.setState({nTrapped:t,nLower:r,nHigher:n,errorBars:o})})),q(this,"onSelectVariable",(e=>{let t=this.props.data[e];t=t.filter((e=>null!==e&&""!==e));let r,n,a="none";if(I()(t)&&(a="numeric",r=(0,L.Z)(t),H("Encountered numeric array with a mean of "+r+"...")),((e,t=!0)=>{const r={};let n=0;for(let a=0;a<e.length;a++){if(B()(r,e[a])||(r[e[a]]=!0,n+=1),n>2)return!1;if(t&&a>50)break}return 2===n})(t)){a="binary",n=[...new Set(t)].sort();let e=0;for(let r=0;r<t.length;r++)t[r]===n[1]&&(e+=1);t=t.map((e=>$()(n,e))),r=e/t.length,H("Encountered binary array with a mean of "+r+"...")}let o=this.state.sampleSize;o>t.length&&(o=t.length),this.setState({variable:e,values:t,sampleSize:o,type:a,trueMean:r})})),this.state={variable:null,type:"none",errorBars:[],nTrapped:0,nLower:0,nHigher:0,sampleSize:25,level:.95}}clear(){this.setState({errorBars:[],nTrapped:0,nLower:0,nHigher:0})}renderChart(){const{errorBars:e}=this.state;if(!e||0===e.length)return null;const t=this.state.trueMean;return n.createElement(w.Z,{padding:{top:20,bottom:30,left:40,right:20},height:2.5*this.state.errorBars.length+50,theme:E.Z.material},n.createElement(O.Z,{padding:20,standalone:!1,style:{tickLabels:{fontSize:"9px"}}}),n.createElement(O.Z,{dependentAxis:!0,padding:20,standalone:!1}),n.createElement(Z.Z,{animate:{duration:100},style:{data:{stroke:e=>e.datum.yval-e.datum.err>t||e.datum.yval+e.datum.err<t?"darkred":"steelblue"}},data:this.state.errorBars,x:"yval",y:"num",errorX:e=>e.err}),n.createElement(C.Z,{data:[{x:t,y:0},{x:t,y:this.state.errorBars.length}]}))}render(){const{t:e}=this.props,t=this.state.errorBars.length,r="numeric"===this.state.type?"mean":"proportion";return n.createElement(d.Z,{style:{maxWidth:1200}},n.createElement(N.lq,{legend:e("select-variable"),options:this.props.variables,onChange:this.onSelectVariable}),"numeric"===this.state.type||"binary"===this.state.type?n.createElement(h.Z,null,n.createElement(m.Z,{md:6},n.createElement(W.Z,{header:n.createElement("span",null,e("confidence-intervals-for")," ",this.state.variable),style:{height:"85vh"}},this.renderChart())),n.createElement(m.Z,{md:6},"numeric"===this.state.type||"binary"===this.state.type?n.createElement(W.Z,{header:e("parameters")},n.createElement(N.Y2,{legend:e("sample-size"),step:1,min:1,value:this.state.sampleSize,max:this.state.values.length,onChange:e=>this.setState({sampleSize:e})}),n.createElement(N.Y2,{legend:e("confidence-level"),step:.01,min:0,max:1,value:this.state.level,onChange:e=>this.setState({level:e})}),n.createElement(p.Z,null,I()(this.props.samples)?this.props.samples.map(((t,r)=>n.createElement(u.Z,{key:r,onClick:()=>{this.drawSamples(t)}},e("draw-samples",{n:t})))):n.createElement(u.Z,{onClick:()=>{this.drawSamples(this.props.samples)}},e("draw-samples",{n:this.props.samples})),n.createElement(u.Z,{onClick:this.clear.bind(this)},e("clear")))):null,n.createElement(W.Z,{header:e("statistics")},e("number-of-confidence-intervals-of",{center:r}),"\xa0",n.createElement(X.Z,{raw:T()(this.state.trueMean,-3)}),": ",n.createElement("br",null),n.createElement(X.Z,{raw:`\\text{${e("covering-population")} ${e(r)}: }${this.state.nTrapped} \\text{ out of } ${t}`,displayMode:!0}),this.state.errorBars.length>0?n.createElement(n.Fragment,null,n.createElement(X.Z,{raw:`\\text{${e("coverage")}: }${T()(this.state.nTrapped/t,-3)}\\%`,displayMode:!0}),e("number-of-confidence-intervals",{center:r})," ",n.createElement("br",null),n.createElement(X.Z,{raw:`\\text{${e("interval-above-population")} ${r}: }${this.state.nHigher}`,displayMode:!0}),n.createElement(X.Z,{raw:`\\text{${e("interval-below-population")} ${r}: }${this.state.nLower}`,displayMode:!0})):null))):n.createElement(c.Z,{variant:"info",style:{fontSize:24}},e("please-sample")))}}D.propTypes={data:o().object.isRequired,samples:o().oneOfType([o().arrayOf(o().number),o().number]),variables:o().array.isRequired},D.defaultProps={samples:25},t.default=(0,s.Z)("learn/confidence-coverage")(D)},770561:function(e,t,r){var n=r(72779),a=r.n(n),o=r(202784),l=r(247830),i=r(429658),s=r(552322);const c=o.forwardRef((({as:e,bsPrefix:t,variant:r,size:n,active:o,className:c,...u},p)=>{const d=(0,i.vE)(t,"btn"),[m,{tagName:h}]=(0,l.FT)({tagName:e,...u}),f=h;return(0,s.jsx)(f,{...m,...u,ref:p,className:a()(c,d,o&&"active",r&&`${d}-${r}`,n&&`${d}-${n}`,u.href&&u.disabled&&"disabled")})}));c.displayName="Button",c.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=c},423184:function(e,t,r){var n=r(72779),a=r.n(n),o=r(202784),l=r(429658),i=r(552322);const s=o.forwardRef((({bsPrefix:e,size:t,vertical:r,className:n,as:o="div",...s},c)=>{const u=(0,l.vE)(e,"btn-group");let p=u;return r&&(p=`${u}-vertical`),(0,i.jsx)(o,{...s,ref:c,className:a()(n,p,t&&`${u}-${t}`)})}));s.displayName="ButtonGroup",s.defaultProps={vertical:!1,role:"group"},t.Z=s},700865:function(e,t,r){r.d(t,{Z:function(){return H}});var n=r(213980),a=r.n(n),o=r(202784),l=r(585613),i=r(575380),s=r(322),c=r(50038),u=r(228300),p=r(761027),d=r(564167),m=r(844204),h=r(330490),f=r(460019),b=r.n(f),y=r(896866);function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){g(e,t,r[t])}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e,t,r){var n="right"===r||"left"===r;return o.cloneElement(e.lineComponent,v({},e.events,{role:e.role,shapeRendering:e.shapeRendering,className:e.className,style:e.style,transform:e.transform,key:"".concat(e.id,"-border-").concat(r),x1:n?t[r]:e.x-e.borderWidth,x2:n?t[r]:e.x+e.borderWidth,y1:n?e.y-e.borderWidth:t[r],y2:n?e.y+e.borderWidth:t[r]}))},w=function(e,t,r){var n="top"===r||"bottom"===r;return o.cloneElement(e.lineComponent,v({},e.events,{role:e.role,shapeRendering:e.shapeRendering,className:e.className,style:e.style,transform:e.transform,key:"".concat(e.id,"-cross-").concat(r),x1:e.x,x2:n?e.x:t[r],y1:e.y,y2:n?t[r]:e.y}))},E=function(e){var t=e.errorX,r=e.errorY,n={right:{error:t,errorIndex:0},left:{error:t,errorIndex:1},top:{error:r,errorIndex:1},bottom:{error:r,errorIndex:0}};return["right","left","top","bottom"].reduce((function(e,t){var r,a,o;return e[t]=(a=(r=n[t]).error,o=r.errorIndex,a?a[o]:void 0),e}),{})},O=function(e){e=function(e){var t=l.xs(e.ariaLabel,e),r=l.xs(e.id,e),n=l.F3(b()({stroke:"black"},e.style),e),a=l.xs(e.tabIndex,e);return b()({},e,{ariaLabel:t,id:r,style:n,tabIndex:a})}(e);var t=e,r=t.ariaLabel,n=t.tabIndex,a=E(e),i=[a.right?x(e,a,"right"):null,a.left?x(e,a,"left"):null,a.bottom?x(e,a,"bottom"):null,a.top?x(e,a,"top"):null,a.right?w(e,a,"right"):null,a.left?w(e,a,"left"):null,a.bottom?w(e,a,"bottom"):null,a.top?w(e,a,"top"):null].filter(Boolean);return o.cloneElement(e.groupComponent,{"aria-label":r,tabIndex:n},i)};O.propTypes=v({},c.jW,{borderWidth:a().number,datum:a().object,errorX:a().oneOfType([a().number,a().array,a().bool]),errorY:a().oneOfType([a().number,a().array,a().bool]),groupComponent:a().element,lineComponent:a().element,x:a().number,y:a().number}),O.defaultProps={groupComponent:o.createElement("g",null),lineComponent:o.createElement(y.Z,null),role:"presentation",shapeRendering:"auto"};var Z=O,C=r(301842),j=r.n(C),S=r(984573),P=r.n(S),z=r(639332),_=r(938151),T=r(733419),k=r(47191),B=r(338094),Y=function(e,t,r){var n=t[{x:"_errorX",y:"_errorY"}[r]];if(0===n)return!1;var a=e.scale[r];return Array.isArray(n)?[0!==n[0]&&a(n[0]+t["_".concat(r)]),0!==n[1]&&a(t["_".concat(r)]-n[1])]:[a(n+t["_".concat(r)]),a(t["_".concat(r)]-n)]},$=function(e){var t=["x","y","errorX","errorY"];if(e.data)return z.lv(e.data,e,t);var r=e.errorX||e.errorY?z.I6(e):[];return z.lv(r,e,t)},A=function(e,t){var r=_.bZ(e,t),n=_.lg(e,t),a=$(e);if(a.length<1)return void 0!==r&&void 0!==n?_.CU(r,n):void 0;var o="x"===t?"_errorX":"_errorY",l=function(e){var r="min"===e?1/0:-1/0,n="min"===e?1:0,l="min"===e?-1:1;return a.reduce((function(r,a){var i=Array.isArray(a[o])?a[o][n]:a[o],s=a["_".concat(t)]+l*(i||0);return r<s&&"min"===e||r>s&&"max"===e?r:s}),r)},i=void 0!==r?r:l("min"),s=void 0!==n?n:l("max");return _.CU(i,s)},I=function(e,t){return _.Ae(A)(e,t)},N=function(e,t){var r=l.TY(e,t,"errorbar");e=b()({},r,function(e){var t=l.Lo(e,"errorbar"),r=l.Wi(e.style,t)||{},n=$(e),a={x:l.rx(e,"x"),y:l.rx(e,"y")},o={x:I(e,"x"),y:I(e,"y")};return{domain:o,data:n,scale:{x:k.q8(e,"x").domain(o.x).range(e.horizontal?a.y:a.x),y:k.q8(e,"y").domain(o.y).range(e.horizontal?a.x:a.y)},style:r,origin:e.polar?e.origin||l.IW(e):void 0}}(r));var n=e,a=n.borderWidth,o=n.data,i=n.domain,s=n.events,c=n.groupComponent,u=n.height,p=n.horizontal,d=n.labels,m=n.name,h=n.origin,f=n.padding,y=n.polar,v=n.scale,g=n.sharedEvents,x=n.standalone,w=n.style,E=n.theme,O=n.width,Z=n.disableInlineStyles,C={parent:{data:o,domain:i,height:u,horizontal:p,name:m,origin:h,padding:f,polar:y,scale:v,standalone:x,style:w.parent,theme:E,width:O}};return o.reduce((function(t,r,n){var u=j()(r.eventKey)?n:r.eventKey,m=l.q2(b()({},e,{scale:v}),r),h=m.x,f=m.y;r=function(e,t){var r=T.ao(t.x),n=T.MN(t.x),a=T.ao(t.y),o=T.MN(t.y),l=e._x,i=e._y;return(l<r||l>n||i<a||i>o)&&(l=i=null),Object.assign({},e,{_x:l,_y:i})}(r,i);var y=Y(e,r,"x"),x=Y(e,r,"y"),E={borderWidth:a,data:o,datum:r,errorX:p?x:y,errorY:p?y:x,groupComponent:c,horizontal:p,index:n,scale:v,style:Z?{}:w.data,x:h,y:f,disableInlineStyles:Z};t[u]={data:E};var O=B.Q(e,r,n);return(null!=O||d&&(s||g))&&(t[u].labels=function(e,t,r){var n=e.x,a=e.y,o=e.index,i=e.scale,s=e.errorY,c=e.errorX,u=e.horizontal,p=e.labelComponent,d=e.theme,m=e.disableInlineStyles,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",r="y"===t?s:c;return(r&&Array.isArray(r)?r[0]:r)||e[t]},f=r.labels||{},b=f.padding||0,y=u?"start":"middle",v=u?"middle":"end",g={style:f,y:u?a:h("y"),x:u?h("x"):n,dy:u?0:-b,dx:u?b:0,text:t,index:o,scale:i,datum:e.datum,data:e.data,textAnchor:f.textAnchor||y,verticalAnchor:f.verticalAnchor||v,angle:f.angle,horizontal:u,disableInlineStyles:m};if(!l.ij(p))return g;var x=d&&d.tooltip||{};return P()({},g,l.CE(x,["style"]))}(b()({},e,E),O,w)),t}),C)};function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var R={width:450,height:300,padding:50},q=function(e){function t(){return X(this,t),M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r=t,(n=[{key:"shouldAnimate",value:function(){return!!this.props.animate}},{key:"render",value:function(){var e=t.animationWhitelist,r=t.role,n=l.TY(this.props,R,r);if(this.shouldAnimate())return this.animateComponent(n,e);var a=this.renderData(n),s=o.cloneElement(n.containerComponent,i.I(n));return n.standalone?this.renderContainer(s,a):a}}])&&L(r.prototype,n),a&&L(r,a),t}(o.Component);Object.defineProperty(q,"animationWhitelist",{configurable:!0,enumerable:!0,writable:!0,value:["data","domain","height","padding","samples","style","width","errorX","errorY","borderWidth"]}),Object.defineProperty(q,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryErrorBar"}),Object.defineProperty(q,"role",{configurable:!0,enumerable:!0,writable:!0,value:"errorbar"}),Object.defineProperty(q,"defaultTransitions",{configurable:!0,enumerable:!0,writable:!0,value:s.cv()}),Object.defineProperty(q,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){W(e,t,r[t])}))}return e}({},c.wA,c.ly,{borderWidth:a().number,errorX:a().oneOfType([a().func,u.BO([u._L,u.A7]),a().string,a().arrayOf(a().string)]),errorY:a().oneOfType([a().func,u.BO([u._L,u.A7]),a().string,a().arrayOf(a().string)]),horizontal:a().bool})}),Object.defineProperty(q,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{containerComponent:o.createElement(p.Z,null),data:[{x:1,y:1,errorX:.1,errorY:.1},{x:2,y:2,errorX:.2,errorY:.2},{x:3,y:3,errorX:.3,errorY:.3},{x:4,y:4,errorX:.4,errorY:.4}],dataComponent:o.createElement(Z,null),labelComponent:o.createElement(d.Z,null),groupComponent:o.createElement("g",{role:"presentation"}),samples:50,sortOrder:"ascending",standalone:!0,theme:m.Z.grayscale}}),Object.defineProperty(q,"getDomain",{configurable:!0,enumerable:!0,writable:!0,value:I}),Object.defineProperty(q,"getData",{configurable:!0,enumerable:!0,writable:!0,value:$}),Object.defineProperty(q,"getBaseProps",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return N(e,R)}}),Object.defineProperty(q,"expectedComponents",{configurable:!0,enumerable:!0,writable:!0,value:["dataComponent","labelComponent","groupComponent","containerComponent"]});var H=(0,h.Z)(q)}}]);