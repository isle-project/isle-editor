/*! For license information please see LearnWordVennDiagram.98248e09.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[928],{741897:function(t,e,n){n.r(e);var a=n(497326),r=n(894578),s=n(202784),i=n(213980),o=n.n(i),l=n(198),c=n(770561),u=n(423184),d=n(260952),f=n(379733),p=n(805312),m=n(391404),v=n.n(m),h=n(777628),y=n.n(h),b=n(300198),g=n.n(b),w=n(224008),Z=n.n(w),k=n(929321),C=n(586318),E=n(24551),A=n(338664),x=Object.defineProperty,B=function(t,e,n){return function(t,e,n){e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n}(t,"symbol"!=typeof e?e+"":e,n),n},P=(0,E.Z)("word-venn-diagram"),W=function(t){function e(e){var n;n=t.call(this,e)||this,B((0,a.Z)(n),"drawPlot",(function(){var t,e=n.state.freqs,a=p.Ys("#"+n.id+"-venn");a.select("svg").remove(),t=n.state.tooltip?n.state.tooltip:p.Ys("body").append("div").attr("class","venntooltip");var r=f.VennDiagram().width(n.props.width).height(n.props.height);a.datum(e).call(r),a.selectAll("g").on("mouseover",(function(e,n){f.sortAreas(a,e),t.transition().duration(400).style("opacity",.9),t.text(e.sets.join(" and ")+" ("+e.size+")"),p.Ys(this).transition("tooltip").duration(400).select("path").style("stroke-width",3).style("stroke","black").style("fill-opacity",1===e.sets.length?.4:.1).style("stroke-opacity",1)})).on("mousemove",(function(){t.style("left",p.Ba6.pageX+"px").style("top",p.Ba6.pageY-28+"px")})).on("mouseout",(function(e,n){t.transition().duration(400).style("opacity",0),p.Ys(this).transition("tooltip").duration(400).select("path").style("fill-opacity",1===e.sets.length?.25:0).style("stroke-opacity",0)})),n.setState({tooltip:t})})),B((0,a.Z)(n),"calculateWordFrequency",(function(t){var e=n.state,a=e.indices,r=e.minCount,s=e.tdm,i=e.words[t],o=a[t],l=[],c=0;if(s[o])for(var u=s[o].map((function(e){return e>=r[t]?1:0})),d=0;d<u.length;d++)c+=u[d],1===u[d]&&l.push(d);return{sets:[i],size:c,docIndices:l}})),B((0,a.Z)(n),"wordNumberClickFactory",(function(t){return function(){n.setState({nWords:t+1,disabled:!0,words:new Array(t+1),minCount:new Array(t+1).fill(1)})}})),B((0,a.Z)(n),"updatePlot",(function(){for(var t=[],e=0;e<n.state.nWords;e++){var a=n.calculateWordFrequency(e);t.push(a)}if(2===n.state.nWords){var r=n.calculateJointAB(0,1);t.push(r)}else if(3===n.state.nWords){var s=n.calculateJointAB(0,1);t.push(s),s=n.calculateJointAB(0,2),t.push(s),s=n.calculateJointAB(1,2),t.push(s),s=n.calculateJointABC(0,1,2),t.push(s)}n.setState({freqs:t},(function(){n.drawPlot(),n.props.onClick(n.state)}))}));var r=e.tdm.map((function(t){for(var n=new Array(e.nTexts),a=0;a<n.length;a++)n[a]=t[a]?t[a]:0;return n}));return n.id=e.id||P(e),n.state={disabled:!0,words:new Array(1),indices:new Array(1),freqs:[],minCount:[1],nWords:1,tdm:r},n}(0,r.Z)(e,t);var n=e.prototype;return n.componentDidUpdate=function(t,e){for(var n=!1,a=0;a<this.state.nWords;a++)e.words[a]!==this.state.words[a]&&(n=!0);if(n){for(var r=new Array(this.state.nWords),s=this.props.vocabulary,i=0;i<this.state.nWords;i++)for(var o=0;o<s.length;o++)s[o]===this.state.words[i]&&(r[i]=o);this.setState({indices:r})}},n.wordChangeFactory=function(t){var e=this;return function(n){var a=Array.prototype.slice.call(e.state.words);a[t]=y()(g()(n))||null,e.setState({words:a,disabled:!v()(a)})}},n.calculateJointAB=function(t,e){var n=this.state,a=n.indices,r=n.minCount,s=n.tdm,i=n.words,o=a[t],l=a[e],c=0;if(s[o]&&s[l])for(var u=s[o].map((function(e){return e>=r[t]?1:0})),d=s[l].map((function(t){return t>=r[e]?1:0})),f=0;f<u.length;f++)u[f]&&d[f]&&(c+=1);return{sets:[i[t],i[e]],size:c}},n.calculateJointABC=function(t,e,n){var a=this.state,r=a.indices,s=a.minCount,i=a.tdm,o=a.words,l=r[t],c=r[e],u=r[n],d=0;if(i[l]&&i[c]&&i[u])for(var f=i[l].map((function(e){return e>=s[t]?1:0})),p=i[c].map((function(t){return t>=s[e]?1:0})),m=i[u].map((function(t){return t>=s[n]?1:0})),v=0;v<f.length;v++)f[v]&&p[v]&&m[v]&&(d+=1);return{sets:[o[t],o[e],o[n]],size:d}},n.render=function(){for(var t=this,e=this.props.t,n=[],a=function(a){n[a]=s.createElement("div",{key:"outer-"+a},s.createElement(C.Z,{key:"text-"+a,legend:e("word")+" "+(a+1),defaultValue:t.state.words[a],width:120,onChange:t.wordChangeFactory(a)}),s.createElement(k.Z,{key:"number-"+a,legend:e("min-of-times"),defaultValue:1,max:50,min:1,step:1,onChange:function(e){var n=Z()(t.state.minCount);n[a]=e,t.setState({minCount:n})}}))},r=0;r<this.state.nWords;r++)a(r);return s.createElement(s.Fragment,null,s.createElement(d.Z,null,s.createElement(d.Z.Header,{as:"h4"},e("settings")),s.createElement(d.Z.Body,null,s.createElement("p",null,s.createElement("span",{className:"title"},e("number-of-words"))),s.createElement(u.Z,null,[e("one"),e("two"),e("three")].map((function(e,n){return s.createElement(c.Z,{key:n,variant:n===t.state.nWords-1?"success":"default",onClick:t.wordNumberClickFactory(n)},e)}))),n,s.createElement(c.Z,{onClick:this.updatePlot,disabled:this.state.disabled},e("draw-venn-diagram")))),s.createElement("br",null),s.createElement(d.Z,null,s.createElement(d.Z.Header,{as:"h4"},e("venn-diagram")),s.createElement(d.Z.Body,{style:{minHeight:200}},s.createElement("span",{style:{position:"absolute",right:40,top:50}},e("total-texts"),": ",this.props.nTexts),s.createElement("div",{id:this.id+"-venn"}))))},e}(s.Component);W.propTypes={height:o().number,nTexts:o().number.isRequired,onClick:o().func,tdm:o().array.isRequired,vocabulary:o().array.isRequired,width:o().number},W.defaultProps={height:350,onClick:function(){},width:600},e.default=(0,l.Z)("learn/venn-diagram")((0,A.W)(W))},391404:function(t,e,n){var a=n(501874),r=n(384871),s=n(294565),i=r(s);a(i,"primitives",r(s.isPrimitive)),a(i,"objects",r(s.isObject)),t.exports=i},770561:function(t,e,n){var a=n(807896),r=n(231461),s=n(72779),i=n.n(s),o=n(202784),l=n(429658),c=n(482695),u=["bsPrefix","variant","size","active","className","block","type","as"],d=o.forwardRef((function(t,e){var n=t.bsPrefix,s=t.variant,d=t.size,f=t.active,p=t.className,m=t.block,v=t.type,h=t.as,y=(0,r.Z)(t,u),b=(0,l.vE)(n,"btn"),g=i()(p,b,f&&"active",s&&b+"-"+s,m&&b+"-block",d&&b+"-"+d);if(y.href)return o.createElement(c.Z,(0,a.Z)({},y,{as:h,ref:e,className:i()(g,y.disabled&&"disabled")}));e&&(y.ref=e),v?y.type=v:h||(y.type="button");var w=h||"button";return o.createElement(w,(0,a.Z)({},y,{className:g}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},e.Z=d},423184:function(t,e,n){var a=n(807896),r=n(231461),s=n(72779),i=n.n(s),o=n(202784),l=n(429658),c=["bsPrefix","size","toggle","vertical","className","as"],u=o.forwardRef((function(t,e){var n=t.bsPrefix,s=t.size,u=t.toggle,d=t.vertical,f=t.className,p=t.as,m=void 0===p?"div":p,v=(0,r.Z)(t,c),h=(0,l.vE)(n,"btn-group"),y=h;return d&&(y=h+"-vertical"),o.createElement(m,(0,a.Z)({},v,{ref:e,className:i()(f,y,s&&h+"-"+s,u&&h+"-toggle")}))}));u.displayName="ButtonGroup",u.defaultProps={vertical:!1,toggle:!1,role:"group"},e.Z=u}}]);