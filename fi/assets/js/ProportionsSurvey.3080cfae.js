"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12723],{956260:function(e,t,n){var s=n(202784),r=n(213980),l=n.n(r),a=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=e=>{const t=e,{children:n}=t,r=((e,t)=>{var n={};for(var s in e)i.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&o)for(var s of o(e))t.indexOf(s)<0&&u.call(e,s)&&(n[s]=e[s]);return n})(t,["children"]);return s.createElement("div",((e,t)=>{for(var n in t||(t={}))i.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))u.call(t,n)&&c(e,n,t[n]);return e})({},r),n)};p.defaultProps={className:"",style:{}},p.propTypes={className:l().string,style:l().object},t.Z=p},520354:function(e,t,n){n.r(t);var s=n(202784),r=n(213980),l=n.n(r),a=n(690299),o=n.n(a),i=n(498614),u=n(790817),c=n(312594),p=n(458264),m=n(471275),d=n(1570),f=n.n(d),g=n(985122),b=n(956260),y=n(466621),v=n(70366),h=n(123103),E=n(426214),w=n(691334),Z=n(487890),N=n(20185);const O=o()("isle:proportions-survey"),P=e=>{const{id:t,logAction:n}=(0,Z.G)("PROPORTIONS_SURVEY"),{t:r}=(0,i.$G)("surveys"),l=(0,s.useContext)(h.Z),[a,o]=(0,s.useState)(!1),[d,P]=(0,s.useState)(!1),S=e.legends.length,[$,C]=(0,s.useState)(new Array(S).fill(100/S)),[k,x]=(0,s.useState)({values:null,nResults:0}),{anonymous:R,legends:j,onSubmit:z}=e,A=(0,s.useCallback)((()=>{O("Sending the data: "+$),n(w.gY,JSON.stringify($),{anonymous:R},"members"),o(!0),l.addNotification({title:r("submitted"),message:r("answer-submitted"),level:"success"}),z($)}),[R,n,z,l,r,$]),T=(0,s.useCallback)((e=>{O("ProportionsSurvey is receiving data: "+JSON.stringify(e));const t=new Array(e.length);for(let l=0;l<e.length;l++)t[l]=JSON.parse(e[l]);const n=j.length,s=new Array(n).fill(0),r=new Array(n).fill(0);for(let l=0;l<t.length;l++)for(let e=0;e<t[l].length;e++)s[e]+=t[l][e];O("The sum is "+s);for(let l=0;l<n;l++)r[l]=s[l]/t.length;O("The mean is "+r),x({values:r,nResults:t.length})}),[j]),H=a&&!e.allowMultipleAnswers||e.disabled||f()((0,N.Z)($),100)>.2;return s.createElement(E.Z,null,s.createElement(m.Z,null,s.createElement(p.Z,null,s.createElement(c.Z,{md:6},s.createElement(u.Z,{body:!0,className:"proportions-survey"},s.createElement("h3",null,e.question,d?s.createElement("i",{className:"fas fa-lock",style:{float:"right"}}):null),s.createElement(g.Z,{legends:j,precision:e.precision,step:e.step,height:e.personalHeight,colors:e.colors,margin:e.margin,onChange:C}),s.createElement(v.Z,{id:t.current,disabled:H,onClick:A,onPaused:P},r(H?"submitted":"submit")))),s.createElement(c.Z,{md:6},s.createElement(u.Z,{body:!0,className:"proportions-survey"},s.createElement("h3",null,e.group),s.createElement(y.Z,{for:[t.current],onData:T}),s.createElement("h4",null,r("number-of-votes"),": ",k.nResults," "),s.createElement(g.Z,{legends:e.legends,precision:e.precision,step:e.step,height:e.groupHeight,colors:e.colors,disabled:!0,margin:e.margin,values:k.values}))))),s.createElement(b.Z,{buttonLabel:r("responses"),id:t.current}))};P.defaultProps={onSubmit(){},allowMultipleAnswers:!1,question:"",anonymous:!1,disabled:!1,legends:[],group:"group results",precision:2,step:.25,colors:null,personalHeight:200,groupHeight:100,margin:"40px"},P.propTypes={allowMultipleAnswers:l().bool,anonymous:l().bool,colors:l().array,disabled:l().bool,group:l().string,groupHeight:l().number,legends:l().array,margin:l().string,onSubmit:l().func,personalHeight:l().number,precision:l().number,question:l().oneOfType([l().string,l().node]),step:l().number},t.default=P},70366:function(e,t,n){var s=n(202784),r=n(213980),l=n.n(r),a=n(498614),o=n(822736),i=n(770561),u=n(770149),c=n(123103),p=n(691334),m=n(302108);const d=({children:e,disabled:t,id:n,size:r,variant:l,onClick:d,onPaused:f})=>{const[g,b]=(0,s.useState)(!1),{t:y}=(0,a.$G)("general"),v=(0,s.useContext)(c.Z);(0,s.useEffect)((()=>{let e;return v&&(e=v.subscribe(((e,t)=>{e===m.Wh&&t.id===n+"-stoppable-button"&&(t.type===p.rz?(b(!0),f(!0)):t.type===p.nt&&(b(!1),f(!1)))}))),()=>{e&&e()}}),[n,v,f]);const h=(0,s.useCallback)((()=>{v.log({id:n+"-stoppable-button",type:g?p.nt:p.rz,value:!0},"members"),b(!g),f&&f(!g)}),[n,g,v,f]);return n?s.createElement("div",{className:"d-grid gap-2"},s.createElement(i.Z,{className:"stoppable-button",size:r,variant:l,onClick:d,disabled:t||g},e),s.createElement(u.Z,{owner:!0,banner:null,showOwnerInPresentationMode:!1},s.createElement(i.Z,{size:r,variant:g?"warning":"secondary",onClick:h},g?s.createElement("span",null,y("resume")):s.createElement("span",null,y("pause"))))):s.createElement(o.Z,{variant:"danger"},y("supply-component-id"))};d.defaultProps={size:"small",variant:"success"},d.propTypes={size:l().oneOf(["small","sm","large","lg"]),variant:l().string},t.Z=d},770561:function(e,t,n){var s=n(72779),r=n.n(s),l=n(202784),a=n(247830),o=n(429658),i=n(552322);const u=l.forwardRef((({as:e,bsPrefix:t,variant:n,size:s,active:l,className:u,...c},p)=>{const m=(0,o.vE)(t,"btn"),[d,{tagName:f}]=(0,a.FT)({tagName:e,...c}),g=f;return(0,i.jsx)(g,{...d,...c,ref:p,className:r()(u,m,l&&"active",n&&`${m}-${n}`,s&&`${m}-${s}`,c.href&&c.disabled&&"disabled")})}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=u},471275:function(e,t,n){var s=n(72779),r=n.n(s),l=n(202784),a=n(429658),o=n(552322);const i=l.forwardRef((({bsPrefix:e,fluid:t,as:n="div",className:s,...l},i)=>{const u=(0,a.vE)(e,"container"),c="string"==typeof t?`-${t}`:"-fluid";return(0,o.jsx)(n,{ref:i,...l,className:r()(s,t?`${u}${c}`:u)})}));i.displayName="Container",i.defaultProps={fluid:!1},t.Z=i},458264:function(e,t,n){var s=n(72779),r=n.n(s),l=n(202784),a=n(429658),o=n(552322);const i=l.forwardRef((({bsPrefix:e,className:t,as:n="div",...s},l)=>{const i=(0,a.vE)(e,"row"),u=(0,a.pi)(),c=(0,a.zG)(),p=`${i}-cols`,m=[];return u.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"==typeof t?({cols:n}=t):n=t;const r=e!==c?`-${e}`:"";null!=n&&m.push(`${p}${r}-${n}`)})),(0,o.jsx)(n,{ref:l,...s,className:r()(t,i,...m)})}));i.displayName="Row",t.Z=i}}]);