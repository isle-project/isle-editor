"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[87130],{16199:function(e,t,a){a.r(t),a.d(t,{default:function(){return Xe}});var r=a(202784),n=a(198),s=a(482228),i=a(423184),l=a(770561),o=a(822736),c=a(312594),h=a(458264),d=a(360626),m=a(594010),u=a(471275),p=a(790817),g=a(323522),E=a(844204),x=a(850013),Z=a(357521),v=a(405362),y=a(695688),b=a.n(y),w=a(190465),f=a.n(w),C=a(798030),F=a.n(C),P=a(74039),X=a.n(P),k=a(485298),L=a.n(k),S=a(302467),$=a.n(S),D=a(523632),N=a.n(D),R=a(427907),A=a.n(R),z=a(921432),O=a.n(z),U=a(729545),Y=a.n(U),T=a(109918),V=a.n(T),j=a(395465),q=a.n(j),B=a(105192),I=a.n(B),K=a(287013),M=a.n(K),_=a(426214),W=a(506078),G=a(369701),H=a(194542),J=JSON.parse('["exp","ln","pow","sqrt"]'),Q=a(422957),ee=a.n(Q),te=a(32593),ae=a.n(te),re=a(690299);const ne=a.n(re)()("integrate-simpson");function se(e,t,a,r,n,s,i,l,o,c,h){if(h.nanEncountered)return NaN;let d=a-t,m=e(t+.25*d),u=e(a-.25*d);if(ee()(m))return void(h.nanEncountered=!0);if(ee()(u))return void(h.nanEncountered=!0);let p=d*(r+4*m+n)/12,g=d*(n+4*u+s)/12,E=p+g,x=(E-i)/15;if(c>o)return h.maxDepthCount++,E+x;if(ae()(x)<l)return E+x;const Z=t+.5*d,v=se(e,t,Z,r,m,n,p,.5*l,o,c+1,h);if(ee()(v))return h.nanEncountered=!0,NaN;const y=se(e,Z,a,n,u,s,g,.5*l,o,c+1,h);return ee()(y)?(h.nanEncountered=!0,NaN):v+y}var ie=function(e,t,a,r,n){const s={maxDepthCount:0,nanEncountered:!1};void 0===r&&(r=1e-8),void 0===n&&(n=20);const i=e(t),l=e(.5*(t+a)),o=e(a),c=se(e,t,a,i,l,o,(i+4*l+o)*(a-t)/6,r,n,1,s);return s.maxDepthCount>0&&ne("integrate-adaptive-simpson: Warning: maximum recursion depth ("+n+") reached "+s.maxDepthCount+" times"),s.nanEncountered&&ne("integrate-adaptive-simpson: Warning: NaN encountered. Halting early."),c},le=Object.defineProperty,oe=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,ue=(e,t,a)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,pe=(e,t)=>{for(var a in t||(t={}))de.call(t,a)&&ue(e,a,t[a]);if(he)for(var a of he(t))me.call(t,a)&&ue(e,a,t[a]);return e},ge=(e,t)=>oe(e,ce(t)),Ee=(e,t,a)=>(ue(e,"symbol"!=typeof t?t+"":t,a),a);const xe=[f(),F(),b()],Ze=/([\S]+)\^([\S]+)/g,ve=/([^()+-/*^\s]+)\^([^()\s+-/*^]+)/g,ye=/([^()\s]+)\^(\([^()\s]+\))/g,be=/(?:^|\n)([^\n]*)$/;function we(e,t,a){return M()(t,"^")&&(t=$()(t,Ze,we)),M()(a,"^")&&(a=$()(a,Ze,we)),`${t} ** ${a}`}function fe(e,t,a){return`{${t}}^{${a}}`}function Ce(e,t,a){return M()(t,"^")&&(t=$()(t,ve,fe),t=$()(t,ye,fe)),M()(a,"^")&&(a=$()(a,ve,fe),a=$()(a,ye,fe)),`{${t}}^{${a}}`}function Fe(e,t,a,r,n,s){try{e=$()(e,be,"\nreturn $1"),e=$()(e,Ze,we);let i=new Function("x",...J,e);i=L()(i,...xe);const l=ie(i,t,a,1e-4),o=N()(t-1,a+1,600),c=new Array(o.length);let h=!1,d=q(),m=V();const u=e=>{let r;return r=e<t||e>a?0:i(e)/l,r};for(let e=0;e<o.length;e++){let t=u(o[e]);t<m&&(m=t),t>d&&(d=t),c[e]={x:o[e],y:t},c[e].y<0&&(h=!0)}const p=ie(u,t,r,1e-4),[g,E]=I()(c,(e=>e.x<r)),x=ie(u,n,s,1e-4),Z=c.filter((e=>n<=e.x&&e.x<=s));return{hasNegativeValues:h,normalizingConstant:l,data:c,minY:m,maxY:d,pdf:u,lowerProb:p,upperProb:1-p,xLowerArea:g,xUpperArea:E,rangeProb:x,rangeArea:Z}}catch(i){return i}}class Pe extends r.Component{constructor(e){super(e),Ee(this,"insertLiteralFactory",(e=>()=>{let t=this.state.code.substring(0,this.state.selection);const a=e;t+=a,t+=this.state.code.substring(this.state.selection),this.setState({selection:this.state.selection+a.length},(()=>{this.handlePDFChange(t)}))})),Ee(this,"insertFuncFactory",(e=>()=>{let t=this.state.code.substring(0,this.state.selection);const a=" "+e+"()";t+=a,t+=this.state.code.substring(this.state.selection),this.setState({code:t,selection:this.state.selection+a.length-1})})),Ee(this,"handlePDFChange",(e=>{if(Y()(e))return this.setState({encounteredError:new Error("Function cannot be empty "),code:"",selection:0});const{lowerX:t,upperX:a,xval:r,lowerRange:n,upperRange:s}=this.state,i=Fe(e,t,a,r,n,s);return A()(i)?this.setState({code:e,encounteredError:i}):O()(i.normalizingConstant)?void this.setState(ge(pe({code:e},i),{encounteredError:null})):this.setState({code:e,encounteredError:new Error("Integration failed.")})})),Ee(this,"setUpperDomain",(e=>{const{code:t,lowerX:a,xval:r,lowerRange:n,upperRange:s}=this.state;if(e<=a)return this.setState({upperX:e,encounteredError:new Error("Upper bound must be larger than lower bound.")});const i=Fe(t,a,e,r,n,s);return A()(i)?this.setState({upperX:e,encounteredError:i}):O()(i.normalizingConstant)?void this.setState(ge(pe({upperX:e},i),{encounteredError:null})):this.setState({upperX:e,encounteredError:new Error("Integration failed.")})})),Ee(this,"setLowerDomain",(e=>{const{code:t,upperX:a,xval:r,lowerRange:n,upperRange:s}=this.state;if(e>=a)return this.setState({lowerX:e,encounteredError:new Error("Lower bound must be smaller than upper bound.")});const i=Fe(t,e,a,r,n,s);return A()(i)?this.setState({lowerX:e,encounteredError:i}):O()(i.normalizingConstant)?void this.setState(ge(pe({lowerX:e},i),{encounteredError:null})):this.setState({lowerX:e,encounteredError:new Error("Integration failed.")})})),Ee(this,"handlePopover",(e=>{this.setState({disableTabs:e})}));const t=Fe("x^2",-2,2,-2,-1,1);this.state=ge(pe({code:"x^2",lowerX:-2,upperX:2},t),{lowerRange:-1,upperRange:1,xval:-2,disableTabs:!1,selection:3})}renderEquation(){let e=`f(x) = \\begin{cases} \\frac{1}{${X()(this.state.normalizingConstant,-4)}} \\cdot`;return e+=`\\left( ${function(e){let t=$()(e,ve,fe);return t=$()(t,ye,Ce),t=$()(t,"*"," \\cdot "),t=$()(t,/([+-/])/g," $1 "),t=$()(t,"exp"," \\operatorname{exp} "),t=$()(t,"ln"," \\operatorname{ln} "),t=$()(t,/sqrt\(([^)]+)\)/g," \\sqrt{$1}"),t}(this.state.code)} \\right)`,e+=`& \\text{ ${this.props.t("for")} } x \\in [ ${this.state.lowerX}, ${this.state.upperX} ] \\\\ 0 & \\text{ ${this.props.t("otherwise")} } \\end{cases}`,r.createElement(r.Fragment,null,r.createElement("h4",null,this.props.t("normalized-pdf"),":"),r.createElement(H.Z,{raw:e,displayMode:!0,style:{fontSize:20}}))}renderGenerate(){return r.createElement("div",{className:"d-grid gap-1"},r.createElement(W.Z,{legend:this.props.t("lower-bound"),value:this.state.lowerX,step:.1,onChange:this.setLowerDomain,max:this.state.upperX,width:120}),r.createElement(W.Z,{legend:this.props.t("upper-bound"),value:this.state.upperX,step:.1,onChange:this.setUpperDomain,min:this.state.lowerX,width:120}),r.createElement(_.Z,null,r.createElement(s.Z,{style:{marginBottom:5}},r.createElement(i.Z,{size:"sm",className:"mr-2"},r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("x")},r.createElement("i",{className:"fas fa-times"}))),r.createElement(i.Z,{size:"sm",className:"mr-10"},r.createElement(l.Z,{variant:"light",size:"sm",onClick:()=>{this.handlePDFChange("x^2"),this.setState({selection:3})}},this.props.t("reset")),r.createElement(l.Z,{variant:"light",size:"sm",onClick:()=>{let e=this.state.code.substring(0,this.state.selection-1);e+=this.state.code.substring(this.state.selection),this.handlePDFChange(e),this.setState({selection:this.state.selection-1})}},"\u232b"))),r.createElement(s.Z,{style:{marginBottom:5}},r.createElement(i.Z,{size:"sm",className:"mr-10"},r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("0")},"0"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("1")},"1"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("2")},"2"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("3")},"3"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("4")},"4"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("5")},"5"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("6")},"6"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("7")},"7"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("8")},"8"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("9")},"9")),r.createElement(i.Z,{size:"sm",className:"mr-2"},r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory(".")},"."))),r.createElement(s.Z,{style:{marginBottom:5}},r.createElement(i.Z,{size:"sm",className:"mr-2"},r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory(" + ")},"+"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory(" - ")},"-"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory(" * ")},"*"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory(" / ")},"/"),r.createElement(l.Z,{variant:"light",onClick:this.insertLiteralFactory("^")},"^")),r.createElement(i.Z,null,["exp","ln","sqrt"].map(((e,t)=>r.createElement(l.Z,{variant:"light",key:t,onClick:this.insertFuncFactory(e)},e))))),r.createElement(G.Z,{ref:e=>{this.textarea=e},legend:`(${this.props.t("non-normalized")}) PDF f(x)`,placeholder:"Enter formula...",defaultValue:this.state.code,onChange:this.handlePDFChange,onBlur:e=>{const t=e.target.selectionStart;this.setState({selection:t})},width:250})))}renderTabs(){return this.state.encounteredError?r.createElement(o.Z,{variant:"danger"},this.state.encounteredError.message):this.state.hasNegativeValues?r.createElement(o.Z,{variant:"warning"},this.props.t("no-valid-pdf")):r.createElement(d.Z,{defaultActiveKey:1,id:"continuous-distribution-tabs"},r.createElement(m.Z,{eventKey:1,title:r.createElement(H.Z,{raw:"P(X \\le x_0)"}),disabled:this.state.disableTabs},r.createElement(_.Z,{header:this.props.t("probability-density-function")},r.createElement(H.Z,{raw:`P( X \\le x = ${this.state.xval}) = ${this.state.lowerProb.toFixed(3)}`,elems:{x:{variable:"x",onChange:e=>{const t=ie(this.state.pdf,this.state.lowerX,e,1e-4),[a,r]=I()(this.state.data,(t=>t.x<e));this.setState({lowerProb:t,xval:e,xLowerArea:a,xUpperArea:r})},defaultValue:this.state.xval,tooltip:"Click to change value"}},displayMode:!0,onPopover:this.handlePopover}),r.createElement(g.Z,{domain:{x:[this.state.lowerX-1,this.state.upperX+1],y:[this.state.minY-.2,this.state.maxY+.2]},theme:E.Z.material},r.createElement(x.Z,null),r.createElement(x.Z,{dependentAxis:!0,tickFormat:e=>X()(e,-3)}),r.createElement(Z.Z,{data:this.state.data,x:"x",y:"y"}),r.createElement(v.Z,{data:this.state.xLowerArea,style:{data:{opacity:.3,fill:"tomato"}}})))),r.createElement(m.Z,{eventKey:2,title:r.createElement(H.Z,{raw:"P(X > x_0)"}),disabled:this.state.disableTabs},r.createElement(_.Z,{header:"Probability Density Function (PDF)"},r.createElement(H.Z,{raw:`P( X > x = ${this.state.xval}) = ${(1-this.state.lowerProb).toFixed(3)}`,elems:{x:{variable:"x",onChange:e=>{const t=ie(this.state.pdf,e,this.state.upperX,1e-4),[a,r]=I()(this.state.data,(t=>t.x<e));this.setState({lowerProb:1-t,xval:e,xLowerArea:a,xUpperArea:r})},defaultValue:this.state.xval,tooltip:"Click to change value"}},displayMode:!0,onPopover:this.handlePopover}),r.createElement(g.Z,{theme:E.Z.material,domain:{x:[this.state.lowerX-1,this.state.upperX+1],y:[this.state.minY-.2,this.state.maxY+.2]}},r.createElement(x.Z,null),r.createElement(x.Z,{dependentAxis:!0,tickFormat:e=>X()(e,-3)}),r.createElement(Z.Z,{data:this.state.data,x:"x",y:"y"}),r.createElement(v.Z,{data:this.state.xUpperArea,style:{data:{opacity:.3,fill:"tomato"}}})))),r.createElement(m.Z,{eventKey:3,title:r.createElement(H.Z,{raw:"P( x_0 \\le X \\le x_1)"}),disabled:this.state.disableTabs},r.createElement(_.Z,{header:"Probability Density Function (PDF)"},r.createElement(H.Z,{raw:`P( L = ${this.state.lowerRange} \\le X \\le U = ${this.state.upperRange}) = ${this.state.rangeProb.toFixed(3)}`,elems:{L:{variable:"L",onChange:e=>{const t=ie(this.state.pdf,e,this.state.upperRange,1e-4),a=this.state.data.filter((t=>e<=t.x&&t.x<=this.state.upperRange));this.setState({rangeArea:a,rangeProb:t,lowerRange:e})},defaultValue:this.state.lowerRange,tooltip:"Click to change lower value"},U:{variable:"U",onChange:e=>{const t=ie(this.state.pdf,this.state.lowerRange,e,1e-4),a=this.state.data.filter((t=>this.state.lowerRange<=t.x&&t.x<=e));this.setState({rangeArea:a,rangeProb:t,upperRange:e})},defaultValue:this.state.upperRange,tooltip:"Click to change upper value"}},displayMode:!0,onPopover:this.handlePopover}),r.createElement(g.Z,{domain:{x:[this.state.lowerX-1,this.state.upperX+1],y:[this.state.minY-.2,this.state.maxY+.2]},theme:E.Z.material},r.createElement(x.Z,null),r.createElement(x.Z,{dependentAxis:!0,tickFormat:e=>X()(e,-3)}),r.createElement(Z.Z,{data:this.state.data,x:"x",y:"y"}),r.createElement(v.Z,{data:this.state.rangeArea,style:{data:{opacity:.3,fill:"tomato"}}})))))}render(){return r.createElement(p.Z,{style:{maxWidth:1200,margin:"10px auto"}},r.createElement(p.Z.Header,{as:"h2"},this.props.t("continuous-distribution-probabilities")),r.createElement(p.Z.Body,null,r.createElement(u.Z,null,r.createElement(h.Z,null,r.createElement(c.Z,{md:7},this.renderEquation(),this.renderGenerate()),r.createElement(c.Z,{md:5},this.renderTabs())))))}}var Xe=(0,n.Z)("learn/distribution")(Pe)}}]);