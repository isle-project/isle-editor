"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9599],{134656:function(e,t,s){var n=(0,s(708717).Z)((function(){return s.e(112).then(s.bind(s,643549))}));t.Z=n},569904:function(e,t,s){var n=s(867855),r=s(202784),i=s(213980),o=s.n(i),a=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,u=function(e,t,s){return t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s},m=function(e){var t=e,s=t.children,i=function(e,t){var s={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&l)for(var i,o=(0,n.Z)(l(e));!(i=o()).done;)r=i.value,t.indexOf(r)<0&&p.call(e,r)&&(s[r]=e[r]);return s}(t,["children"]);return r.createElement("div",function(e,t){for(var s in t||(t={}))c.call(t,s)&&u(e,s,t[s]);if(l)for(var r,i=(0,n.Z)(l(t));!(r=i()).done;)s=r.value,p.call(t,s)&&u(e,s,t[s]);return e}({},i),s)};m.defaultProps={className:"",style:{}},m.propTypes={className:o().string,style:o().object},t.Z=m},615697:function(e,t,s){var n=(0,s(708717).Z)((function(){return s.e(6131).then(s.bind(s,102149))}));t.Z=n},583879:function(e,t,s){s.r(t);var n=s(497326),r=s(894578),i=s(867855),o=s(202784),a=s(690299),l=s.n(a),c=s(213980),p=s.n(c),u=s(198),m=s(23836),d=s(931776),h=s(223444),b=s(770561),f=s(458264),v=s(312594),g=s(294565),y=s(224008),w=s.n(y),Z=s(437069),E=s.n(Z),P=s(287013),N=s.n(P),x=s(588703),k=s.n(x),O=s(309765),S=s(623102),j=s.n(S),q=s(24551),F=s(262600),T=s(134656),C=s(569904),$=s(615697),I=s(89926),R=s(269891),A=s(267682),M=s(382617),L=s(615558),z=Object.defineProperty,H=Object.defineProperties,B=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,V=function(e,t,s){return t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s},_=function(e,t){for(var s in t||(t={}))Q.call(t,s)&&V(e,s,t[s]);if(D)for(var n,r=(0,i.Z)(D(t));!(n=r()).done;){s=n.value;W.call(t,s)&&V(e,s,t[s])}return e},G=function(e,t){return H(e,B(t))},J=function(e,t,s){return V(e,"symbol"!=typeof t?t+"":t,s),s},K=l()("isle:select-question-matrix"),U=(0,q.Z)("select-question-matrix"),X=function(e){function t(t){var s;return s=e.call(this,t)||this,J((0,n.Z)(s),"handleChangeFactory",(function(e){return function(t){K("Received a new value for "+e+"...");var n=w()(s.state.answers,1);n[e]=t.value,s.setState({answers:n})}})),J((0,n.Z)(s),"handleSubmit",(function(){for(var e=s.context,t=!0,n=E()(s.props.solution),r=0;r<n.length;r++){var i=n[r],o=s.props.solution[i],a=s.state.answers[i];(0,O.isPrimitive)(a)&&(k()(o)?N()(o,a)||(t=!1):o!==a&&(t=!1))}var l=!j()(s.props.solution);"none"!==s.props.provideFeedback&&l?t?e.addNotification({title:s.props.t("correct"),message:s.props.successMsg||s.props.t("success-message"),level:"success"}):e.addNotification({title:s.props.t("incorrect"),message:s.props.failureMsg||s.props.t("failure-message"),level:"error"}):e.addNotification({title:s.state.submitted?s.props.t("answer-resubmitted"):s.props.t("answer-submitted"),message:s.state.submitted?s.props.t("resubmit-message"):s.props.t("submit-message"),level:"info"}),e.log({id:s.id,type:M.QH,value:s.state.answers}),s.props.onSubmit(s.state.answers,t);var c=null;s.props.provideFeedback&&l&&(c=t?"success":"danger");var p=s.state.numbSubmissions+1;s.setState({submitted:!0,answerState:c,submittedAnswers:w()(s.state.answers),numbSubmissions:p,completed:(p>=s.props.nTries||t)&&"none"!==s.props.provideFeedback&&l})})),s.id=t.id||U(t),s.state={answers:{},submitted:!1,answerState:null,completed:!1,numbSubmissions:0,submittedAnswers:null},s}(0,r.Z)(t,e);var s=t.prototype;return s.renderColumnNames=function(){var e,t=this.props.cols.length;return e=t>7?1:t>4?2:3,o.createElement(f.Z,{className:"multiple-choice-matrix-question-header"},o.createElement(v.Z,{sm:e}),this.props.cols.map((function(e,t){return o.createElement(v.Z,{key:t},o.createElement(m.Z.Label,null,(0,g.isPrimitive)(e)?o.createElement(I.Z,{raw:e}):e))})))},s.renderSelectInput=function(e,t){var s,n=e+":"+t,r=this.props.options[n]||[];r=r.map((function(e,t){return{label:e,value:t}}));var i="overall"===this.props.provideFeedback&&this.state.submitted||"individual"===this.props.provideFeedback&&this.state.submitted&&(0,O.isPrimitive)(this.state.submittedAnswers[n]);i&&(0,O.isPrimitive)(this.props.solution[n])&&(s=this.state.submittedAnswers[n]===this.props.solution[n]?"green":"red");var a,l=o.createElement(d.ZP,{name:"form-field-name",className:"select-field",isDisabled:this.state.completed,isSearchable:!1,options:r,key:"select-"+e+"-"+t,onChange:this.handleChangeFactory(n),menuPlacement:"top",menuPortalTarget:document.body,styles:{menuPortal:function(e){return G(_({},e),{zIndex:1010})},singleValue:function(e){return G(_({},e),{color:s})},menu:function(e){return G(_({},e),{width:"max-content",minWidth:"100%"})}}}),c=this.props.cellLabels[n];return a=this.state.completed?"green"===s?this.props.t("correct-answer"):this.props.t("should-have-been"):"green"===s?this.props.t("correct"):this.props.t("try-again"),o.createElement(o.Fragment,null,c?o.createElement("span",{className:"select-question-matrix-cell-label"},c):null,l,i?o.createElement(h.Z,{bg:"green"===s?"success":"danger"},a,this.state.completed?this.props.options[n][this.props.solution[n]]:null):null)},s.renderRowSelects=function(e){for(var t=this.props.cols.length,s=new Array(t),n=0;n<t;n++)s[n]=o.createElement(v.Z,{key:n},this.renderSelectInput(e,n));return o.createElement(o.Fragment,null,s)},s.renderRows=function(){var e,t=this,s=this.props.rows.length;return e=s>7?1:s>4?2:3,this.props.rows.map((function(s,n){return o.createElement(f.Z,{key:n,style:{marginBottom:15,marginTop:15}},o.createElement(v.Z,{sm:e},o.createElement(m.Z.Label,{column:!0,style:{textAlign:"right"}},(0,g.isPrimitive)(s)?o.createElement(I.Z,{raw:s}):s)),t.renderRowSelects(n))}))},s.render=function(){var e=this.props.hints.length,t=E()(this.state.answers).length,s=E()(this.props.options).length,n=0===t||t<s&&!this.props.allowIncomplete||this.state.completed;return o.createElement(F.Z,_({id:this.id,border:this.state.answerState,className:"select-question-matrix "+this.props.className,style:this.props.style},this.props.panelProps),this.props.question?o.createElement("label",null,this.props.question):null,this.renderColumnNames(),this.renderRows(),o.createElement("div",{className:"select-question-matrix-toolbar"},o.createElement(b.Z,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,disabled:n},this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),e>0?o.createElement(T.Z,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.props.chat?o.createElement($.Z,{for:this.id}):null),o.createElement("div",null,o.createElement(C.Z,{id:this.id,data:{type:"tensor",rows:this.props.rows,cols:this.props.cols,question:this.props.question,solution:this.props.solution},info:M.QH}),this.props.feedback?o.createElement(R.Z,{id:this.id+"_feedback",style:{float:"left"}}):null))},t}(o.Component);X.defaultProps={question:"",rows:[],cols:[],solution:{},options:{},hints:[],hintPlacement:"bottom",feedback:!0,provideFeedback:"individual",allowIncomplete:!1,nTries:3,failureMsg:null,successMsg:null,cellLabels:{},chat:!1,panelProps:{},className:"",style:{},onSubmit:function(){}},X.propTypes={question:p().oneOfType([p().string,p().node]),rows:p().array,cols:p().array,options:p().object,solution:p().object,hints:p().arrayOf(p().oneOfType([p().string,p().node])),hintPlacement:p().string,feedback:p().bool,provideFeedback:p().oneOf(["none","overall","individual"]),allowIncomplete:p().bool,nTries:p().number,failureMsg:p().string,successMsg:p().string,cellLabels:p().object,chat:p().bool,panelProps:p().object,className:p().string,style:p().object,onSubmit:p().func},X.contextType=A.Z,t.default=(0,u.Z)("questions/select-matrix")((0,L.W)(X))},770561:function(e,t,s){var n=s(72779),r=s.n(n),i=s(202784),o=s(247830),a=s(429658),l=s(552322);const c=i.forwardRef((({as:e,bsPrefix:t,variant:s,size:n,active:i,className:c,...p},u)=>{const m=(0,a.vE)(t,"btn"),[d,{tagName:h}]=(0,o.FT)({tagName:e,...p}),b=h;return(0,l.jsx)(b,{...p,...d,ref:u,className:r()(c,m,i&&"active",s&&`${m}-${s}`,n&&`${m}-${n}`,p.href&&p.disabled&&"disabled")})}));c.displayName="Button",c.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=c},458264:function(e,t,s){var n=s(72779),r=s.n(n),i=s(202784),o=s(429658),a=s(552322);const l=["xxl","xl","lg","md","sm","xs"],c=i.forwardRef((({bsPrefix:e,className:t,as:s="div",...n},i)=>{const c=(0,o.vE)(e,"row"),p=`${c}-cols`,u=[];return l.forEach((e=>{const t=n[e];let s;delete n[e],null!=t&&"object"==typeof t?({cols:s}=t):s=t;const r="xs"!==e?`-${e}`:"";null!=s&&u.push(`${p}${r}-${s}`)})),(0,a.jsx)(s,{ref:i,...n,className:r()(t,c,...u)})}));c.displayName="Row",t.Z=c}}]);