"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[79599],{667045:function(e,t,s){const r=(0,s(217431).Z)((()=>s.e(10112).then(s.bind(s,497925))));t.Z=r},956260:function(e,t,s){var r=s(202784),n=s(213980),o=s.n(n),i=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,c=(e,t,s)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const m=e=>{const t=e,{children:s}=t,n=((e,t)=>{var s={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&p.call(e,r)&&(s[r]=e[r]);return s})(t,["children"]);return r.createElement("div",((e,t)=>{for(var s in t||(t={}))l.call(t,s)&&c(e,s,t[s]);if(a)for(var s of a(t))p.call(t,s)&&c(e,s,t[s]);return e})({},n),s)};m.defaultProps={className:"",style:{}},m.propTypes={className:o().string,style:o().object},t.Z=m},370420:function(e,t,s){const r=(0,s(217431).Z)((()=>s.e(96131).then(s.bind(s,66720))));t.Z=r},666226:function(e,t,s){s.r(t);var r=s(202784),n=s(690299),o=s.n(n),i=s(213980),a=s.n(i),l=s(198),p=s(889969),c=s(931776),m=s(223444),u=s(770561),h=s(458264),d=s(312594),b=s(294565),f=s(224008),g=s.n(f),v=s(437069),y=s.n(v),w=s(287013),E=s.n(w),P=s(588703),N=s.n(P),S=s(309765),Z=s(623102),O=s.n(Z),k=s(426214),j=s(667045),x=s(956260),T=s(370420),C=s(925188),I=s(172888),$=s(123103),q=s(691334),F=s(741082),R=s(487890),A=Object.defineProperty,M=Object.defineProperties,L=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,D=(e,t,s)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,U=(e,t)=>{for(var s in t||(t={}))z.call(t,s)&&D(e,s,t[s]);if(_)for(var s of _(t))B.call(t,s)&&D(e,s,t[s]);return e},Q=(e,t)=>M(e,L(t)),W=(e,t,s)=>(D(e,"symbol"!=typeof t?t+"":t,s),s);const X=o()("isle:select-question-matrix");class G extends r.Component{constructor(e){super(e),W(this,"handleChangeFactory",(e=>t=>{X(`Received a new value for ${e}...`);const s=g()(this.state.answers,1);s[e]=t.value,this.setState({answers:s}),this.props.onChange(s)})),W(this,"handleSubmit",(()=>{const e=this.context;let t=!0;const s=y()(this.props.solution);for(let i=0;i<s.length;i++){const e=s[i],r=this.props.solution[e],n=this.state.answers[e];(0,S.isPrimitive)(n)&&(N()(r)?E()(r,n)||(t=!1):r!==n&&(t=!1))}const r=!O()(this.props.solution);"none"!==this.props.provideFeedback&&r?t?e.addNotification({title:this.props.t("correct"),message:this.props.successMsg||this.props.t("success-message"),level:"success"}):e.addNotification({title:this.props.t("incorrect"),message:this.props.failureMsg||this.props.t("failure-message"),level:"error"}):e.addNotification({title:this.state.submitted?this.props.t("answer-resubmitted"):this.props.t("answer-submitted"),message:this.state.submitted?this.props.t("resubmit-message"):this.props.t("submit-message"),level:"info"}),this.props.logAction(q.gY,this.state.answers),this.props.onSubmit(this.state.answers,t);let n=null;this.props.provideFeedback&&r&&(n=t?"success":"danger");const o=this.state.numbSubmissions+1;this.setState({submitted:!0,answerState:n,submittedAnswers:g()(this.state.answers),numbSubmissions:o,completed:(o>=this.props.nTries||t)&&"none"!==this.props.provideFeedback&&r})})),this.state={answers:{},submitted:!1,answerState:null,completed:!1,numbSubmissions:0,submittedAnswers:null}}renderColumnNames(){const e=this.props.cols.length;let t;return t=e>7?1:e>4?2:3,r.createElement(h.Z,{className:"multiple-choice-matrix-question-header"},r.createElement(d.Z,{sm:t}),this.props.cols.map(((e,t)=>r.createElement(d.Z,{key:t},r.createElement(p.Z.Label,null,(0,b.isPrimitive)(e)?r.createElement(C.Z,{raw:e}):e)))))}renderSelectInput(e,t){const s=e+":"+t;let n,o=this.props.options[s]||[];o=o.map(((e,t)=>({label:e,value:t})));const i="overall"===this.props.provideFeedback&&this.state.submitted||"individual"===this.props.provideFeedback&&this.state.submitted&&(0,S.isPrimitive)(this.state.submittedAnswers[s]);i&&(0,S.isPrimitive)(this.props.solution[s])&&(n=this.state.submittedAnswers[s]===this.props.solution[s]?"green":"red");const a=r.createElement(c.ZP,{name:"form-field-name",className:"select-field",isDisabled:this.state.completed,isSearchable:!1,options:o,key:`select-${e}-${t}`,onChange:this.handleChangeFactory(s),menuPlacement:"top",menuPortalTarget:document.body,styles:{menuPortal:e=>Q(U({},e),{zIndex:1010}),singleValue:e=>Q(U({},e),{color:n}),menu:e=>Q(U({},e),{width:"max-content",minWidth:"100%"})}}),l=this.props.cellLabels[s];let p;return p=this.state.completed?"green"===n?this.props.t("correct-answer"):this.props.t("should-have-been"):"green"===n?this.props.t("correct"):this.props.t("try-again"),r.createElement(r.Fragment,null,l?r.createElement("span",{className:"select-question-matrix-cell-label"},l):null,a,i?r.createElement(m.Z,{bg:"green"===n?"success":"danger"},p,this.state.completed?this.props.options[s][this.props.solution[s]]:null):null)}renderRowSelects(e){const t=this.props.cols.length,s=new Array(t);for(let n=0;n<t;n++)s[n]=r.createElement(d.Z,{key:n},this.renderSelectInput(e,n));return r.createElement(r.Fragment,null,s)}renderRows(){const e=this.props.rows.length;let t;return t=e>7?1:e>4?2:3,this.props.rows.map(((e,s)=>r.createElement(h.Z,{key:s,style:{marginBottom:15,marginTop:15}},r.createElement(d.Z,{sm:t},r.createElement(p.Z.Label,{column:!0,style:{textAlign:"right"}},(0,b.isPrimitive)(e)?r.createElement(C.Z,{raw:e}):e)),this.renderRowSelects(s))))}render(){const e=this.props.hints.length,t=y()(this.state.answers).length,s=y()(this.props.options).length,n=0===t||t<s&&!this.props.allowIncomplete||this.state.completed;return r.createElement(k.Z,U({id:this.props.id,border:this.state.answerState,className:`select-question-matrix ${this.props.className}`,style:this.props.style},this.props.panelProps),this.props.question?r.createElement("label",null,this.props.question):null,this.renderColumnNames(),this.renderRows(),r.createElement("div",{className:"select-question-matrix-toolbar"},r.createElement(u.Z,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,disabled:n},this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),e>0?r.createElement(j.Z,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.props.chat?r.createElement(T.Z,{for:this.props.id}):null),r.createElement("div",null,r.createElement(x.Z,{id:this.props.id,data:{type:"tensor",rows:this.props.rows,cols:this.props.cols,question:this.props.question,solution:this.props.solution,options:this.props.options},info:"SELECT_QUESTION_MATRIX_SUBMISSION"}),this.props.feedback?r.createElement(I.Z,{id:this.props.id+"_feedback",style:{float:"left"}}):null))}}G.defaultProps={question:"",rows:[],cols:[],solution:{},options:{},hints:[],hintPlacement:"bottom",feedback:!0,provideFeedback:"individual",allowIncomplete:!1,nTries:3,failureMsg:null,successMsg:null,cellLabels:{},chat:!1,panelProps:{},className:"",style:{},onChange(){},onSubmit(){}},G.propTypes={question:a().oneOfType([a().string,a().node]),rows:a().array,cols:a().array,options:a().object,solution:a().object,hints:a().arrayOf(a().oneOfType([a().string,a().node])),hintPlacement:a().string,feedback:a().bool,provideFeedback:a().oneOf(["none","overall","individual"]),allowIncomplete:a().bool,nTries:a().number,failureMsg:a().string,successMsg:a().string,cellLabels:a().object,chat:a().bool,panelProps:a().object,className:a().string,style:a().object,onChange:a().func,onSubmit:a().func},G.contextType=$.Z,t.default=(0,R.D)("SELECT_QUESTION_MATRIX")((0,l.Z)("questions/select-matrix")((0,F.W)(G)))},770561:function(e,t,s){var r=s(72779),n=s.n(r),o=s(202784),i=s(247830),a=s(429658),l=s(552322);const p=o.forwardRef((({as:e,bsPrefix:t,variant:s,size:r,active:o,className:p,...c},m)=>{const u=(0,a.vE)(t,"btn"),[h,{tagName:d}]=(0,i.FT)({tagName:e,...c}),b=d;return(0,l.jsx)(b,{...h,...c,ref:m,className:n()(p,u,o&&"active",s&&`${u}-${s}`,r&&`${u}-${r}`,c.href&&c.disabled&&"disabled")})}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=p},458264:function(e,t,s){var r=s(72779),n=s.n(r),o=s(202784),i=s(429658),a=s(552322);const l=o.forwardRef((({bsPrefix:e,className:t,as:s="div",...r},o)=>{const l=(0,i.vE)(e,"row"),p=(0,i.pi)(),c=(0,i.zG)(),m=`${l}-cols`,u=[];return p.forEach((e=>{const t=r[e];let s;delete r[e],null!=t&&"object"==typeof t?({cols:s}=t):s=t;const n=e!==c?`-${e}`:"";null!=s&&u.push(`${m}${n}-${s}`)})),(0,a.jsx)(s,{ref:o,...r,className:n()(t,l,...u)})}));l.displayName="Row",t.Z=l}}]);