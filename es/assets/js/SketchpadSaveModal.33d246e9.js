"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[72087],{549843:function(e,t,n){n.r(t);var s=n(202784),i=n(770561),o=n(715318),a=n(213980),l=n.n(a),r=n(588703),d=n.n(r),p=n(691334),c=Object.defineProperty,h=(e,t,n)=>(((e,t,n)=>{t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class u extends s.Component{constructor(e){super(e),h(this,"clickHide",(()=>{this.props.onHide()})),h(this,"handleOriginalDownload",(()=>{this.props.logAction(p.JO,"original"),this.props.onHide()})),h(this,"handleInstructorAnnotationsDownload",(()=>{this.props.logAction(p.JO,"instructor-annotations"),this.props.onHide()})),h(this,"handlePDFExport",(()=>{this.props.saveAsPDF(),this.props.onHide()})),h(this,"handlePNGExport",(()=>{this.props.saveAsPNG(),this.props.onHide()})),this.state={ownerFile:null}}componentDidMount(){this.props.session.getLessonOwnerFiles(((e,t)=>{d()(t)&&t.length>0&&(t=t.filter((e=>e.title===this.props.id+".pdf")),this.setState({ownerFile:t[t.length-1]}))}))}render(){const e=this.props.session;let t,n;this.state.ownerFile&&(t=new Date(this.state.ownerFile.updatedAt),n=this.state.ownerFile.name);const{t:a}=this.props;return s.createElement(o.Z,{onHide:this.clickHide,show:this.props.show,dialogClassName:"modal-w30"},s.createElement(o.Z.Header,{closeButton:!0},s.createElement(o.Z.Title,{as:"h4"},a("download"))),s.createElement(o.Z.Body,null,s.createElement("div",{className:"d-grid gap-2"},this.props.pdf?s.createElement(i.Z,{className:"sketchpad-download-link-btn",size:"large",variant:"secondary",onClick:this.handleOriginalDownload},s.createElement("a",{className:"unstyled-link sketchpad-download-link",href:this.props.pdf,download:!0},a("download-original"))):null,this.state.ownerFile?s.createElement(i.Z,{size:"large",variant:"secondary",onClick:this.handleInstructorAnnotationsDownload},s.createElement("a",{className:"unstyled-link",href:e.server+"/"+this.state.ownerFile.filename,download:!0},a("download-instructor-annotations"),s.createElement("br",null),s.createElement("small",null,"(",a("last-updated"),": ",t.toDateString()+", "+t.toLocaleTimeString()," ",a("by")," ",n,")"))):null,s.createElement(i.Z,{variant:"secondary",size:"large",onClick:this.handlePDFExport},a("export-pdf")),s.createElement(i.Z,{variant:"secondary",size:"large",onClick:this.handlePNGExport},a("export-png")))))}}u.propTypes={id:l().string.isRequired,logAction:l().func.isRequired,onHide:l().func,pdf:l().string,saveAsPDF:l().func.isRequired,saveAsPNG:l().func.isRequired,session:l().object.isRequired,show:l().bool.isRequired},u.defaultProps={pdf:null,onHide(){}},t.default=u}}]);