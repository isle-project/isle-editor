"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2087],{549843:function(e,t,s){s.r(t);var n=s(202784),i=s(770561),o=s(715318),a=s(213980),l=s.n(a),r=s(588703),d=s.n(r),p=s(691334),h=Object.defineProperty,c=(e,t,s)=>(((e,t,s)=>{t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class u extends n.Component{constructor(e){super(e),c(this,"clickHide",(()=>{this.props.onHide()})),c(this,"handleOriginalDownload",(()=>{this.props.session.log({id:this.props.id,type:p.tb,value:"original"}),this.props.onHide()})),c(this,"handleInstructorAnnotationsDownload",(()=>{this.props.session.log({id:this.props.id,type:p.tb,value:"instructor-annotations"}),this.props.onHide()})),c(this,"handlePDFExport",(()=>{this.props.saveAsPDF(),this.props.onHide()})),c(this,"handlePNGExport",(()=>{this.props.saveAsPNG(),this.props.onHide()})),this.state={ownerFile:null}}componentDidMount(){this.props.session.getLessonOwnerFiles(((e,t)=>{d()(t)&&t.length>0&&(t=t.filter((e=>e.title===this.props.id+".pdf")),this.setState({ownerFile:t[t.length-1]}))}))}render(){const e=this.props.session;let t,s;this.state.ownerFile&&(t=new Date(this.state.ownerFile.updatedAt),s=this.state.ownerFile.name);const{t:a}=this.props;return n.createElement(o.Z,{onHide:this.clickHide,show:this.props.show,dialogClassName:"modal-w30"},n.createElement(o.Z.Header,{closeButton:!0},n.createElement(o.Z.Title,{as:"h4"},a("download"))),n.createElement(o.Z.Body,null,n.createElement("div",{className:"d-grid gap-2"},this.props.pdf?n.createElement(i.Z,{className:"sketchpad-download-link-btn",size:"large",variant:"secondary",onClick:this.handleOriginalDownload},n.createElement("a",{className:"unstyled-link sketchpad-download-link",href:this.props.pdf,download:!0},a("download-original"))):null,this.state.ownerFile?n.createElement(i.Z,{size:"large",variant:"secondary",onClick:this.handleInstructorAnnotationsDownload},n.createElement("a",{className:"unstyled-link",href:e.server+"/"+this.state.ownerFile.filename,download:!0},a("download-instructor-annotations"),n.createElement("br",null),n.createElement("small",null,"(",a("last-updated"),": ",t.toDateString()+", "+t.toLocaleTimeString()," ",a("by")," ",s,")"))):null,n.createElement(i.Z,{variant:"secondary",size:"large",onClick:this.handlePDFExport},a("export-pdf")),n.createElement(i.Z,{variant:"secondary",size:"large",onClick:this.handlePNGExport},a("export-png")))))}}u.propTypes={id:l().string.isRequired,onHide:l().func,pdf:l().string,saveAsPDF:l().func.isRequired,saveAsPNG:l().func.isRequired,session:l().object.isRequired,show:l().bool.isRequired},u.defaultProps={pdf:null,onHide(){}},t.default=u}}]);