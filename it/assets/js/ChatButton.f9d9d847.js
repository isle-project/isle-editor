"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[96131],{66720:function(t,s,e){e.r(s);var o=e(202784),n=e(213980),i=e.n(n),a=e(690299),r=e.n(a),p=e(498614),l=e(223444),h=e(770561),c=e(112114),u=e(770149),m=e(123103),b=e(302108),d=Object.defineProperty,f=(t,s,e)=>(((t,s,e)=>{s in t?d(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e})(t,"symbol"!=typeof s?s+"":s,e),e);const g=r()("isle:chat-button");class y extends o.Component{constructor(t){super(t),f(this,"hideAnimation",(()=>{this.setState({showAnimation:!1})})),f(this,"handleClick",(t=>{g("Handle click to join chat...");const s=!this.state.opened;this.props.onClick(t,s),this.setState({opened:s},(()=>{const t=this.context;s?(g(`Should join chat for component with id '${this.props.for}'...`),t.joinChat({name:this.props.for,anonymousSubmissions:this.props.anonymousSubmissions})):(g(`Should leave chat for component with id '${this.props.for}'...`),t.leaveChat(this.props.for))}))})),this.state={opened:!1,nMessages:0,nMembers:0}}componentDidMount(){const t=this.context;this.unsubscribe=t.subscribe(((s,e)=>{if(s!==b.JV&&s!==b.PY||!e||e.name!==this.props.for){if(s===b.em&&e.name===this.props.for){const t={nMessages:e.nMessages,nMembers:e.nMembers};e.nMessages>this.state.nMessages&&(t.showAnimation=!0),this.setState(t),setTimeout(this.hideAnimation,4e3)}else if(e===this.props.for){t.getChat(this.props.for)&&s!==b.TY?s===b._Z&&this.setState({opened:!1}):this.setState({opened:!1}),this.forceUpdate()}}else this.setState({opened:!0})}))}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){const t=this.state.nMessages;let s,e;s=this.props.buttonLabel?this.props.buttonLabel:this.state.opened?this.props.t("leave-chat"):this.props.t("join-chat"),e=this.props.buttonVariant?this.props.buttonVariant:this.state.nMembers>0?"success":"secondary";let n,i=o.createElement(h.Z,{className:this.props.className,variant:e,size:this.props.size,onClick:this.handleClick,style:this.props.style,"aria-label":this.props.t("toggle-chat")},o.createElement("span",{style:{pointerEvents:"none"}},s),t?o.createElement(l.Z,{bg:"dark",style:{marginLeft:"5px",fontSize:"10px",pointerEvents:"none",animation:this.state.showAnimation?"ping 0.7s 3":"none"}},t):null);return n=this.props.tooltip?this.props.tooltip:this.state.opened?this.props.t("leave-chat-id",{id:this.props.for}):this.props.t("join-chat-id",{id:this.props.for}),this.props.showTooltip&&(i=o.createElement(c.Z,{tooltip:n,placement:this.props.tooltipPlacement},i)),o.createElement(u.Z,{user:!0,banner:null,showOwnerInPresentationMode:!1},i)}}y.propTypes={for:i().string.isRequired,anonymousSubmissions:i().bool,buttonLabel:i().node,showTooltip:i().bool,tooltip:i().string,size:i().string,buttonVariant:i().string,tooltipPlacement:i().oneOf(["left","top","right","bottom"]),onClick:i().func,className:i().string,style:i().object},y.defaultProps={anonymousSubmissions:!1,buttonLabel:null,showTooltip:!0,tooltip:null,size:"sm",buttonVariant:null,tooltipPlacement:"top",onClick(){},className:"",style:{}},y.contextType=m.Z,s.default=(0,p.Zh)("internal/chat-button")(y)},770561:function(t,s,e){var o=e(72779),n=e.n(o),i=e(202784),a=e(247830),r=e(429658),p=e(552322);const l=i.forwardRef((({as:t,bsPrefix:s,variant:e,size:o,active:i,className:l,...h},c)=>{const u=(0,r.vE)(s,"btn"),[m,{tagName:b}]=(0,a.FT)({tagName:t,...h}),d=b;return(0,p.jsx)(d,{...m,...h,ref:c,className:n()(l,u,i&&"active",e&&`${u}-${e}`,o&&`${u}-${o}`,h.href&&h.disabled&&"disabled")})}));l.displayName="Button",l.defaultProps={variant:"primary",active:!1,disabled:!1},s.Z=l}}]);