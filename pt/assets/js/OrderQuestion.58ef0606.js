"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9496],{667045:function(e,t,n){const i=(0,n(217431).Z)((()=>n.e(112).then(n.bind(n,497925))));t.Z=i},956260:function(e,t,n){var i=n(202784),s=n(213980),o=n.n(s),r=Object.defineProperty,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=e=>{const t=e,{children:n}=t,s=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&u(e,n,t[n]);return e})({},s),n)};d.defaultProps={className:"",style:{}},d.propTypes={className:o().string,style:o().object},t.Z=d},370420:function(e,t,n){const i=(0,n(217431).Z)((()=>n.e(6131).then(n.bind(n,66720))));t.Z=i},800712:function(e,t,n){const i=(0,n(217431).Z)((()=>Promise.all([n.e(532),n.e(4507)]).then(n.bind(n,307125))));t.Z=i},737185:function(e,t,n){n.r(t);var i=n(202784),s=n(213980),o=n.n(s),r=n(690299),a=n.n(r),c=n(376699),l=n(790817),u=n(417332),d=n(377558),b=n(514921),f=n(667045),m=n(956260),p=n(370420),g=n(172888),h=n(800712),y=n(123103),k=n(691334),v=n(741082);const Z=(0,u.Z)("order-question"),E=a()("isle:order-question"),O=e=>{const{disableSubmitNotification:t,onChange:n,onSubmit:s}=e,o=(0,i.useRef)(e.id||Z(e)),r=(0,i.useContext)(y.Z),{t:a}=(0,c.$)("questions/order"),[u,v]=(0,i.useState)(!1),[O,N]=(0,i.useState)(e.options.map(((e,t)=>({id:t,text:e})))),[S,C]=(0,i.useState)({cards:null,correct:!1});(0,i.useEffect)((()=>{N(e.options.map(((e,t)=>({id:t,text:e}))))}),[e.options]);const q=(0,i.useCallback)((e=>{let t=!0;for(let n=0;n<e.length;n++)if(e[n].id!==n){t=!1;break}n(e,t),C({cards:e,correct:t}),v(!1)}),[n]),M=(0,i.useCallback)((e=>{E("Logging hint..."),r.log({id:o.current,type:k.yj,value:e})}),[r]),P=(0,i.useCallback)((()=>{e.provideFeedback?S.correct?r.addNotification({title:a("correct"),message:e.successMsg||a("submission-correct"),level:"success"}):r.addNotification({title:a("incorrect"),message:e.failureMsg||a("submission-incorrect"),level:"error"}):r.addNotification({title:a("submitted"),message:a("submission-message"),level:"info"})}),[e.failureMsg,e.successMsg,S.correct,e.provideFeedback,r,a]),j=(0,i.useCallback)((()=>{t||P(),s(S.cards,S.correct),v(!0),r.log({id:o.current,type:k.pc,value:S.cards.map((e=>e.text)).join(" -> ")})}),[t,P,r,S,s]),x=e.hints.length;return i.createElement(l.Z,{id:o.current,className:"order-question",style:e.style},i.createElement(l.Z.Body,{style:{width:e.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},i.createElement("label",null,e.question),i.createElement(d.Z,{shuffle:!0,data:O,onChange:q,onInit:q,disabled:u&&S.correct}),i.createElement("div",{className:"order-question-toolbar"},x>0?i.createElement(f.Z,{onClick:M,hints:e.hints,placement:e.hintPlacement}):null,e.until&&r.startTime>e.until?i.createElement("span",{className:"title",style:{marginLeft:4}},a("question-closed")):i.createElement(b.Z,{className:"submit-button",variant:"primary",size:"sm",onClick:j,disabled:u&&S.correct},a(u?"resubmit":"submit")),e.chat?i.createElement(p.Z,{for:o.current}):null),i.createElement(m.Z,{id:o.current,data:{type:"factor",question:e.question,solution:e.options},info:"ORDER_QUESTION_SUBMISSION",points:e.points}),e.feedback?i.createElement(g.Z,{id:o.current+"_feedback"}):null,i.createElement(h.Z,{for:o.current,points:e.points})))};O.defaultProps={question:"",provideFeedback:!0,hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,failureMsg:null,successMsg:null,disableSubmitNotification:!1,until:null,points:10,style:{},onChange(){},onSubmit(){}},O.propTypes={question:o().oneOfType([o().string,o().node]),options:o().array.isRequired,provideFeedback:o().bool,hintPlacement:o().string,hints:o().arrayOf(o().oneOfType([o().string,o().node])),feedback:o().bool,chat:o().bool,failureMsg:o().string,successMsg:o().string,disableSubmitNotification:o().bool,until:o().instanceOf(Date),points:o().number,style:o().object,onChange:o().func,onSubmit:o().func},t.default=(0,v.W)(O)}}]);