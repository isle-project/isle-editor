"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1064],{359008:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(497326),r=a(894578),i=a(202784),s=a(213980),c=a.n(s),o=a(690299),l=a.n(o),m=a(789644),h=a.n(m),u=a(198),p=a(686605),d=a.n(p),w=a(923723),v=a(267682),f=a(338664);var g=function(e){var t=e.weather;return t?i.createElement("div",{className:"weather-description"},t.main," (",t.description,")"):null};var y=function(e){var t=e.name,a=e.sys;return i.createElement("div",{className:"weather-location"},i.createElement("div",{className:"weather-place"},t,","),i.createElement("div",{className:"weather-location-country"},a.country))},E=Object.defineProperty,b=function(e,t,a){return function(e,t,a){t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a}(e,"symbol"!=typeof t?t+"":t,a),a},N=l()("isle:weather"),D=[{command:"trigger",trigger:["in"],description:"Location name",text:!0},{command:"reset",trigger:["close"],description:"Close weather modal window"}],Z=function(e){var t,a,n=e.main,r=e.weather,s=(0,i.useState)("fahrenheit"),c=s[0],o=s[1],l=function(){o("celsius"===c?"fahrenheit":"celsius")};"celsius"===c?(t=d()((n.temp-32)*(5/9),-2),a="C"):(t=d()(n.temp),a="F");var m="http://openweathermap.org/img/wn/"+r.icon+"@2x.png";return i.createElement("div",{className:"weather-temperature"},t,"\xb0",i.createElement("span",{role:"button",onClick:l,onKeyPress:l,className:"weather-temperature-type",tabIndex:0},a),i.createElement("img",{className:"weather-icon",alt:"Weather icon",src:m}))},k=function(e){var t=e.main,a=e.wind,n=e.t;return i.createElement("div",{className:"weather-details"},i.createElement("div",{className:"weather-humidity"},n("humidity"),": ",t.humidity,"%"),i.createElement("div",{className:"weather-wind"},n("wind"),": ",a.speed," ","m/sec",i.createElement("br",null),n("direction"),": ",a.deg))},I=function(e){function t(t){var a;return a=e.call(this,t)||this,b((0,n.Z)(a),"register",(function(){a.context.speechInterface.register({name:a.props.voiceID,ref:(0,n.Z)(a),commands:D})})),b((0,n.Z)(a),"reset",(function(){a.setState({data:null})})),b((0,n.Z)(a),"trigger",(function(e,t){N("Trigger weather retrieval..."),a.callback=t||null;var n=a.props.t("in"),r=e.search(n);if(-1!==(r+=n.length+1)){var i=e.substring(r,e.length);N("Get weather info for location: "+i),a.getData(i)}})),b((0,n.Z)(a),"getData",(function(e){var t=a.context;e&&t.server&&h().get(t.server+"/weather?location="+e).then((function(e){a.setWeatherData(e.data)})).catch((function(e){N("Encountered an error: "+e.message)}))})),b((0,n.Z)(a),"setWeatherData",(function(e){a.callback&&a.callback(e),a.setState({data:e})})),a.state={data:null},a}(0,r.Z)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.getData(this.props.location),this.props.voiceID&&this.register()},a.render=function(){var e=null;this.props.voiceID&&(e=i.createElement(w.Z,{id:this.props.voiceID,reference:this,commands:D}));var t=this.state.data;return t?i.createElement("div",{className:"weather",style:this.props.style},e,i.createElement(y,{name:t.name,sys:t.sys}),i.createElement(g,{weather:t.weather[0]}),i.createElement(Z,{main:t.main,weather:t.weather[0]}),i.createElement(k,{main:t.main,wind:t.wind,t:this.props.t}),i.createElement("br",null)):i.createElement("div",{className:"weather",style:this.props.style},i.createElement("div",{className:"weather-loading title"},this.props.t("loading-weather-data-for",{loc:this.props.location})))},t}(i.Component);I.propTypes={location:c().string,voiceID:c().string,style:c().object},I.defaultProps={location:null,voiceID:null,style:{}},I.contextType=v.Z;var x=(0,u.Z)("weather")((0,f.W)(I))}}]);