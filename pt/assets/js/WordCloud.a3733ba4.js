"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4940],{724457:function(t,e,n){n.r(e);var r=n(497326),o=n(894578),a=n(867855),s=n(202784),i=n(213980),u=n.n(i),l=n(928316),d=n(198),c=n(770561),p=n(366627),f=n(271641),h=n.n(f),v=n(675252),m=n(1570),g=n.n(m),w=n(783158),y=n.n(w),b=n(199599),x=n.n(b),C=n(302467),S=n.n(C),k=n(46784),O=n.n(k),R=n(287013),T=n.n(R),E=n(294565),N=n(777628),I=n.n(N),L=n(883992),z=n.n(L),M=n(588703),B=n.n(M),D=n(109918),P=n.n(D),U=n(395465),Z=n.n(U),j=n(812789),A=n.n(j),W=n(742822),F=n.n(W),G=n(971451),H=n.n(G),K=n(856681),Y=n.n(K),_=n(268834),X=n.n(_),q=n(918226),J=n.n(q),Q=n(993658),V=n.n(Q),$=n(198314),tt=n.n($),et=n(708579),nt=n(315645),rt=n(615558),ot=Object.defineProperty,at=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,ut=function(t,e,n){return e in t?ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},lt=function(t,e){for(var n in e||(e={}))st.call(e,n)&&ut(t,n,e[n]);if(at)for(var r,o=(0,a.Z)(at(e));!(r=o()).done;){n=r.value;it.call(e,n)&&ut(t,n,e[n])}return t},dt=function(t,e,n){return ut(t,"symbol"!=typeof e?e+"":e,n),n},ct=(0,p.PKp)(p.Cn1),pt=/[+-]?[\d.]+e?[+-]?\d*/g,ft={position:"absolute",right:-12,top:-12,zIndex:2};function ht(t){var e=t.texts,n=t.stopwords,r=t.minCount,o=t.customStopwords;if(!B()(e)||0===e.length)return{min:P(),max:Z(),wordCounts:[]};n=n.concat(o);for(var a=[],s=0;s<e.length;s++){var i=e[s];if((0,E.isPrimitive)(i)){i=x()(i),i=S()(i,pt," ");var u=O()(i);a=a.concat(u)}}for(var l=0;l<a.length;l++)a[l]=I()(a[l]);for(var d=a.length;d>0;d--)a[d]&&T()(n,I()(a[d]))&&a.splice(d,1);for(var c={},p=0;p<a.length;p++)c[a[p]]?c[a[p]]+=1:c[a[p]]=1;var f=Z(),h=P(),v=z()(c).map((function(t){return t[1]>f&&(f=t[1]),t[1]<h&&(h=t[1]),{text:t[0],value:t[1]}}));if(!r)return{min:h,max:f,wordCounts:v};for(var m=[],g=0;g<v.length;g++)v[g].value>=r&&m.push(v[g]);return{min:h,max:f,wordCounts:m}}var vt=function(t){function e(e){var n;n=t.call(this,e)||this,dt((0,r.Z)(n),"fontSizeMapper",(function(t){var e=n.state,r=e.min,o=e.max;return o===r?50:(t.value-r+1)/(o-r+6)*30+12})),dt((0,r.Z)(n),"saveToPNG",(function(){var t,e=n.props,r=e.width,o=e.height,a=(0,nt.e)(n.svg.node());(0,nt.C)(a,2*r,2*o,(function(e){(0,v.Z)(e,t)})),t=n.props.id?n.props.id+".png":"wordcloud.png"}));var o=function(t){var e;switch(t){default:case"en":e=A()();break;case"fin":e=F()();break;case"fr":e=H()();break;case"ger":e=Y()();break;case"it":e=X()();break;case"por":e=J()();break;case"sp":e=V()();break;case"swe":e=tt()()}return e}(e.language);if(e.precalculated)n.state={wordCounts:e.data.slice(),stopwords:o,nRecords:e.data.length};else{var a=ht({texts:e.data,stopwords:o,minCount:e.minCount,customStopwords:e.stopwords}),s=a.min,i=a.max,u=a.wordCounts;n.state={wordCounts:u,min:s,max:i,stopwords:o,nRecords:e.data.length}}return n}(0,o.Z)(e,t),e.getDerivedStateFromProps=function(t,e){var n;if(t.precalculated)n={wordCounts:t.data.slice()};else{var r=ht({texts:t.data,stopwords:e.stopwords,minCount:t.minCount,customStopwords:t.stopwords}),o=r.min,a=r.max;n={wordCounts:r.wordCounts,min:o,max:a,stopwords:e.stopwords}}return n};var n=e.prototype;return n.componentDidMount=function(){this.addWordCloud()},n.shouldComponentUpdate=function(t){return!!(g()(t.data.length,this.state.nRecords)>=this.props.updateThreshold||this.props.triggerRender&&!function(t,e){for(var n=y()(t.length,10),r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(t.data,this.props.data)||t.stopwords.length!==this.props.stopwords.length)},n.componentDidUpdate=function(){this.state.wordCounts.length>0&&this.updateWordCloud(),this.state.nRecords!==this.props.data.length&&this.setState({nRecords:this.props.data.length})},n.addWordCloud=function(){var t=this,e=this.props.fontSizeMapper||this.fontSizeMapper;(0,p.Ys)((0,l.findDOMNode)(this)).selectAll("svg").remove(),this.svg=(0,p.Ys)((0,l.findDOMNode)(this)).append("svg").attr("width",this.props.width).attr("height",this.props.height).style("background","#ffffff"),this.svg.append("g").attr("transform","translate("+this.props.width/2+","+this.props.height/2+")"),this.cloudLayout=h()().size([this.props.width,this.props.height]).font(this.props.font).words(this.state.wordCounts).padding(this.props.padding).rotate(this.props.rotate).fontSize(e).on("end",(function(e){var n=t.svg.select("g").selectAll("text").data(e,(function(t){return t.text}));n.transition().duration(750).style("font-size",(function(t){return t.size+"px"})).attr("transform",(function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"})),n.enter().append("text").style("font-size",(function(t){return t.size+"px"})).style("font-family",t.props.font).style("fill",(function(t,e){return ct(e)})).style("cursor","pointer").attr("text-anchor","middle").attr("transform",(function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"})).text((function(t){return t.text})).on("click",t.props.onClick),n.exit().transition().duration(750).style("fill-opacity",1e-6).remove()})).start()},n.updateWordCloud=function(){var t=this.state.wordCounts;this.cloudLayout.stop().words(t.map((function(t){return{text:t.text,value:t.value}}))).start()},n.render=function(){return s.createElement("div",{style:lt({width:this.props.width,position:"relative"},this.props.style)},this.props.saveButton&&this.state.wordCounts.length>0?s.createElement(et.Z,{placement:"left",tooltip:this.props.t("save-word-cloud")},s.createElement(c.Z,{size:"sm",variant:"light",onClick:this.saveToPNG,style:ft,"aria-label":this.props.t("save-word-cloud")},s.createElement("div",{className:"fa fa-save"}))):null)},e}(s.Component);vt.defaultProps={data:[],font:"serif",fontSizeMapper:null,precalculated:!1,rotate:function(t){return t.value%360},width:700,height:600,language:"en",minCount:null,saveButton:!0,updateThreshold:5,stopwords:[],triggerRender:!0,padding:5,onClick:function(){},style:{}},vt.propTypes={data:u().array,font:u().oneOfType([u().string,u().func]),fontSizeMapper:u().func,height:u().number,language:u().oneOf(["en","fin","fr","ger","it","por","sp","swe"]),minCount:u().number,saveButton:u().bool,onClick:u().func,padding:u().oneOfType([u().func,u().number]),precalculated:u().bool,rotate:u().oneOfType([u().func,u().number]),updateThreshold:u().number,stopwords:u().array,triggerRender:u().bool,style:u().object,width:u().number},e.default=(0,d.Z)("word-cloud")((0,rt.W)(vt))},675252:function(t,e){var n=/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i;function r(t){setImmediate((function(){throw t}),0)}function o(t){return n.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}var a=function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e,n=t.document,a=!1;n&&n.createElementNS&&(e=n.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in e);var s=/constructor/i.test(t.HTMLElement)||t.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),u=t.setImmediate||t.setTimeout,l=p.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=o(t)),navigator.msSaveOrOpenBlob(t,e)}:(l.abort=function(){},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=null,l.onwritestart=null,l.onprogress=null,l.onwrite=null,l.onabort=null,l.onerror=null,l.onwriteend=null,function(t,e,n){return new p(t,e||t.name||"download",n)})}function d(){return t.URL||t.webkitURL||t}function c(t){setTimeout((function(){"string"==typeof t?d().revokeObjectURL(t):t.remove()}),4e4)}function p(n,l,p){p||(n=o(n));var f,h=this,v="application/octet-stream"===n.type;function m(){!function(t,e,n){for(var o=(e=[].concat(e)).length;o--;){var a=t["on"+e[o]];if("function"==typeof a)try{a.call(t,n||t)}catch(s){r(s)}}}(h,"writestart progress write writeend".split(" "))}if(h.readyState=h.INIT,a)return f=d().createObjectURL(n),void u((function(){var t,n;e.href=f,e.download=l,t=e,n=new MouseEvent("click"),t.dispatchEvent(n),m(),c(f),h.readyState=h.DONE}),0);!function(){if((i||v&&s)&&t.FileReader){var e=new FileReader;return e.onloadend=function(){var n=i?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(n,"_blank")||(t.location.href=n),n=void 0,h.readyState=h.DONE,m()},e.readAsDataURL(n),void(h.readyState=h.INIT)}f||(f=d().createObjectURL(n)),v?t.location.href=f:t.open(f,"_blank")||(t.location.href=f),h.readyState=h.DONE,m(),c(f)}()}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);e.Z=a},315645:function(t,e,n){n.d(e,{e:function(){return l},C:function(){return d}});var r=n(588703),o=n.n(r),a=n(287013),s=n.n(a),i=n(686605),u=n.n(i);function l(t){if(!t)return"";t.setAttribute("xlink","http://www.w3.org/1999/xlink"),t.setAttribute("style","background: white;"),function(t,e){var n=document.createElement("style");if(n.setAttribute("type","text/css"),n.innerHTML=t,o()(e.children)){var r=e.children[0]||null;e.insertBefore(n,r)}}(function(t){var e=[];if(e.push("#"+t.id),o()(t.classList))for(var n=0;n<t.classList.length;n++)s()(e,"."+t.classList[n])||e.push("."+t.classList[n]);for(var r=t.getElementsByTagName("*"),a=0;a<r.length;a++){var i=r[a].id;s()(e,"#"+i)||e.push("#"+i);var u=r[a].classList;if(o()(u))for(var l=0;l<u.length;l++)s()(e,"."+u[l])||e.push("."+u[l])}for(var d="",c=0;c<document.styleSheets.length;c++){var p=document.styleSheets[c];try{if(!p.cssRules)continue}catch(v){if("SecurityError"!==v.name)throw v;continue}for(var f=p.cssRules,h=0;h<f.length;h++)s()(e,f[h].selectorText)&&(d+=f[h].cssText)}return d}(t),t);var e=(new XMLSerializer).serializeToString(t);return e=(e=e.replace(/(\w+)?:?xlink=/g,"xmlns:xlink=")).replace(/NS\d+:href/g,"xlink:href")}function d(t,e,n,r){var o="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t))),a=document.createElement("canvas"),s=a.getContext("2d");a.width=e,a.height=n;var i=new Image;i.onload=function(){s.clearRect(0,0,e,n),s.drawImage(i,0,0,e,n),a.toBlob((function(t){var e=u()(t.length/1024)+" KB";if(r)return r(t,e)}))},i.src=o}}}]);