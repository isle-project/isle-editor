"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3634],{134656:function(_,e,t){var s=(0,t(525263).Z)((function(){return t.e(112).then(t.bind(t,643549))}));e.Z=s},615697:function(_,e,t){var s=(0,t(525263).Z)((function(){return t.e(6131).then(t.bind(t,102149))}));e.Z=s},9623:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var _home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(497326),_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(894578),_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelperLoose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(55196),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(202784),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(928316),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(213980),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(198),react_json_tree__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(857445),_stdlib_assert_has_own_property__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(700601),_stdlib_assert_has_own_property__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_stdlib_assert_has_own_property__WEBPACK_IMPORTED_MODULE_5__),_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(588703),_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_6__),_stdlib_assert_is_regexp__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(144393),_stdlib_assert_is_regexp__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_stdlib_assert_is_regexp__WEBPACK_IMPORTED_MODULE_7__),_stdlib_assert_is_object_like__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(93961),_stdlib_assert_is_object_like__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_stdlib_assert_is_object_like__WEBPACK_IMPORTED_MODULE_8__),_stdlib_math_base_special_max__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(557106),_stdlib_math_base_special_max__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_stdlib_math_base_special_max__WEBPACK_IMPORTED_MODULE_9__),_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(302467),_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_10__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(770561),react_bootstrap_ButtonToolbar__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(482228),react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(31071),_isle_project_components_internal_chat_button__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(615697),_isle_project_components_hint_button__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(134656),codemirror__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(223326),codemirror__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_13__),_isle_project_utils_scroll_to__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(705193),_isle_project_utils_uid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(24551),_isle_project_components_overlay_trigger__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(259893),_isle_project_components_internal_voice_control__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(923723),_isle_project_session_context_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(267682),_voice_commands_json__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(668254),_console_styles_json__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(136590),_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(382617),codemirror_mode_javascript_javascript_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(249055),codemirror_mode_javascript_javascript_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(codemirror_mode_javascript_javascript_js__WEBPACK_IMPORTED_MODULE_20__),__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(_,e,t){return e in _?__defProp(_,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):_[e]=t},__spreadValues=function(_,e){for(var t in e||(e={}))__hasOwnProp.call(e,t)&&__defNormalProp(_,t,e[t]);if(__getOwnPropSymbols)for(var s,r=(0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelperLoose__WEBPACK_IMPORTED_MODULE_0__.Z)(__getOwnPropSymbols(e));!(s=r()).done;){t=s.value;__propIsEnum.call(e,t)&&__defNormalProp(_,t,e[t])}return _},__publicField=function(_,e,t){return __defNormalProp(_,"symbol"!=typeof e?e+"":e,t),t},RE_CONSOLE=/console\.(error|warn|debug|log|info)/g,uid=(0,_isle_project_utils_uid__WEBPACK_IMPORTED_MODULE_14__.Z)("js-shell"),THEME={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},showSolutionButton=function(_,e,t,s,r){var o=react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_21__.Z,{id:"tooltip"},r("solution-button:solution-tooltip"));return!_||s<1?react__WEBPACK_IMPORTED_MODULE_1__.createElement(_isle_project_components_overlay_trigger__WEBPACK_IMPORTED_MODULE_15__.Z,{placement:"top",positionLeft:100,overlay:o,rootClose:!0},react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{style:{display:"inline-block",marginLeft:"4px"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_22__.Z,{variant:"warning",size:"sm",disabled:!0,style:{pointerEvents:"none"}},r(t?"solution-button:hide-solution":"solution-button:show-solution")))):react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_22__.Z,{variant:"warning",size:"sm",onClick:e},r(t?"solution-button:hide-solution":"solution-button:show-solution"))};function makeLog(_,e){var t=_.type||"default",s=_console_styles_json__WEBPACK_IMPORTED_MODULE_19__[t];return react__WEBPACK_IMPORTED_MODULE_1__.createElement("p",{key:e,style:s},_.msg)}var JSShell=function(_Component){function JSShell(props,context){var _this;if(_this=_Component.call(this,props)||this,__publicField((0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__.Z)(_this),"resetConsole",(function(){_this.setState({log:[]})})),__publicField((0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__.Z)(_this),"handleSolutionClick",(function(){var _=_this.editor.getValue(),e=_this.props.solution.replace(/\\n/g,"\n");(!1===_this.state.solutionOpen?(_this.editor.setOption("theme","paraiso-light"),_this.editor.setOption("readOnly",!0)):(_this.editor.setOption("theme","elegant"),_this.editor.setOption("readOnly",!1)),_!==e)?(_this.context.log({id:_this.id,type:_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_25__.po,value:_}),_this.setState({lastSolution:_,solutionOpen:!_this.state.solutionOpen}),_this.editor.setValue(e,1)):(_this.setState({solutionOpen:!_this.state.solutionOpen}),_this.editor.setValue(_this.state.lastSolution||e,1))})),__publicField((0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__.Z)(_this),"handleEvaluationClick",(function(){var currentCode=_this.editor.getValue();currentCode=_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_10___default()(currentCode,RE_CONSOLE,"print.$1");var session=_this.context;session.log({id:_this.id,type:_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_25__.IA,value:currentCode});try{_this.props.check?(currentCode+=";"+_this.props.check,eval(currentCode)):eval(currentCode)}catch(err){var errObj={type:"error",msg:err.message},log=_this.state.log;log.push(errObj),_this.setState({log:log})}_this.props.onEvaluate(currentCode)})),__publicField((0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__.Z)(_this),"innerConsole",(function(){__webpack_require__.g.print={error:_this.printFactory("error"),warn:_this.printFactory("warn"),info:_this.printFactory("info"),log:_this.printFactory("log"),debug:_this.printFactory("debug")}})),__publicField((0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__.Z)(_this),"printFactory",(function(_){var e=(0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__.Z)(_this);return function(){for(var t=[],s=0;s<arguments.length;s++){var r=arguments[s];_stdlib_assert_is_regexp__WEBPACK_IMPORTED_MODULE_7___default()(r)?t.push(react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{key:s,className:"js-shell-console-output"},r.toString())):_stdlib_assert_is_object_like__WEBPACK_IMPORTED_MODULE_8___default()(r)?t.push(react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_json_tree__WEBPACK_IMPORTED_MODULE_4__.ZP,{key:s,data:r,theme:{extend:THEME,tree:{padding:"0.2em",backgroundColor:"#f3f2f3"}}})):t.push(react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{key:s,className:"js-shell-console-output"},String(r)))}var o={type:_,msg:t},i=e.state.log;i.push(o),e.setState({log:i})}})),__publicField((0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_24__.Z)(_this),"logHint",(function(_){_this.context.log({id:_this.id,type:_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_25__._4,value:_})})),_this.state={log:[],exhaustedHints:0===props.hints.length,solutionOpen:!1},_this.id=props.id||uid(props),_this.props.vars)for(var key in _this.props.vars)_stdlib_assert_has_own_property__WEBPACK_IMPORTED_MODULE_5___default()(_this.props.vars,key)&&(__webpack_require__.g[key]=_this.props.vars[key]);return _this}(0,_home_philipp_git_cmu_isle_isle_editor_docusaurus_website_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_23__.Z)(JSShell,_Component);var _proto=JSShell.prototype;return _proto.componentDidMount=function(){this.editor=codemirror__WEBPACK_IMPORTED_MODULE_13___default()(this.editorDiv,{mode:"javascript",theme:"elegant",lineNumbers:!0,lineWrapping:!0}),this.editor.setValue(this.props.code,-1),this.editor.on("change",this.props.onChange),this.props.disabled&&(this.editor.setOption("readOnly",!0),this.editor.renderer.$cursorLayer.element.style.opacity=0,this.editor.textInput.getElement().disabled=!0),this.innerConsole(),this.props.precompute&&this.handleEvaluationClick()},_proto.componentDidUpdate=function(_){if(this.props.code!==_.code)this.editor.setValue(this.props.code,1),this.props.precompute&&this.handleEvaluationClick();else if(this.props.disabled!==_.disabled)this.props.disabled?this.editor.setOption("readOnly",!0):this.editor.setOption("readOnly",!1);else{var e=react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this),t=e.closest?e.closest(".spectacle-content"):null;if(t){var s=window.getComputedStyle(t).getPropertyValue("transform"),r=/matrix\(([0-9.]*)/.exec(s);if(_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_6___default()(r)&&r.length>1){var o=r[1];e.style.transform="scale("+1/o+")"}}}this.scrollToBottom()},_proto.componentWillUnmount=function(){__webpack_require__.g.print=null},_proto.showHints=function(){var _=this;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_isle_project_components_hint_button__WEBPACK_IMPORTED_MODULE_12__.Z,{hints:this.props.hints,disabled:this.props.disabled,onClick:this.logHint,onFinished:function(){_.setState({exhaustedHints:!0})}})},_proto.scrollToBottom=function(){(0,_isle_project_utils_scroll_to__WEBPACK_IMPORTED_MODULE_26__.Z)(this.consoleOutput,this.consoleOutput.scrollHeight,1e3)},_proto.renderLogs=function(){for(var _=this.state.log,e=[],t=0;t<_.length;t++){var s=_[t];e.push(makeLog(s,t))}return e},_proto.renderResetButton=function(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{"aria-label":this.props.t("reset"),className:"js-shell-reset",onClick:this.resetConsole},react__WEBPACK_IMPORTED_MODULE_1__.createElement("i",{className:"fas fa-times"}))},_proto.render=function(){var _=this,e=this.props.hints.length,t=react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap_ButtonToolbar__WEBPACK_IMPORTED_MODULE_27__.Z,{style:{float:"right",marginTop:"8px"}},e>0?this.showHints():null,this.props.solution&&!this.props.disabled?showSolutionButton(this.state.exhaustedHints,this.handleSolutionClick,this.state.solutionOpen,this.state.nEvaluations,this.props.t):null,this.props.chat?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{style:{display:"inline-block",marginLeft:"4px"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_isle_project_components_internal_chat_button__WEBPACK_IMPORTED_MODULE_11__.Z,{for:this.id})):null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_isle_project_components_internal_voice_control__WEBPACK_IMPORTED_MODULE_16__.Z,{reference:this,id:this.props.voiceID,commands:_voice_commands_json__WEBPACK_IMPORTED_MODULE_18__})),s=__spreadValues({lineHeight:"1.2em",maxHeight:1.2*_stdlib_math_base_special_max__WEBPACK_IMPORTED_MODULE_9___default()(5,this.props.lines)+"em",height:1.2*this.props.lines+"em"},this.props.style),r=react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"js-shell-edit",style:s,ref:function(e){_.editorDiv=e}});return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{id:this.id},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"js-shell"},r,react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"js-shell-toolbar "+this.props.className},this.props.disabled?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null):react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_22__.Z,{variant:"primary",size:"sm",style:{marginTop:"8px",marginBottom:"8px"},onClick:this.handleEvaluationClick},this.props.t("evaluate")),t,react__WEBPACK_IMPORTED_MODULE_1__.createElement("br",null)),this.props.disabled?null:this.renderResetButton(),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{ref:function(e){_.consoleOutput=e},className:"js-shell-console"},this.renderLogs())))},JSShell}(react__WEBPACK_IMPORTED_MODULE_1__.Component);JSShell.defaultProps={code:"",solution:"",hints:[],precompute:!1,chat:!1,check:null,disabled:!1,lines:5,className:"",style:{},vars:null,voiceID:null,onChange:function(){},onEvaluate:function(){}},JSShell.propTypes={code:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,solution:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,hints:prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,prop_types__WEBPACK_IMPORTED_MODULE_3___default().node])),precompute:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,chat:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,check:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,lines:prop_types__WEBPACK_IMPORTED_MODULE_3___default().number,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,style:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,onEvaluate:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,vars:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,voiceID:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string},JSShell.contextType=_isle_project_session_context_js__WEBPACK_IMPORTED_MODULE_17__.Z,__webpack_exports__.default=(0,react_i18next__WEBPACK_IMPORTED_MODULE_28__.Z)(["r","solution-button"])(JSShell)},705193:function(_,e){e.Z=function _(e,t,s){if(!(s<=0)){var r=(t-e.scrollTop)/s*10;setTimeout((function(){e.scrollTop=e.scrollTop+r,e.scrollTop!==t&&_(e,t,s-10)}),10)}}},136590:function(_){_.exports=JSON.parse('{"log":{"marginLeft":"8px","marginBottom":"0px","fontFamily":"monospace","color":"darkgreen","whiteSpace":"pre-wrap"},"error":{"marginLeft":"8px","marginBottom":"0px","fontFamily":"monospace","color":"red","fontWeight":800,"whiteSpace":"pre-wrap"},"info":{"marginLeft":"8px","marginBottom":"0px","fontFamily":"monospace","color":"darkcyan","whiteSpace":"pre-wrap"},"warn":{"marginLeft":"8px","marginBottom":"0px","fontFamily":"monospace","color":"darkorange","whiteSpace":"pre-wrap"},"default":{"marginLeft":"8px","marginBottom":"0px","fontFamily":"monospace","color":"darkslategrey"}}')},668254:function(_){_.exports=JSON.parse('[{"command":"handleEvaluationClick","trigger":["run","evaluate","execute"],"description":"Run the code"},{"command":"resetConsole","trigger":"reset","description":"Reset the console text"}]')}}]);