"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[85157],{606580:function(e,t,a){a.r(t);var n=a(202784),l=a(213980),i=a.n(l),r=a(690299),o=a.n(r),s=a(770561),u=a(790817),c=a(461298),d=a(435376),m=a(862816),p=a(312594),g=a(458264),f=a(533672),y=a(588703),E=a.n(y),h=a(922730),b=a(351375),Z=a(440835),v=a(506078),S=a(711768),V=a(595959),C=a(691334),w=a(581728),O=Object.defineProperty,x=Object.defineProperties,q=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,D=(e,t,a)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,A=(e,t)=>{for(var a in t||(t={}))k.call(t,a)&&D(e,a,t[a]);if(j)for(var a of j(t))P.call(t,a)&&D(e,a,t[a]);return e},N=(e,t)=>x(e,q(t));const R=o()("isle:data-explorer:histogram"),T={start:null,size:100,end:null},z=e=>{const t=n.createElement(d.Z,{id:`${e.data.label}-popover`},n.createElement(m.Z,null,h.a.t(`data-explorer:${e.data.label}-description`)));return n.createElement(f.c.Option,A({key:e.data.label},e),n.createElement("span",{style:{opacity:e.isSelected?.5:1}},h.a.t("data-explorer:"+e.data.label)),n.createElement(c.Z,{trigger:["hover","click"],placement:"right",rootClose:!0,overlay:t},n.createElement(s.Z,{"aria-label":h.a.t("data-explorer:"+e.data.label),size:"sm",variant:"outline-secondary",className:"question-button",style:{float:"right",fontSize:14},onClick:e=>e.stopPropagation()},n.createElement("span",{className:"fa fa-question"}))))},F={Exponential:[{name:"lambda",description:"rate",defaultValue:1,min:0,step:"any"}],Normal:[{name:"mu",description:"mean",defaultValue:0,step:"any"},{name:"sigma",description:"standard-deviation",defaultValue:1,min:0,step:"any"}],Uniform:[{name:"a",description:"minimum",defaultValue:0,step:"any"},{name:"b",description:"maximum",defaultValue:1,step:"any"}],T:[{name:"df",description:"degrees of freedom",min:0,defaultValue:1,step:"any"}],"Chi-squared":[{name:"df",description:"degrees of freedom (= mean)",min:1,step:1,defaultValue:1}]},$=e=>{const[t,a]=(0,n.useState)(!1),[l,i]=(0,n.useState)(null),[r,o]=(0,n.useState)({}),[c,d]=(0,n.useState)({}),[m,f]=(0,n.useState)(1),[y,h]=(0,n.useState)(!1),[O,x]=(0,n.useState)(!1),[q,j]=(0,n.useState)(e.defaultValue||e.variables[0]),[k,P]=(0,n.useState)(null),[D,$]=(0,n.useState)("Overlay"),[H,B]=(0,n.useState)(2),[U,I]=(0,n.useState)(10),[G,L]=(0,n.useState)(T),[M,X]=(0,n.useState)("Automatic"),{variables:Y,groupingVariables:J,t:K}=e;(0,n.useEffect)((()=>{L(T)}),[M]);const Q=[];return E()(l)&&(l.includes("Data-driven")&&Q.push(n.createElement(n.Fragment,null,n.createElement("h4",null,K("data-driven")),n.createElement(v.Z,{legend:K("bandwidth-adjustment"),defaultValue:m,min:0,step:.1,onChange:f}))),l.forEach(((e,t)=>{if("Data-driven"===e)return null;const a=[];c[e]&&a.push(...(F[e]||[]).map(((a,l)=>n.createElement(v.Z,{key:`${t}-${l}`,legend:K(a.name),description:K(a.description),value:r[e][l],onChange:t=>{const a=r[e].slice();a[l]=t,o(N(A({},r),{[e]:a}))},max:a.max,min:a.min,step:a.step,tooltipPlacement:"bottom"})))),Q.push(n.createElement(n.Fragment,null,n.createElement("h4",null,e),n.createElement(b.Z,{legend:K("specify-parameters"),tooltip:K("specify-parameters-tooltip"),defaultValue:c[e],onChange:t=>{o(N(A({},r),{[e]:F[e].map((e=>e.defaultValue))})),d(N(A({},c),{[e]:t}))}}),a))}))),n.createElement(u.Z,null,n.createElement(u.Z.Header,{as:"h4"},K("Histogram"),n.createElement(w.Z,{title:K("Histogram"),content:K("Histogram-description")})),n.createElement(u.Z.Body,{className:"d-grid gap-3"},n.createElement(g.Z,null,n.createElement(p.Z,{md:6},n.createElement(Z.Z,{legend:K("variable"),defaultValue:q,options:Y,onChange:j})),n.createElement(p.Z,{md:6},n.createElement(Z.Z,{legend:K("group-by"),options:J,clearable:!0,onChange:P}))),n.createElement(g.Z,null,n.createElement(p.Z,{md:6},k?n.createElement(Z.Z,{legend:`${K("mode")}:`,defaultValue:D,options:["Overlay","Facets"],onChange:$}):null),n.createElement(p.Z,{md:6},k&&"Facets"===D?n.createElement(v.Z,{legend:K("columns"),defaultValue:2,min:1,onChange:B,style:{marginTop:30},inputStyle:{width:70,marginLeft:0,marginTop:2}}):null)),k&&"Facets"===D?n.createElement(g.Z,null,n.createElement(p.Z,{md:6},n.createElement(b.Z,{legend:K("common-x-axis"),defaultValue:y,onChange:h})),n.createElement(p.Z,{md:6},n.createElement(b.Z,{legend:K("common-y-axis"),defaultValue:O,onChange:x}))):null,n.createElement("div",null,n.createElement(Z.Z,{legend:K("binning-strategy"),options:["Automatic","Select # of bins","Set bin width"],defaultValue:M,inline:!0,onChange:X}),"Automatic"!==M?n.createElement("div",null,n.createElement(v.Z,{legend:K("start"),inline:!0,defaultValue:G.start,onChange:e=>{const t=A({},G);t.start=e,L(t)},step:"any",inputStyle:{width:70}}),"Select # of bins"===M?n.createElement(v.Z,{legend:K("bins"),defaultValue:U,min:1,step:1,onChange:I,inline:!0,inputStyle:{width:70}}):null,"Set bin width"===M?n.createElement(v.Z,{legend:K("size"),inline:!0,defaultValue:G.size,onChange:e=>{const t=A({},G);t.size=e,L(t)},step:"any",inputStyle:{width:70}}):null,n.createElement(v.Z,{legend:K("end"),inline:!0,defaultValue:G.end,onChange:e=>{const t=A({},G);t.end=e,L(t)},step:"any",inputStyle:{width:70}})):null),e.showDensityOption?n.createElement("div",null,n.createElement(b.Z,{legend:K("display-density"),defaultValue:t,onChange:a}),n.createElement(Z.Z,{multi:!0,legend:K("overlay-density-lines"),options:["Data-driven","Normal","Uniform","Exponential","T","Chi-squared"],disabled:!t,defaultValue:l,clearable:!0,menuPlacement:"top",onChange:i,components:{Option:z}}),Q):null,n.createElement(s.Z,{variant:"primary",onClick:()=>{R(`Generate a histogram with ${U} bins`);const a=(0,S.Z)(6),i={variable:q,group:k,groupMode:D,displayDensity:t,densityType:l,binStrategy:M,sameXRange:y,sameYRange:O};if("Select # of bins"===M&&(i.nBins=U),i.xBins=G,"Facets"===D&&(i.nCols=H),E()(l)){l.includes("Data-driven")&&(i.bandwidthAdjust=m);const e=Object.keys(r);if(e.length>0){const t={};e.forEach((e=>{c[e]&&(t[e]=r[e])})),i.densityParams=t}}const o=N(A({},i),{plotId:a}),s=n.createElement(V.Z,N(A({data:e.data},i),{id:a,action:o,onShare:()=>{e.session.addNotification({title:K("plot-shared"),message:K("plot-shared-message"),level:"success",position:"tr"}),e.logAction(C.yd,o)}}));e.logAction(C.US,o),e.onCreated(s)}},K("generate"))))};$.defaultProps={defaultValue:null,groupingVariables:null,logAction(){},showDensityOption:!0,onSelected(){}},$.propTypes={data:i().object.isRequired,defaultValue:i().string,groupingVariables:i().array,logAction:i().func,onSelected:i().func,onCreated:i().func.isRequired,session:i().object.isRequired,showDensityOption:i().bool,variables:i().array.isRequired},t.default=$},581728:function(e,t,a){var n=a(202784),l=a(213980),i=a.n(l),r=a(770561),o=a(435376),s=a(992500),u=a(862816),c=a(461298);const d=e=>{const t=n.createElement(o.Z,{id:"popover-positioned-right"},n.createElement(s.Z,null,e.title),n.createElement(u.Z,null,e.content));return n.createElement(c.Z,{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:t},n.createElement(r.Z,{"aria-label":e.title,size:"sm",variant:"outline-secondary",className:"question-button"},n.createElement("div",{className:"fa fa-question"})))};d.propTypes={content:i().oneOfType([i().string,i().node]).isRequired,title:i().string.isRequired},t.Z=d}}]);