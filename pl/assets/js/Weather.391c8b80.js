"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[61064],{652839:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var r=a(202784),n=a(213980),s=a.n(n),i=a(690299),l=a.n(i),c=a(789644),o=a.n(c),h=a(198),m=a(686605),d=a.n(m),u=a(123103),p=a(741082);var w=function({weather:e}){return e?r.createElement("div",{className:"weather-description"},e.main," (",e.description,")"):null};var g=function({name:e,sys:t}){return r.createElement("div",{className:"weather-location"},r.createElement("div",{className:"weather-place"},e,","),r.createElement("div",{className:"weather-location-country"},t.country))},y=Object.defineProperty,E=(e,t,a)=>(((e,t,a)=>{t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a);const v=l()("isle:weather"),f=({main:e,weather:t})=>{const[a,n]=(0,r.useState)("fahrenheit"),s=()=>{n("celsius"===a?"fahrenheit":"celsius")};let i,l;"celsius"===a?(i=d()((e.temp-32)*(5/9),-2),l="C"):(i=d()(e.temp),l="F");const c=`http://openweathermap.org/img/wn/${t.icon}@2x.png`;return r.createElement("div",{className:"weather-temperature"},i,"\xb0",r.createElement("span",{role:"button",onClick:s,onKeyPress:s,className:"weather-temperature-type",tabIndex:0},l),r.createElement("img",{className:"weather-icon",alt:"Weather icon",src:c}))},b=({main:e,wind:t,t:a})=>r.createElement("div",{className:"weather-details"},r.createElement("div",{className:"weather-humidity"},a("humidity"),": ",e.humidity,"%"),r.createElement("div",{className:"weather-wind"},a("wind"),": ",t.speed," ","m/sec",r.createElement("br",null),a("direction"),": ",t.deg));class N extends r.Component{constructor(e){super(e),E(this,"reset",(()=>{this.setState({data:null})})),E(this,"trigger",((e,t)=>{v("Trigger weather retrieval..."),this.callback=t||null;const a=this.props.t("in");let r=e.search(a);if(r+=a.length+1,-1!==r){let t=e.substring(r,e.length);v("Get weather info for location: "+t),this.getData(t)}})),E(this,"getData",(e=>{const t=this.context;e&&t.server&&o().get(`${t.server}/weather?location=${e}`).then((e=>{this.setWeatherData(e.data)})).catch((e=>{v("Encountered an error: "+e.message)}))})),E(this,"setWeatherData",(e=>{this.callback&&this.callback(e),this.setState({data:e})})),this.state={data:null}}componentDidMount(){this.getData(this.props.location)}render(){const e=this.state.data;return e?r.createElement("div",{className:"weather",style:this.props.style},r.createElement(g,{name:e.name,sys:e.sys}),r.createElement(w,{weather:e.weather[0]}),r.createElement(f,{main:e.main,weather:e.weather[0]}),r.createElement(b,{main:e.main,wind:e.wind,t:this.props.t}),r.createElement("br",null)):r.createElement("div",{className:"weather",style:this.props.style},r.createElement("div",{className:"weather-loading title"},this.props.t("loading-weather-data-for",{loc:this.props.location})))}}N.propTypes={location:s().string,style:s().object},N.defaultProps={location:null,style:{}},N.contextType=u.Z;var k=(0,h.Z)("weather")((0,p.W)(N))}}]);