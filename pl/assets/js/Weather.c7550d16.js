"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[61064],{652839:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var r=a(202784),s=a(213980),n=a.n(s),i=a(690299),l=a.n(i),c=a(254758),o=a(198),h=a(686605),m=a.n(h),d=a(123103),u=a(741082);var p=function({weather:e}){return e?r.createElement("div",{className:"weather-description"},e.main," (",e.description,")"):null};var w=function({name:e,sys:t}){return r.createElement("div",{className:"weather-location"},r.createElement("div",{className:"weather-place"},e,","),r.createElement("div",{className:"weather-location-country"},t.country))},g=Object.defineProperty,y=(e,t,a)=>(((e,t,a)=>{t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a);const E=l()("isle:weather"),v=({main:e,weather:t})=>{const[a,s]=(0,r.useState)("fahrenheit"),n=()=>{s("celsius"===a?"fahrenheit":"celsius")};let i,l;"celsius"===a?(i=m()((e.temp-32)*(5/9),-2),l="C"):(i=m()(e.temp),l="F");const c=`http://openweathermap.org/img/wn/${t.icon}@2x.png`;return r.createElement("div",{className:"weather-temperature"},i,"\xb0",r.createElement("span",{role:"button",onClick:n,onKeyPress:n,className:"weather-temperature-type",tabIndex:0},l),r.createElement("img",{className:"weather-icon",alt:"Weather icon",src:c}))},f=({main:e,wind:t,t:a})=>r.createElement("div",{className:"weather-details"},r.createElement("div",{className:"weather-humidity"},a("humidity"),": ",e.humidity,"%"),r.createElement("div",{className:"weather-wind"},a("wind"),": ",t.speed," ","m/sec",r.createElement("br",null),a("direction"),": ",t.deg));class b extends r.Component{constructor(e){super(e),y(this,"reset",(()=>{this.setState({data:null})})),y(this,"trigger",((e,t)=>{E("Trigger weather retrieval..."),this.callback=t||null;const a=this.props.t("in");let r=e.search(a);if(r+=a.length+1,-1!==r){let t=e.substring(r,e.length);E("Get weather info for location: "+t),this.getData(t)}})),y(this,"getData",(e=>{const t=this.context;e&&t.server&&c.ZP.get(`${t.server}/weather?location=${e}`).then((e=>{this.setWeatherData(e.data)})).catch((e=>{E("Encountered an error: "+e.message)}))})),y(this,"setWeatherData",(e=>{this.callback&&this.callback(e),this.setState({data:e})})),this.state={data:null}}componentDidMount(){this.getData(this.props.location)}render(){const e=this.state.data;return e?r.createElement("div",{className:"weather",style:this.props.style},r.createElement(w,{name:e.name,sys:e.sys}),r.createElement(p,{weather:e.weather[0]}),r.createElement(v,{main:e.main,weather:e.weather[0]}),r.createElement(f,{main:e.main,wind:e.wind,t:this.props.t}),r.createElement("br",null)):r.createElement("div",{className:"weather",style:this.props.style},r.createElement("div",{className:"weather-loading title"},this.props.t("loading-weather-data-for",{loc:this.props.location})))}}b.propTypes={location:n().string,style:n().object},b.defaultProps={location:null,style:{}},b.contextType=d.Z;var N=(0,o.Z)("weather")((0,u.W)(b))}}]);