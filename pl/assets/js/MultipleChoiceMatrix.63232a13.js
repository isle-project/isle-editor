"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1224],{569904:function(e,t,n){var i=n(867855),r=n(202784),s=n(213980),a=n.n(s),o=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=function(e,t,n){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},m=function(e){var t=e,n=t.children,s=function(e,t){var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var s,a=(0,i.Z)(l(e));!(s=a()).done;)r=s.value,t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n}(t,["children"]);return r.createElement("div",function(e,t){for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(l)for(var r,s=(0,i.Z)(l(t));!(r=s()).done;)n=r.value,u.call(t,n)&&p(e,n,t[n]);return e}({},s),n)};m.defaultProps={className:"",style:{}},m.propTypes={className:a().string,style:a().object},t.Z=m},38964:function(e,t,n){n.r(t);var i=n(497326),r=n(894578),s=n(202784),a=n(213980),o=n.n(a),l=n(690299),c=n.n(l),u=n(198),p=n(293367),m=n.n(p),d=n(294565),h=n(770561),f=n(790817),b=n(23836),y=n(458264),v=n(312594),w=n(269891),g=n(301158),Z=n(569904),E=n(89926),k=n(267682),N=n(24551),x=n(382617),S=n(615558),C=Object.defineProperty,O=function(e,t,n){return function(e,t,n){t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},P=c()("isle:multiple-choice-matrix"),T=(0,N.Z)("multiple-choice-matrix"),R=function(e){function t(t){var n;n=e.call(this,t)||this,O((0,i.Z)(n),"handleCheckboxClick",(function(e){if("INPUT"===m()(e.target.tagName)){var t=e.target.checked,i=e.target.dataset.pos.split("-"),r=n.state.active;r[i[0]][i[1]]=t,n.setState({active:r}),n.props.onChange(r)}})),O((0,i.Z)(n),"handleRadioClick",(function(e){if("INPUT"===m()(e.target.tagName)){var t=e.target.checked,i=e.target.dataset.pos.split("-"),r=n.state.active;r[i[0]]=new Array(n.props.answers.length),r[i[0]][i[1]]=t,n.setState({active:r}),n.props.onChange(r)}})),O((0,i.Z)(n),"sendSubmitNotification",(function(){var e=n.context;n.state.submitted?e.addNotification({title:n.props.t("answer-re-submitted"),message:n.props.t("successfully-re-submitted-your-answer"),level:"success"}):e.addNotification({title:n.props.t("answer-submitted"),message:n.props.t("successfully-submitted-your-answer"),level:"success"})})),O((0,i.Z)(n),"handleSubmit",(function(){var e=n.context;P("Submit answer..."),n.props.disableSubmitNotification||n.sendSubmitNotification(),n.id&&e.log({id:n.id,type:x.P1,value:JSON.stringify(n.state.active)}),n.setState({submitted:!0}),n.props.onSubmit(n.state.active)})),O((0,i.Z)(n),"toggleSolution",(function(){console.log("TODO: Toggle solution:"),console.log(n.props.solution)})),n.id=t.id||T(t);for(var r=new Array(t.questions.length),s=0;s<r.length;s++)r[s]=new Array(t.answers.length);return n.state={submitted:!1,active:r},n}(0,r.Z)(t,e);var n=t.prototype;return n.renderAnswerHeader=function(){var e,t=this.props.answers.length;return e=t>7?3:t>4?4:6,s.createElement(y.Z,{className:"multiple-choice-matrix-question-header"},s.createElement(v.Z,{sm:e}),this.props.answers.map((function(e,t){return s.createElement(v.Z,{key:t},s.createElement(b.Z.Label,null,(0,d.isPrimitive)(e)?s.createElement(E.Z,{raw:e}):e))})))},n.renderAnswerButtons=function(e){for(var t=this.props.answers.length,n=new Array(t),i=0;i<t;i++){var r=this.props.answers[i];n[i]=s.createElement(v.Z,{key:i},s.createElement(b.Z.Check,{name:"radios-"+e,"data-pos":e+"-"+i,type:this.props.type,id:e+"-"+i,label:s.createElement("span",{className:"multiple-choice-matrix-answer-text"},(0,d.isPrimitive)(r)?s.createElement(E.Z,{raw:r}):r)}))}return s.createElement(s.Fragment,null,n)},n.renderQuestionRows=function(){var e,t=this,n=this.props.answers.length;return e=n>7?3:n>4?4:6,this.props.questions.map((function(n,i){return s.createElement(y.Z,{key:i},s.createElement(v.Z,{sm:e},s.createElement(b.Z.Label,{column:!0},(0,d.isPrimitive)(n)?s.createElement(E.Z,{raw:n}):n)),t.renderAnswerButtons(i))}))},n.render=function(){var e=this.props.solution?s.createElement(g.Z,{onClick:this.toggleSolution,disabled:!this.state.submitted}):null;return s.createElement(f.Z,{className:"multiple-choice-matrix"},this.props.title?s.createElement(f.Z.Header,null,s.createElement(f.Z.Title,{as:"h5"},this.props.title)):null,s.createElement(f.Z.Body,null,s.createElement("i",{style:{fontSize:"0.8rem"}},"checkbox"===this.props.type?this.props.t("each-row-click-check-boxes-which-apply"):this.props.t("each-row-pick-answer-by-clicking"),"."),s.createElement(b.Z,{style:{marginTop:"12px"},onClick:"checkbox"===this.props.type?this.handleCheckboxClick:this.handleRadioClick},this.renderAnswerHeader(),this.renderQuestionRows()),s.createElement("div",{className:"multiple-choice-matrix-controls"},e,s.createElement(h.Z,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,style:{marginTop:"10px"}},this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),s.createElement(Z.Z,{id:this.id,data:{type:"matrix",rows:this.props.questions,cols:this.props.answers,solution:this.props.solution},info:"MULTIPLE_CHOICE_MATRIX_SUBMISSION"}),this.id&&this.props.feedback?s.createElement(w.Z,{id:this.id+"_feedback"}):null)))},t}(s.Component);R.propTypes={questions:o().array.isRequired,answers:o().array.isRequired,title:o().oneOfType([o().string,o().node]),solution:o().arrayOf([o().array]),type:o().oneOf(["radio","checkbox"]),disableSubmitNotification:o().bool,onChange:o().func,onSubmit:o().func},R.defaultProps={title:null,solution:null,type:"radio",disableSubmitNotification:!1,onChange:function(){},onSubmit:function(){}},R.contextType=k.Z,t.default=(0,u.Z)("questions/multiple-choice")((0,S.W)(R))},301158:function(e,t,n){var i=(0,n(708717).Z)((function(){return n.e(8905).then(n.bind(n,804154))}));t.Z=i},770561:function(e,t,n){var i=n(72779),r=n.n(i),s=n(202784),a=n(247830),o=n(429658),l=n(552322);const c=s.forwardRef((({as:e,bsPrefix:t,variant:n,size:i,active:s,className:c,...u},p)=>{const m=(0,o.vE)(t,"btn"),[d,{tagName:h}]=(0,a.FT)({tagName:e,...u}),f=h;return(0,l.jsx)(f,{...d,...u,ref:p,className:r()(c,m,s&&"active",n&&`${m}-${n}`,i&&`${m}-${i}`,u.href&&u.disabled&&"disabled")})}));c.displayName="Button",c.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=c},458264:function(e,t,n){var i=n(72779),r=n.n(i),s=n(202784),a=n(429658),o=n(552322);const l=s.forwardRef((({bsPrefix:e,className:t,as:n="div",...i},s)=>{const l=(0,a.vE)(e,"row"),c=(0,a.pi)(),u=`${l}-cols`,p=[];return c.forEach((e=>{const t=i[e];let n;delete i[e],null!=t&&"object"==typeof t?({cols:n}=t):n=t;const r="xs"!==e?`-${e}`:"";null!=n&&p.push(`${u}${r}-${n}`)})),(0,o.jsx)(n,{ref:s,...i,className:r()(t,l,...p)})}));l.displayName="Row",t.Z=l}}]);