"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2723],{569904:function(e,n,t){var r=t(55196),a=t(202784),l=t(213980),s=t.n(l),o=Object.defineProperty,i=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=function(e,n,t){return n in e?o(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t},f=function(e){var n=e,t=n.children,l=function(e,n){var t={};for(var a in e)u.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&i)for(var l,s=(0,r.Z)(i(e));!(l=s()).done;)a=l.value,n.indexOf(a)<0&&c.call(e,a)&&(t[a]=e[a]);return t}(n,["children"]);return a.createElement("div",function(e,n){for(var t in n||(n={}))u.call(n,t)&&p(e,t,n[t]);if(i)for(var a,l=(0,r.Z)(i(n));!(a=l()).done;)t=a.value,c.call(n,t)&&p(e,t,n[t]);return e}({},l),t)};f.defaultProps={className:"",style:{}},f.propTypes={className:s().string,style:s().object},n.Z=f},978298:function(e,n,t){t.r(n);var r=t(202784),a=t(213980),l=t.n(a),s=t(690299),o=t.n(s),i=t(376699),u=t(260952),c=t(312594),p=t(458264),f=t(471275),m=t(1570),d=t.n(m),b=t(24551),v=t(616706),g=t(569904),y=t(750707),h=t(893316),Z=t(267682),E=t(262600),w=t(382617),N=t(376353),P=o()("isle:proportions-survey"),k=(0,b.Z)("proportions-survey"),x=function(e){var n=(0,r.useRef)(e.id||k(e)),t=(0,i.$)("surveys").t,a=(0,r.useContext)(Z.Z),l=(0,r.useState)(!1),s=l[0],o=l[1],m=(0,r.useState)(!1),b=m[0],x=m[1],S=e.legends.length,C=(0,r.useState)(new Array(S).fill(100/S)),O=C[0],z=C[1],R=(0,r.useState)({values:null,nResults:0}),A=R[0],j=R[1],H=e.anonymous,T=e.legends,q=e.onSubmit,G=(0,r.useCallback)((function(){P("Sending the data: "+O),a.log({id:n.current,type:w.Pt,value:JSON.stringify(O),anonymous:H},"members"),o(!0),a.addNotification({title:t("submitted"),message:t("answer-submitted"),level:"success"}),q(O)}),[H,q,a,t,O]),J=(0,r.useCallback)((function(e){P("ProportionsSurvey is receiving data: "+JSON.stringify(e));for(var n=new Array(e.length),t=0;t<e.length;t++)n[t]=JSON.parse(e[t]);for(var r=T.length,a=new Array(r).fill(0),l=new Array(r).fill(0),s=0;s<n.length;s++)for(var o=0;o<n[s].length;o++)a[o]+=n[s][o];P("The sum is "+a);for(var i=0;i<r;i++)l[i]=a[i]/n.length;P("The mean is "+l),j({values:l,nResults:n.length})}),[T]),M=s&&!e.allowMultipleAnswers||e.disabled||d()((0,N.Z)(O),100)>.2;return r.createElement(E.Z,null,r.createElement(f.Z,null,r.createElement(p.Z,null,r.createElement(c.Z,{md:6},r.createElement(u.Z,{body:!0,className:"proportions-survey"},r.createElement("h3",null,e.question,b?r.createElement("i",{className:"fas fa-lock",style:{float:"right"}}):null),r.createElement(v.Z,{legends:T,precision:e.precision,step:e.step,height:e.personalHeight,colors:e.colors,margin:e.margin,onChange:z}),r.createElement(h.Z,{id:n.current,disabled:M,onClick:G,onPaused:x},t(M?"submitted":"submit")))),r.createElement(c.Z,{md:6},r.createElement(u.Z,{body:!0,className:"proportions-survey"},r.createElement("h3",null,e.group),r.createElement(y.Z,{for:[n.current],onData:J}),r.createElement("h4",null,t("number-of-votes"),": ",A.nResults," "),r.createElement(v.Z,{legends:e.legends,precision:e.precision,step:e.step,height:e.groupHeight,colors:e.colors,disabled:!0,margin:e.margin,values:A.values}))))),r.createElement(g.Z,{buttonLabel:t("responses"),id:n.current}))};x.defaultProps={onSubmit:function(){},allowMultipleAnswers:!1,question:"",anonymous:!1,disabled:!1,legends:[],group:"group results",precision:2,step:.25,colors:null,personalHeight:200,groupHeight:100,margin:"40px"},x.propTypes={allowMultipleAnswers:l().bool,anonymous:l().bool,colors:l().array,disabled:l().bool,group:l().string,groupHeight:l().number,legends:l().array,margin:l().string,onSubmit:l().func,personalHeight:l().number,precision:l().number,question:l().oneOfType([l().string,l().node]),step:l().number},n.default=x},893316:function(e,n,t){var r=t(202784),a=t(213980),l=t.n(a),s=t(376699),o=t(822736),i=t(770561),u=t(476709),c=t(267682),p=t(382617),f=t(10206),m=function(e){var n=e.children,t=e.disabled,a=e.id,l=e.size,m=e.variant,d=e.onClick,b=e.onPaused,v=(0,r.useState)(!1),g=v[0],y=v[1],h=(0,s.$)("general").t,Z=(0,r.useContext)(c.Z);(0,r.useEffect)((function(){var e;return Z&&(e=Z.subscribe((function(e,n){e===f.Wh&&n.id===a+"-stoppable-button"&&(n.type===p.rz?(y(!0),b(!0)):n.type===p.nt&&(y(!1),b(!1)))}))),function(){e&&e()}}),[a,Z,b]);var E=(0,r.useCallback)((function(){Z.log({id:a+"-stoppable-button",type:g?p.nt:p.rz,value:!0},"members"),y(!g),b&&b(!g)}),[a,g,Z,b]);return a?r.createElement(r.Fragment,null,r.createElement(i.Z,{className:"stoppable-button",size:l,variant:m,block:!0,fill:!0,onClick:d,disabled:t||g},n),r.createElement(u.Z,{owner:!0,banner:null},r.createElement(i.Z,{size:l,variant:g?"warning":"secondary",block:!0,fill:!0,onClick:E},g?r.createElement("span",null,h("resume")):r.createElement("span",null,h("pause"))))):r.createElement(o.Z,{variant:"danger"},h("supply-component-id"))};m.defaultProps={size:"small",variant:"success"},m.propTypes={size:l().oneOf(["small","sm","large","lg"]),variant:l().string},n.Z=m},770561:function(e,n,t){var r=t(807896),a=t(231461),l=t(72779),s=t.n(l),o=t(202784),i=t(429658),u=t(482695),c=["bsPrefix","variant","size","active","className","block","type","as"],p=o.forwardRef((function(e,n){var t=e.bsPrefix,l=e.variant,p=e.size,f=e.active,m=e.className,d=e.block,b=e.type,v=e.as,g=(0,a.Z)(e,c),y=(0,i.vE)(t,"btn"),h=s()(m,y,f&&"active",l&&y+"-"+l,d&&y+"-block",p&&y+"-"+p);if(g.href)return o.createElement(u.Z,(0,r.Z)({},g,{as:v,ref:n,className:s()(h,g.disabled&&"disabled")}));n&&(g.ref=n),b?g.type=b:v||(g.type="button");var Z=v||"button";return o.createElement(Z,(0,r.Z)({},g,{className:h}))}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1},n.Z=p},471275:function(e,n,t){var r=t(807896),a=t(231461),l=t(72779),s=t.n(l),o=t(202784),i=t(429658),u=["bsPrefix","fluid","as","className"],c=o.forwardRef((function(e,n){var t=e.bsPrefix,l=e.fluid,c=e.as,p=void 0===c?"div":c,f=e.className,m=(0,a.Z)(e,u),d=(0,i.vE)(t,"container"),b="string"==typeof l?"-"+l:"-fluid";return o.createElement(p,(0,r.Z)({ref:n},m,{className:s()(f,l?""+d+b:d)}))}));c.displayName="Container",c.defaultProps={fluid:!1},n.Z=c},458264:function(e,n,t){var r=t(807896),a=t(231461),l=t(72779),s=t.n(l),o=t(202784),i=t(429658),u=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],p=o.forwardRef((function(e,n){var t=e.bsPrefix,l=e.className,p=e.noGutters,f=e.as,m=void 0===f?"div":f,d=(0,a.Z)(e,u),b=(0,i.vE)(t,"row"),v=b+"-cols",g=[];return c.forEach((function(e){var n,t=d[e];delete d[e];var r="xs"!==e?"-"+e:"";null!=(n=null!=t&&"object"==typeof t?t.cols:t)&&g.push(""+v+r+"-"+n)})),o.createElement(m,(0,r.Z)({ref:n},d,{className:s().apply(void 0,[l,b,p&&"no-gutters"].concat(g))}))}));p.displayName="Row",p.defaultProps={noGutters:!1},n.Z=p}}]);