/*! For license information please see MultipleChoiceSurvey.e3f889c8.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3962],{569904:function(e,t,n){var r=n(55196),a=n(202784),l=n(213980),o=n.n(l),i=Object.defineProperty,s=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=function(e,t,n){return t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},d=function(e){var t=e,n=t.children,l=function(e,t){var n={};for(var a in e)u.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&s)for(var l,o=(0,r.Z)(s(e));!(l=o()).done;)a=l.value,t.indexOf(a)<0&&c.call(e,a)&&(n[a]=e[a]);return n}(t,["children"]);return a.createElement("div",function(e,t){for(var n in t||(t={}))u.call(t,n)&&f(e,n,t[n]);if(s)for(var a,l=(0,r.Z)(s(t));!(a=l()).done;)n=a.value,c.call(t,n)&&f(e,n,t[n]);return e}({},l),n)};d.defaultProps={className:"",style:{}},d.propTypes={className:o().string,style:o().object},t.Z=d},513899:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(202784),a=n(213980),l=n.n(a),o=n(376699),i=n(312594),s=n(458264),u=n(471275),c=n(188304),f=n(260952),d=n(690299),v=n.n(d),m=n(308669),p=n.n(m),b=n(839916),y=n.n(b),Z=n(24551),E=n(584443),w=n(262600),h=n(569904),C=n(750707),g=n(893316),k=n(267682),x=n(382617),N=n(338664),P=n(912860),S=function(e){return e.disabled?r.createElement(P.Z,null,e.answerContent):r.createElement(P.Z,{onClick:e.onAnswerSelected,active:e.active},e.answerContent)};S.propTypes={active:l().bool.isRequired,answerContent:l().oneOfType([l().element,l().string]).isRequired,disabled:l().bool.isRequired,onAnswerSelected:l().func.isRequired};var R=S,A=v()("isle:multiple-choice-survey"),q=(0,Z.Z)("multiple-choice-survey"),z=function(e){var t,n=(0,r.useRef)(e.id||q(e)),a=(0,o.$)("surveys").t,l=e.allowMultipleAnswers,d=e.anonymous,v=e.answers,m=e.multipleAnswers,b=e.question,Z=e.onSubmit,N=(0,r.useContext)(k.Z),P=(0,r.useState)(!1),S=P[0],z=P[1],O=(0,r.useState)(!1),I=O[0],K=O[1],T=(0,r.useState)(!1),j=T[0],D=T[1],F=(0,r.useState)(m?new Array(v.length):null),G=F[0],L=F[1],M=(0,r.useState)({counts:[],freqTable:null}),B=M[0],W=M[1],$=(0,r.useCallback)((function(){N.log({id:n.current,type:x.ys,value:G,anonymous:d},"members"),l||z(!0),N.addNotification({title:a("submitted"),message:a("answer-submitted"),level:"success"}),Z(G)}),[G,l,d,N,Z,a]),J=(0,r.useCallback)((function(e){A("MultipleChoiceSurvey is receiving data: "+JSON.stringify(e));var t=y()(e),n=t.map((function(e){return{x:v[e[0]],y:e[1]}})),l=r.createElement("table",{className:"table table-bordered"},r.createElement("tr",null,r.createElement("th",null,a("category")),r.createElement("th",null,a("count")),r.createElement("th",null,a("relative-frequency"))),t.map((function(e,t){return r.createElement("tr",{key:t},e.map((function(e,n){return 0===n?e=v[e]:2===n&&(e=e.toFixed(3)),r.createElement("td",{key:t+":"+n},e)})))})));W({counts:n,freqTable:l})}),[v,a]),U=(0,r.useCallback)((function(e,t){return r.createElement(R,{key:t,no:t,answerContent:e,active:G===t,submitted:S,onAnswerSelected:function(){S||(L(t),D(!0))}})}),[G,S]),V=(0,r.useCallback)((function(e,t){return r.createElement(R,{key:e,no:t,answerContent:e,active:G[t],submitted:S,onAnswerSelected:function(){if(!S){var e=G.slice();e[t]=!e[t],L(e),D(!0)}}})}),[G,S]);return t=m?S:S||!j,r.createElement(w.Z,{id:n.current,style:e.style},r.createElement(u.Z,null,r.createElement(s.Z,null,r.createElement(i.Z,{md:6},r.createElement(f.Z,{body:!0,className:"multiple-choice-survey"},r.createElement("p",null,r.createElement("label",null,b),I?r.createElement("i",{className:"fas fa-lock",style:{float:"right"}}):null),m?r.createElement("span",null,a("multiple-answers")):null,r.createElement(c.Z,{fill:!0},m?v.map(V):v.map(U)),r.createElement(g.Z,{id:n.current,disabled:t,onClick:$,onPaused:K},a(S?"submitted":"submit")))),r.createElement(i.Z,{md:6},r.createElement(C.Z,{for:[n.current],onData:J}),p()(B.counts)?r.createElement("h3",null,a("no-responses-yet")):r.createElement(E.Z,{data:[{x:B.counts.map((function(e){return e.x})),y:B.counts.map((function(e){return e.y})),type:"bar"}],layout:{width:400,height:300},removeButtons:!0}),r.createElement("p",null,B.freqTable)))),r.createElement(h.Z,{buttonLabel:a("responses"),id:n.current,data:{type:"factor",levels:e.answers},info:x.ys}))};z.defaultProps={question:"",allowMultipleAnswers:!1,anonymous:!1,answers:[],multipleAnswers:!1,style:{},onSubmit:function(){}},z.propTypes={question:l().oneOfType([l().string,l().node]),allowMultipleAnswers:l().bool,anonymous:l().bool,answers:l().array,multipleAnswers:l().bool,style:l().object,onSubmit:l().func};var O=(0,N.W)(z)},893316:function(e,t,n){var r=n(202784),a=n(213980),l=n.n(a),o=n(376699),i=n(822736),s=n(770561),u=n(476709),c=n(267682),f=n(382617),d=n(10206),v=function(e){var t=e.children,n=e.disabled,a=e.id,l=e.size,v=e.variant,m=e.onClick,p=e.onPaused,b=(0,r.useState)(!1),y=b[0],Z=b[1],E=(0,o.$)("general").t,w=(0,r.useContext)(c.Z);(0,r.useEffect)((function(){var e;return w&&(e=w.subscribe((function(e,t){e===d.Wh&&t.id===a+"-stoppable-button"&&(t.type===f.rz?(Z(!0),p(!0)):t.type===f.nt&&(Z(!1),p(!1)))}))),function(){e&&e()}}),[a,w,p]);var h=(0,r.useCallback)((function(){w.log({id:a+"-stoppable-button",type:y?f.nt:f.rz,value:!0},"members"),Z(!y),p&&p(!y)}),[a,y,w,p]);return a?r.createElement(r.Fragment,null,r.createElement(s.Z,{className:"stoppable-button",size:l,variant:v,block:!0,fill:!0,onClick:m,disabled:n||y},t),r.createElement(u.Z,{owner:!0},r.createElement(s.Z,{size:l,variant:y?"warning":"secondary",block:!0,fill:!0,onClick:h},y?r.createElement("span",null,E("resume")):r.createElement("span",null,E("pause"))))):r.createElement(i.Z,{variant:"danger"},E("supply-component-id"))};v.defaultProps={size:"small",variant:"success"},v.propTypes={size:l().oneOf(["small","sm","large","lg"]),variant:l().string},t.Z=v},418919:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(202784);function a(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}},839916:function(e,t,n){var r=n(669710);e.exports=r},669710:function(e,t,n){var r=n(571388),a=n(552770);e.exports=function(e){var t,n,l,o,i,s,u;if(!r(e))throw new TypeError("invalid argument. First argument must be a collection. Value: `"+e+"`.");for(t=0,n=[],o=[],l=e.length,s=0;s<l;s++)i=e[s],t+=1,-1===(u=a(n,i))?(n.push(i),o.push([i,1,0])):o[u][1]+=1;for(l=o.length,s=0;s<l;s++)o[s][2]=o[s][1]/t;return o}},658092:function(e,t,n){n.d(t,{Z:function(){return a}});var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(e,t){return r(e.querySelectorAll(t))}},172643:function(e,t,n){var r=n(807896),a=n(231461),l=n(658092),o=n(202784),i=n(418919),s=n(225879),u=n(62207),c=n(942932),f=n(395269),d=["as","onSelect","activeKey","role","onKeyDown"],v=function(){},m=o.forwardRef((function(e,t){var n,m,p=e.as,b=void 0===p?"ul":p,y=e.onSelect,Z=e.activeKey,E=e.role,w=e.onKeyDown,h=(0,a.Z)(e,d),C=(0,i.Z)(),g=(0,o.useRef)(!1),k=(0,o.useContext)(c.Z),x=(0,o.useContext)(f.Z);x&&(E=E||"tablist",Z=x.activeKey,n=x.getControlledId,m=x.getControllerId);var N=(0,o.useRef)(null),P=function(e){var t=N.current;if(!t)return null;var n=(0,l.Z)(t,"[data-rb-event-key]:not(.disabled)"),r=t.querySelector(".active");if(!r)return null;var a=n.indexOf(r);if(-1===a)return null;var o=a+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},S=function(e,t){null!=e&&(y&&y(e,t),k&&k(e,t))};(0,o.useEffect)((function(){if(N.current&&g.current){var e=N.current.querySelector("[data-rb-event-key].active");e&&e.focus()}g.current=!1}));var R=(0,s.Z)(t,N);return o.createElement(c.Z.Provider,{value:S},o.createElement(u.Z.Provider,{value:{role:E,activeKey:(0,c.h)(Z),getControlledId:n||v,getControllerId:m||v}},o.createElement(b,(0,r.Z)({},h,{onKeyDown:function(e){var t;switch(w&&w(e),e.key){case"ArrowLeft":case"ArrowUp":t=P(-1);break;case"ArrowRight":case"ArrowDown":t=P(1);break;default:return}t&&(e.preventDefault(),S(t.dataset.rbEventKey,e),g.current=!0,C())},ref:R,role:E}))))}));t.Z=m},492784:function(e,t,n){var r=n(807896),a=n(231461),l=n(72779),o=n.n(l),i=n(202784),s=n(806252),u=(n(645982),n(62207)),c=n(942932),f=["active","className","eventKey","onSelect","onClick","as"],d=i.forwardRef((function(e,t){var n=e.active,l=e.className,d=e.eventKey,v=e.onSelect,m=e.onClick,p=e.as,b=(0,a.Z)(e,f),y=(0,c.h)(d,b.href),Z=(0,i.useContext)(c.Z),E=(0,i.useContext)(u.Z),w=n;if(E){b.role||"tablist"!==E.role||(b.role="tab");var h=E.getControllerId(y),C=E.getControlledId(y);b["data-rb-event-key"]=y,b.id=h||b.id,b["aria-controls"]=C||b["aria-controls"],w=null==n&&null!=y?E.activeKey===y:n}"tab"===b.role&&(b.disabled&&(b.tabIndex=-1,b["aria-disabled"]=!0),b["aria-selected"]=w);var g=(0,s.Z)((function(e){m&&m(e),null!=y&&(v&&v(y,e),Z&&Z(y,e))}));return i.createElement(p,(0,r.Z)({},b,{ref:t,onClick:g,className:o()(l,w&&"active")}))}));d.defaultProps={disabled:!1},t.Z=d},770561:function(e,t,n){var r=n(807896),a=n(231461),l=n(72779),o=n.n(l),i=n(202784),s=n(429658),u=n(482695),c=["bsPrefix","variant","size","active","className","block","type","as"],f=i.forwardRef((function(e,t){var n=e.bsPrefix,l=e.variant,f=e.size,d=e.active,v=e.className,m=e.block,p=e.type,b=e.as,y=(0,a.Z)(e,c),Z=(0,s.vE)(n,"btn"),E=o()(v,Z,d&&"active",l&&Z+"-"+l,m&&Z+"-block",f&&Z+"-"+f);if(y.href)return i.createElement(u.Z,(0,r.Z)({},y,{as:b,ref:t,className:o()(E,y.disabled&&"disabled")}));t&&(y.ref=t),p?y.type=p:b||(y.type="button");var w=b||"button";return i.createElement(w,(0,r.Z)({},y,{className:E}))}));f.displayName="Button",f.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=f},471275:function(e,t,n){var r=n(807896),a=n(231461),l=n(72779),o=n.n(l),i=n(202784),s=n(429658),u=["bsPrefix","fluid","as","className"],c=i.forwardRef((function(e,t){var n=e.bsPrefix,l=e.fluid,c=e.as,f=void 0===c?"div":c,d=e.className,v=(0,a.Z)(e,u),m=(0,s.vE)(n,"container"),p="string"==typeof l?"-"+l:"-fluid";return i.createElement(f,(0,r.Z)({ref:t},v,{className:o()(d,l?""+m+p:m)}))}));c.displayName="Container",c.defaultProps={fluid:!1},t.Z=c},188304:function(e,t,n){var r=n(807896),a=n(231461),l=n(72779),o=n.n(l),i=n(202784),s=(n(645982),n(229277)),u=n(429658),c=n(172643),f=n(912860),d=["className","bsPrefix","variant","horizontal","as"],v={variant:void 0,horizontal:void 0},m=i.forwardRef((function(e,t){var n,l=(0,s.Ch)(e,{activeKey:"onSelect"}),f=l.className,v=l.bsPrefix,m=l.variant,p=l.horizontal,b=l.as,y=void 0===b?"div":b,Z=(0,a.Z)(l,d),E=(0,u.vE)(v,"list-group");return n=p?!0===p?"horizontal":"horizontal-"+p:null,i.createElement(c.Z,(0,r.Z)({ref:t},Z,{as:y,className:o()(f,E,m&&E+"-"+m,n&&E+"-"+n)}))}));m.defaultProps=v,m.displayName="ListGroup",m.Item=f.Z,t.Z=m},912860:function(e,t,n){var r=n(807896),a=n(231461),l=n(72779),o=n.n(l),i=n(202784),s=n(492784),u=n(429658),c=["bsPrefix","active","disabled","className","variant","action","as","onClick"],f={variant:void 0,active:!1,disabled:!1},d=i.forwardRef((function(e,t){var n=e.bsPrefix,l=e.active,f=e.disabled,d=e.className,v=e.variant,m=e.action,p=e.as,b=e.onClick,y=(0,a.Z)(e,c);n=(0,u.vE)(n,"list-group-item");var Z=(0,i.useCallback)((function(e){if(f)return e.preventDefault(),void e.stopPropagation();b&&b(e)}),[f,b]);return f&&void 0===y.tabIndex&&(y.tabIndex=-1,y["aria-disabled"]=!0),i.createElement(s.Z,(0,r.Z)({ref:t},y,{as:p||(m?y.href?"a":"button":"div"),onClick:Z,className:o()(d,n,l&&"active",f&&"disabled",v&&n+"-"+v,m&&n+"-action")}))}));d.defaultProps=f,d.displayName="ListGroupItem",t.Z=d},62207:function(e,t,n){var r=n(202784).createContext(null);r.displayName="NavContext",t.Z=r},458264:function(e,t,n){var r=n(807896),a=n(231461),l=n(72779),o=n.n(l),i=n(202784),s=n(429658),u=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],f=i.forwardRef((function(e,t){var n=e.bsPrefix,l=e.className,f=e.noGutters,d=e.as,v=void 0===d?"div":d,m=(0,a.Z)(e,u),p=(0,s.vE)(n,"row"),b=p+"-cols",y=[];return c.forEach((function(e){var t,n=m[e];delete m[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"==typeof n?n.cols:n)&&y.push(""+b+r+"-"+t)})),i.createElement(v,(0,r.Z)({ref:t},m,{className:o().apply(void 0,[l,p,f&&"no-gutters"].concat(y))}))}));f.displayName="Row",f.defaultProps={noGutters:!1},t.Z=f},942932:function(e,t,n){n.d(t,{h:function(){return a}});var r=n(202784).createContext(null),a=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};t.Z=r},395269:function(e,t,n){var r=n(202784).createContext(null);t.Z=r}}]);