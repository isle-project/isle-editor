"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8922],{110043:function(e,n,t){t.r(n);var r=t(867855),a=t(202784),o=t(213980),l=t.n(o),i=t(376699),c=t(993524),d=t(834863),u=t.n(d),s=t(409961),p=t.n(s),m=t(6064),g=t(891027),f=t(103824),b=t(267682),y=t(597909),v=t(615558),h=Object.defineProperty,w=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,E=function(e,n,t){return n in e?h(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t};function T(e){var n,t=e.id,r=e.meta,a=e.plot;return r?(r=u()(r,(function(e,n){return p()(n)})),n='<img src="'+a+'" style="display: block; margin: 0 auto;" data-plot-id="'+t+'" data-plot-meta="'+(r=c.ZP.dump(r))+'"></img>'):n='<img src="'+a+'" alt="R Plot" style="display: block; margin: 0 auto;" />',n}var Z=function(e){var n=e,t=n.code,o=n.className,l=n.draggable,c=n.id,d=n.libraries,u=n.prependCode,s=n.fileType,p=n.meta,v=n.onDone,h=function(e,n){var t={};for(var a in e)C.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&w)for(var o,l=(0,r.Z)(w(e));!(o=l()).done;)a=o.value,n.indexOf(a)<0&&O.call(e,a)&&(t[a]=e[a]);return t}(n,["code","className","draggable","id","libraries","prependCode","fileType","meta","onDone"]),Z=(0,i.$)("r").t,j=(0,a.useState)(!1),k=j[0],N=j[1],P=(0,a.useState)({img:null,body:null}),x=P[0],D=P[1],S=(0,a.useContext)(b.Z);(0,a.useEffect)((function(){N(!0);var e=(0,m.Z)(d,u,S)+t;S.getRPlot(e,s,(function(e,n,t){e?v(e):(D({img:n,body:t}),N(!1),v(null,n,t))}))}),[t,s,d,u,S,v]);var R=null;return l&&(R=a.createElement("button",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(e){var n=T({id:c,meta:p,plot:x.body});e.dataTransfer.setData("text/html",n)},onClick:function(){var e=T({id:c,meta:p,plot:x.body});(0,y.Z)(e)}},Z("drag-plot"))),a.createElement("div",{className:"rplot "+o,style:{minHeight:128,cursor:"pointer"}},a.createElement(g.Z,{running:k,width:256,height:128}),k?a.createElement("span",null):a.createElement(a.Fragment,null,R,a.createElement(f.Z,function(e,n){for(var t in n||(n={}))C.call(n,t)&&E(e,t,n[t]);if(w)for(var a,o=(0,r.Z)(w(n));!(a=o()).done;)t=a.value,O.call(n,t)&&E(e,t,n[t]);return e}({src:x.img,body:x.body,title:Z("r-plot")},h))))};Z.propTypes={code:l().string,width:l().oneOfType([l().number,l().string]),height:l().oneOfType([l().number,l().string]),draggable:l().bool,fileType:l().string,libraries:l().array,prependCode:l().oneOfType([l().string,l().array]),meta:l().object,className:l().string,onDone:l().func},Z.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},n.default=(0,v.W)(Z)},6064:function(e,n,t){var r=t(588703),a=t.n(r);n.Z=function(e,n,t){var r=t.config.rshell;r&&r.libraries&&(e=e.concat(r.libraries));var o=function(e){return e.map((function(e){return"library("+e+");"})).join(" ")}(e);return r&&r.global&&(o+=r.global+"\n"),n=a()(n)?n.join("\n"):n,o+=n+="\n"}},597909:function(e,n){n.Z=function(e){var n=document.createElement("div");n.innerHTML=e,n.style.position="fixed",n.style.opacity=0,n.style.pointerEvents="none",document.body.appendChild(n),window.getSelection().removeAllRanges();var t=document.createRange();t.selectNode(n),window.getSelection().addRange(t),document.execCommand("copy"),document.body.removeChild(n)}}}]);