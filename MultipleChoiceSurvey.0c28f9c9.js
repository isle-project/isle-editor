/*! For license information please see MultipleChoiceSurvey.0c28f9c9.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[210],{2504:function(t,e,n){"use strict";var s=n(2505);t.exports=s},2505:function(t,e,n){"use strict";var s=n(619),a=n(718);t.exports=function(t){var e,n,i,r,o,u,c;if(!s(t))throw new TypeError("invalid argument. First argument must be a collection. Value: `"+t+"`.");for(e=0,n=[],r=[],i=t.length,u=0;u<i;u++)o=t[u],e+=1,-1===(c=a(n,o))?(n.push(o),r.push([o,1,0])):r[c][1]+=1;for(i=r.length,u=0;u<i;u++)r[u][2]=r[u][1]/e;return r}},413:function(t,e,n){"use strict";var s=n(344),a=n(345),i=n(348),r=n.n(i),o=n(0),u=n.n(o),c=n(359),l=["xl","lg","md","sm","xs"],d=u.a.forwardRef((function(t,e){var n=t.bsPrefix,i=t.className,o=t.noGutters,d=t.as,f=void 0===d?"div":d,v=Object(a.a)(t,["bsPrefix","className","noGutters","as"]),p=Object(c.a)(n,"row"),m=p+"-cols",b=[];return l.forEach((function(t){var e,n=v[t];delete v[t];var s="xs"!==t?"-"+t:"";null!=(e=null!=n&&"object"==typeof n?n.cols:n)&&b.push(""+m+s+"-"+e)})),u.a.createElement(f,Object(s.a)({ref:e},v,{className:r.a.apply(void 0,[i,p,o&&"no-gutters"].concat(b))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},e.a=d},432:function(t,e,n){"use strict";var s=n(344),a=n(345),i=n(348),r=n.n(i),o=n(0),u=n.n(o),c=n(359),l=u.a.forwardRef((function(t,e){var n=t.bsPrefix,i=t.fluid,o=t.as,l=void 0===o?"div":o,d=t.className,f=Object(a.a)(t,["bsPrefix","fluid","as","className"]),v=Object(c.a)(n,"container"),p="string"==typeof i?"-"+i:"-fluid";return u.a.createElement(l,Object(s.a)({ref:e},f,{className:r()(d,i?""+v+p:v)}))}));l.displayName="Container",l.defaultProps={fluid:!1},e.a=l},4332:function(t,e,n){"use strict";n.r(e);n(358),n(351),n(360);var s=n(354),a=n.n(s),i=n(352),r=n.n(i),o=n(353),u=n.n(o),c=n(364),l=n.n(c),d=n(356),f=n.n(d),v=n(357),p=n.n(v),m=n(355),b=n.n(m),h=n(350),w=n.n(h),y=n(0),S=(n(342),n(384)),g=n(458),x=n(413),A=n(432),C=n(1356),N=n(427),O=n(398),R=n.n(O),j=n(1410),P=n.n(j),k=n(2504),M=n.n(k),q=n(608),D=n(647),G=n(720),E=n(895),T=n(1221),F=n(415),J=n(419),Y=n(1022),B=function(t){return t.disabled?a()(Y.a,{},void 0,t.answerContent):a()(Y.a,{onClick:t.onAnswerSelected,active:t.active},void 0,t.answerContent)};n(278);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,s=b()(t);if(e){var a=b()(this).constructor;n=Reflect.construct(s,arguments,a)}else n=s.apply(this,arguments);return p()(this,n)}}var z=R()("isle:multiple-choice-survey"),L=Object(q.a)("multiple-choice-survey"),V=a()("tr",{},void 0,a()("th",{},void 0,"Category"),a()("th",{},void 0,"Count"),a()("th",{},void 0,"Relative Frequency")),H=a()("h3",{},void 0,"No responses yet"),I=a()("h2",{},void 0,"Please sign in..."),K=a()("span",{},void 0,"You may select multiple answers"),U=function(t){f()(n,t);var e=Q(n);function n(t){var s;r()(this,n),s=e.call(this,t),w()(l()(s),"submitQuestion",(function(){var t=s.context;t.log({id:s.id,type:J.Gb,value:s.state.active,anonymous:s.props.anonymous},"members"),s.props.allowMultipleAnswers||s.setState({submitted:!0}),t.addNotification({title:"Submitted",message:"Your answer has been submitted.",level:"success"}),s.props.onSubmit(s.state.active)})),w()(l()(s),"onData",(function(t){z("MultipleChoiceSurvey is receiving data: "+JSON.stringify(t));var e,n=M()(t),i=n.map((function(t){return{x:s.props.answers[t[0]],y:t[1]}}));e=a()("table",{className:"table table-bordered"},void 0,V,n.map((function(t,e){return a()("tr",{},e,t.map((function(t,n){return 0===n?t=s.props.answers[t]:2===n&&(t=t.toFixed(3)),a()("td",{},"".concat(e,":").concat(n),t)})))}))),s.setState({data:i,freqTable:e})})),w()(l()(s),"renderAnswerOptionsSingle",(function(t,e){return a()(B,{no:e,answerContent:t,active:s.state.active===e,submitted:s.state.submitted,onAnswerSelected:function(){s.state.submitted||s.setState({active:e,answerSelected:!0})}},e)})),w()(l()(s),"renderAnswerOptionsMultiple",(function(t,e){return a()(B,{no:e,answerContent:t,active:s.state.active[e],submitted:s.state.submitted,onAnswerSelected:function(){if(!s.state.submitted){var t=s.state.active.slice();t[e]=!t[e],s.setState({active:t})}}},t)}));var i=t.multipleAnswers?new Array(t.answers.length):null;return s.id=t.id||L(t),s.state={data:[],submitted:!1,active:i,answerSelected:!1},s}return u()(n,[{key:"renderChart",value:function(){return P()(this.state.data)?H:a()(D.a,{data:[{x:this.state.data.map((function(t){return t.x})),y:this.state.data.map((function(t){return t.y})),type:"bar"}],layout:{width:400,height:300},removeButtons:!0})}},{key:"render",value:function(){var t,e=this.props,n=e.answers,s=e.id,i=e.multipleAnswers,r=e.question;return t=i?this.state.submitted:this.state.submitted||!this.state.answerSelected,a()(G.a,{user:!0,banner:I},void 0,a()(N.a,{id:this.id,style:this.props.style},void 0,a()(N.a.Body,{style:{overflowY:"auto"}},void 0,a()(A.a,{},void 0,a()(x.a,{},void 0,a()(g.a,{md:6},void 0,a()(N.a,{body:!0,className:"multiple-choice-survey"},void 0,a()("p",{},void 0,a()("label",{},void 0,r)),i?K:null,a()(C.a,{fill:!0},void 0,i?n.map(this.renderAnswerOptionsMultiple):n.map(this.renderAnswerOptionsSingle)),a()(S.a,{size:"small",variant:"success",block:!0,fill:!0,onClick:this.submitQuestion,disabled:t},void 0,this.state.submitted?"Submitted":"Submit"))),a()(g.a,{md:6},void 0,a()(T.a,{for:[s],onData:this.onData}),this.renderChart(),a()("p",{},void 0,this.state.freqTable)))),a()(E.a,{buttonLabel:"Responses",id:s,data:{type:"factor",levels:this.props.answers},info:J.Gb}))))}}]),n}(y.Component);U.defaultProps={question:"",allowMultipleAnswers:!1,anonymous:!1,answers:[],multipleAnswers:!1,style:{},onSubmit:function(){}},U.contextType=F.a;e.default=U},475:function(t,e,n){"use strict";var s=n(0),a=function(t){return t&&"function"!=typeof t?function(e){t.current=e}:t};e.a=function(t,e){return Object(s.useMemo)((function(){return function(t,e){var n=a(t),s=a(e);return function(t){n&&n(t),s&&s(t)}}(t,e)}),[t,e])}}}]);