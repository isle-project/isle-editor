"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6131],{102149:function(t,e,s){s.r(e);var n=s(497326),o=s(894578),i=s(202784),a=s(213980),r=s.n(a),p=s(690299),l=s.n(p),c=s(198),u=s(223444),h=s(770561),m=s(708579),f=s(476709),b=s(267682),d=s(10206),v=Object.defineProperty,y=function(t,e,s){return function(t,e,s){e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s}(t,"symbol"!=typeof e?e+"":e,s),s},g=l()("isle:chat-button"),k=function(t){function e(e){var s;return s=t.call(this,e)||this,y((0,n.Z)(s),"hideAnimation",(function(){s.setState({showAnimation:!1})})),y((0,n.Z)(s),"handleClick",(function(t){g("Handle click to join chat...");var e=!s.state.opened;s.props.onClick(t,e),s.setState({opened:e},(function(){var t=s.context;e?(g("Should join chat for component with id '"+s.props.for+"'..."),t.joinChat({name:s.props.for,anonymousSubmissions:s.props.anonymousSubmissions})):(g("Should leave chat for component with id '"+s.props.for+"'..."),t.leaveChat(s.props.for))}))})),s.state={opened:!1,nMessages:0,nMembers:0},s}(0,o.Z)(e,t);var s=e.prototype;return s.componentDidMount=function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(s,n){if(s!==d.JV&&s!==d.PY||!n||n.name!==t.props.for){if(s===d.em&&n.name===t.props.for){var o={nMessages:n.nMessages,nMembers:n.nMembers};n.nMessages>t.state.nMessages&&(o.showAnimation=!0),t.setState(o),setTimeout(t.hideAnimation,4e3)}else if(n===t.props.for){e.getChat(t.props.for)&&s!==d.TY?s===d._Z&&t.setState({opened:!1}):t.setState({opened:!1}),t.forceUpdate()}}else t.setState({opened:!0})}))},s.componentWillUnmount=function(){this.unsubscribe()},s.render=function(){var t,e,s=this.state.nMessages;t=this.props.buttonLabel?this.props.buttonLabel:this.state.opened?this.props.t("leave-chat"):this.props.t("join-chat"),e=this.props.buttonVariant?this.props.buttonVariant:this.state.nMembers>0?"success":"secondary";var n,o=i.createElement(h.Z,{className:this.props.className,variant:e,size:this.props.size,onClick:this.handleClick,style:this.props.style,"aria-label":this.props.t("toggle-chat")},i.createElement("span",{style:{pointerEvents:"none"}},t),s?i.createElement(u.Z,{variant:"dark",style:{marginLeft:"5px",fontSize:"10px",pointerEvents:"none",animation:this.state.showAnimation?"ping 0.7s 3":"none"}},s):null);return n=this.props.tooltip?this.props.tooltip:this.state.opened?this.props.t("leave-chat-id",{id:this.props.for}):this.props.t("join-chat-id",{id:this.props.for}),this.props.showTooltip&&(o=i.createElement(m.Z,{tooltip:n,placement:this.props.tooltipPlacement},o)),i.createElement(f.Z,{user:!0},o)},e}(i.Component);k.propTypes={for:r().string.isRequired,anonymousSubmissions:r().bool,buttonLabel:r().node,showTooltip:r().bool,tooltip:r().string,size:r().string,buttonVariant:r().string,tooltipPlacement:r().oneOf(["left","top","right","bottom"]),onClick:r().func,className:r().string,style:r().object},k.defaultProps={anonymousSubmissions:!1,buttonLabel:null,showTooltip:!0,tooltip:null,size:"sm",buttonVariant:null,tooltipPlacement:"top",onClick:function(){},className:"",style:{}},k.contextType=b.Z,e.default=(0,c.Z)("internal/chat-button")(k)},770561:function(t,e,s){var n=s(807896),o=s(231461),i=s(72779),a=s.n(i),r=s(202784),p=s(429658),l=s(482695),c=["bsPrefix","variant","size","active","className","block","type","as"],u=r.forwardRef((function(t,e){var s=t.bsPrefix,i=t.variant,u=t.size,h=t.active,m=t.className,f=t.block,b=t.type,d=t.as,v=(0,o.Z)(t,c),y=(0,p.vE)(s,"btn"),g=a()(m,y,h&&"active",i&&y+"-"+i,f&&y+"-block",u&&y+"-"+u);if(v.href)return r.createElement(l.Z,(0,n.Z)({},v,{as:d,ref:e,className:a()(g,v.disabled&&"disabled")}));e&&(v.ref=e),b?v.type=b:d||(v.type="button");var k=d||"button";return r.createElement(k,(0,n.Z)({},v,{className:g}))}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},e.Z=u}}]);