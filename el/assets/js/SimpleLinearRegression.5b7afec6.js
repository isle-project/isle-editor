/*! For license information please see SimpleLinearRegression.5b7afec6.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4651],{573116:function(e,t,r){r.r(t);var l=r(894578),n=r(867855),a=r(202784),i=r(213980),o=r.n(i),s=r(198),u=r(822736),c=r(770561),d=r(43649),m=r(708579),p=r(524785),g=r.n(p),f=r(563402),y=r.n(f),E=r(784373),h=r.n(E),v=r(254988),x=r.n(v),b=r(32593),Z=r.n(b),F=r(695688),w=r.n(F),P=r(519907),k=r(584443),O=r(590848),R=r(7962),M=r(133757),j=r(683015),A=r(615558),D=r(412042),q=r(479724),z=r(641728),C=Object.defineProperty,N=Object.defineProperties,$=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,X=function(e,t,r){return t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},_=function(e,t){for(var r in t||(t={}))L.call(t,r)&&X(e,r,t[r]);if(T)for(var l,a=(0,n.Z)(T(t));!(l=a()).done;){r=l.value;S.call(t,r)&&X(e,r,t[r])}return e},B=function(e,t){return N(e,$(t))},I=0;function W(e,t){for(var r=(0,P.Z)(e),l=(0,P.Z)(t),n=0,a=0,i=e.length,o=0;o<i;o++){var s=e[o]-r;n+=s*s,a+=s*(t[o]-l)}var u=a/n;return{yint:l-u*r,slope:u,xg:e,yg:t}}function G(e){var t=e.x,r=e.y,l=e.data,n=e.group,a=e.omitMissing,i=l[t],o=l[r],s=l[n];if(a){var u=[],c=[],d=[];if(s)for(var m=0;m<i.length;m++)!(0,z.Z)(s[m])&&(0,q.Z)(i[m])&&(0,q.Z)(o[m])&&(u.push(i[m]),c.push(o[m]),d.push(s[m]));else for(var p=0;p<i.length;p++)(0,q.Z)(i[p])&&(0,q.Z)(o[p])&&(u.push(i[p]),c.push(o[p]));return{xd:u,yd:c,groups:d}}return{xd:i,yd:o,groups:s}}var H=function(e){function t(t){var r;r=e.call(this,t)||this,I+=1;var l=t.x,n=t.y,a=t.data,i=t.group,o=t.omitMissing;return r.state=G({x:l,y:n,data:a,group:i,omitMissing:o}),r}return(0,l.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.data!==t.data||e.x!==t.x||e.y!==t.y||e.group!==t.group||e.omitMissing!==t.omitMissing?G({x:e.x,y:e.y,intercept:e.intercept,omitMissing:e.omitMissing,data:e.data,group:e.group}):null},t.prototype.render=function(){var e,t=this,r=this.state,l=r.xd,n=r.yd,i=r.groups,o=this.props,s=o.x,p=o.y,f=o.group,E=o.data,v=o.t;try{if(f){var b=(0,j.Z)(l,i,P.Z),F=(0,M.Z)(l,n,i,W);e=a.createElement("div",{style:{overflowX:"auto",width:"100%"}},a.createElement("label",null,v("regression-y-on-x",{x:s,y:p})),a.createElement("p",null,a.createElement("i",null,v("grouped-by")," ",f,":")),g()(y()(F,(function(e,t){for(var r=e.yint,l=e.slope,n=e.xg,i=e.yg,o=h()(),u=h()(),c=h()(),m=x().factory(i.length-2),p=0;p<i.length;p++){o(r+l*n[p]-i[p]),u(n[p]),c(n[p]-b[t])}var g=o()/(i.length-2),f=g/c(),y=w()(f),E=1/i.length*g*u()/c(),F=w()(E),P=l/y,k=r/F;return a.createElement("div",{key:"group-"+t},a.createElement("label",null,t,":"),a.createElement(d.Z,{bordered:!0,size:"sm"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,v("variable")),a.createElement("th",null,v("coefficient")),a.createElement("th",null,v("std-error")),a.createElement("th",null,"t"),a.createElement("th",null,v("p-value")))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,v("intercept")),a.createElement("td",null,r.toFixed(4)),a.createElement("td",null,F.toFixed(4)),a.createElement("td",null,k.toFixed(4)),a.createElement("td",null,2*(1-m(Z()(k))).toFixed(4))),a.createElement("tr",null,a.createElement("td",null,s),a.createElement("td",null,l.toFixed(4)),a.createElement("td",null,y.toFixed(4)),a.createElement("td",null,P.toFixed(4)),a.createElement("td",null,2*(1-m(Z()(P))).toFixed(4))))))}))),this.props.onPredict?a.createElement(m.Z,{tooltip:v("use-model-to-predict-tooltip")},a.createElement(c.Z,{variant:"secondary",size:"sm",onClick:function(){t.props.onPredict((function(e){for(var t=e[s],r=e[p],l=new Float64Array(r.length),n=new Float64Array(r.length),a=e[f],i=0;i<l.length;i++){var o=F[a[i]],u=o.yint,c=o.slope;l[i]=u+c*t[i],n[i]=r[i]-l[i]}return{fitted:l,residuals:n}}),I)}},this.props.t("use-model-to-predict"))):null,this.props.onDiagnostics?a.createElement(c.Z,{variant:"secondary",size:"sm",style:{marginLeft:6},onClick:function(){for(var e=E[s],r=E[p],l=new Float64Array(r.length),n=new Float64Array(r.length),i=E[f],o=0;o<l.length;o++){var u=F[i[o]],c=u.yint,d=u.slope;l[o]=c+d*e[o],n[o]=r[o]-l[o]}var m=a.createElement(k.Z,B(_({draggable:!0,editable:!0,fit:!0},(0,R._)(n,"residuals")),{meta:{type:"qqplot of regression residuals",x:e,y:r}})),g=a.createElement(k.Z,{draggable:!0,editable:!0,fit:!0,data:[{x:l,y:n,mode:"markers"}],layout:{xaxis:{title:v("fitted-values")},yaxis:{title:v("residuals")},title:v("residuals-vs-fitted")},meta:{type:"regression residuals vs. fitted",x:e,y:r}}),y=a.createElement(O.Z,{data:{Residuals:n},variable:"Residuals",title:v("plotly:histogram-title",{x:"Residuals"})});t.props.onDiagnostics([m,y,g])}},v("model-diagnostics")):null)}else{for(var A=W(l,n),D=A.yint,q=A.slope,z=h()(),C=h()(),N=h()(),$=(0,P.Z)(l),T=x().factory(n.length-2),L=0;L<n.length;L++){z(D+q*l[L]-n[L]),C(l[L]),N(l[L]-$)}var S=z()/(n.length-2),X=S/N(),G=w()(X),H=1/n.length*S*C()/N(),J=w()(H),K=q/G,Q=D/J;e=a.createElement("div",{style:{overflowX:"auto",width:"100%"}},a.createElement("label",null,v("simple-regression-title",{x:s,y:p,counter:I})),a.createElement(d.Z,{bordered:!0,size:"sm"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,v("variable")),a.createElement("th",null,v("coefficient")),a.createElement("th",null,v("std-error")),a.createElement("th",null,"t"),a.createElement("th",null,v("p-value")))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,v("intercept")),a.createElement("td",null,D.toFixed(4)),a.createElement("td",null,J.toFixed(4)),a.createElement("td",null,Q.toFixed(4)),a.createElement("td",null,2*(1-T(Z()(Q))).toFixed(4))),a.createElement("tr",null,a.createElement("td",null,s),a.createElement("td",null,q.toFixed(4)),a.createElement("td",null,G.toFixed(4)),a.createElement("td",null,K.toFixed(4)),a.createElement("td",null,2*(1-T(Z()(K))).toFixed(4))))),this.props.onPredict?a.createElement(m.Z,{tooltip:v("use-model-to-predict-tooltip")},a.createElement(c.Z,{variant:"secondary",size:"sm",onClick:function(){t.props.onPredict((function(e){for(var t=e[s],r=e[p],l=new Array(r.length),n=new Array(r.length),a=0;a<l.length;a++)l[a]=D+q*t[a],n[a]=r[a]-l[a];return{fitted:l,residuals:n}}),I)}},this.props.t("use-model-to-predict"))):null,this.props.onDiagnostics?a.createElement(c.Z,{variant:"secondary",size:"sm",style:{marginLeft:6},onClick:function(){for(var e=E[s],r=E[p],l=new Array(r.length),n=new Array(r.length),i=0;i<l.length;i++)l[i]=D+q*e[i],n[i]=r[i]-l[i];var o=a.createElement(k.Z,B(_({draggable:!0,editable:!0,fit:!0},(0,R._)(n,"residuals")),{meta:{type:"qqplot of regression residuals",x:e,y:r}})),u=a.createElement(O.Z,{data:{Residuals:n},variable:"Residuals",title:v("plotly:histogram-title",{x:"Residuals"})}),c=a.createElement(k.Z,{draggable:!0,editable:!0,fit:!0,data:[{x:l,y:n,mode:"markers",type:l.length>2e3?"scattergl":"scatter"}],layout:{xaxis:{title:v("fitted-values")},yaxis:{title:v("residuals")},title:v("residuals-vs-fitted")},meta:{type:"regression residuals vs. fitted",x:e,y:r}});t.props.onDiagnostics([o,u,c])}},v("model-diagnostics")):null)}return e}catch(U){return a.createElement(u.Z,{variant:"danger"},v("missing-attributes"))}},t}(a.Component);H.defaultProps={group:null,omitMissing:!1,onDiagnostics:null,onPredict:null},H.propTypes={data:o().object.isRequired,x:o().string.isRequired,y:o().string.isRequired,group:o().oneOfType([o().string,o().instanceOf(D.E)]),omitMissing:o().bool,onDiagnostics:o().func,onPredict:o().func},t.default=(0,s.Z)(["models","plotly"])((0,A.W)(H))},784373:function(e,t,r){var l=r(863653);e.exports=l},863653:function(e){e.exports=function(){var e,t=0;return function(r){if(0===arguments.length)return e?t:null;return e=!0,t+=r*r}}},770561:function(e,t,r){var l=r(72779),n=r.n(l),a=r(202784),i=r(247830),o=r(429658),s=r(552322);const u=a.forwardRef((({as:e,bsPrefix:t,variant:r,size:l,active:a,className:u,...c},d)=>{const m=(0,o.vE)(t,"btn"),[p,{tagName:g}]=(0,i.FT)({tagName:e,...c}),f=g;return(0,s.jsx)(f,{...c,...p,ref:d,className:n()(u,m,a&&"active",r&&`${m}-${r}`,l&&`${m}-${l}`,c.href&&c.disabled&&"disabled")})}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=u}}]);