"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1637],{667045:function(t,e,s){const i=(0,s(217431).Z)((()=>s.e(112).then(s.bind(s,497925))));e.Z=i},956260:function(t,e,s){var i=s(202784),n=s(213980),o=s.n(n),r=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(t,e,s)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;const m=t=>{const e=t,{children:s}=e,n=((t,e)=>{var s={};for(var i in t)a.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(null!=t&&l)for(var i of l(t))e.indexOf(i)<0&&u.call(t,i)&&(s[i]=t[i]);return s})(e,["children"]);return i.createElement("div",((t,e)=>{for(var s in e||(e={}))a.call(e,s)&&c(t,s,e[s]);if(l)for(var s of l(e))u.call(e,s)&&c(t,s,e[s]);return t})({},n),s)};m.defaultProps={className:"",style:{}},m.propTypes={className:o().string,style:o().object},e.Z=m},370420:function(t,e,s){const i=(0,s(217431).Z)((()=>s.e(6131).then(s.bind(s,66720))));e.Z=i},800712:function(t,e,s){const i=(0,s(217431).Z)((()=>Promise.all([s.e(3312),s.e(4507)]).then(s.bind(s,307125))));e.Z=i},24234:function(t,e,s){s.r(e);var i=s(202784),n=s(213980),o=s.n(n),r=s(198),l=s(482228),a=s(223444),u=s(690299),c=s.n(u),m=s(109918),b=s.n(m),p=s(395465),h=s.n(p),d=s(74039),f=s.n(d),g=s(871199),y=s.n(g),v=s(309765),S=s.n(v),E=s(588703),N=s.n(E),O=s(417332),Z=s(426214),k=s(514921),w=s(370420),P=s(956260),T=s(506078),x=s(667045),q=s(172888),C=s(800712),j=s(123103),F=s(879052),A=s(302108),L=s(691334),B=s(741082),H=Object.defineProperty,I=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,V=(t,e,s)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,D=(t,e,s)=>(V(t,"symbol"!=typeof e?e+"":e,s),s);const K=(0,O.Z)("number-question"),M=c()("isle:number-question");function _(t,e){if(N()(e)){for(let s=0;s<e.length;s++)if(t===e[s])return!0;return!1}return t===e}function z(t,e,s){if(t=f()(t,-s),N()(e)){for(let i=0;i<e.length;i++)if(t===f()(e[i],-s))return!0;return!1}return t===f()(e,-s)}class Q extends i.Component{constructor(t,e){super(t),D(this,"handleChange",(t=>{M("Handle change of input field..."),this.setState({value:t}),this.props.onChange(t)})),D(this,"handleKeyPress",(t=>{13===t.charCode&&(document&&document.activeElement&&(M("Trigger blur event..."),document.activeElement.blur()),setTimeout(this.submitHandler,50))})),D(this,"sendSubmitNotification",(t=>{const e=this.context;if(y()(this.props.solution))e.addNotification({title:this.state.submitted?"Answer re-submitted.":"Answer submitted.",message:this.state.submitted?this.props.t("resubmission-message"):this.props.t("submission-message"),level:"info"});else if(this.props.provideFeedback){let s,i;if(t)s=this.props.t("submission-correct"),i="success";else{const t=this.state.numSubmissions+1;s=t<this.props.nTries?this.props.t("submission-try-again")+" ("+this.props.t("tries",{count:this.props.nTries-t})+").":this.props.t("submission-incorrect"),i="error"}e.addNotification({title:this.props.t("answer-submitted"),message:s,level:i})}else e.addNotification({title:this.state.submitted?this.props.t("answer-resubmitted"):this.props.t("answer-submitted"),message:this.state.submitted?this.props.t("resubmission-message"):this.props.t("submission-message"),level:"info"})})),D(this,"submitHandler",(()=>{const t=this.context,e=parseFloat(this.state.value);if(e<this.props.min||e>this.props.max)return t.addNotification({title:this.props.t("invalid-answer"),message:this.props.t("invalid-range",{min:this.props.min,max:this.props.max}),level:"error"});const{digits:s,solution:i}=this.props;let n;if(!y()(i)){const t=parseFloat(this.state.value);n=null===s?_(t,i):z(t,i,s)}this.props.onSubmit(e,n),this.props.disableSubmitNotification||this.sendSubmitNotification(n),this.setState({submitted:!0,correct:n,numSubmissions:this.state.numSubmissions+1}),t.log({id:this.id,type:L.Sl,value:this.state.value})})),D(this,"logHint",(t=>{M("Logging hint...");this.context.log({id:this.id,type:L.Q7,value:t})})),this.id=t.id||K(t);const s=e.currentUserActions,i=(0,F.Z)(s,this.id,L.Sl);this.state=((t,e)=>{for(var s in e||(e={}))U.call(e,s)&&V(t,s,e[s]);if(I)for(var s of I(e))R.call(e,s)&&V(t,s,e[s]);return t})({value:S()(i)?i:t.defaultValue,submitted:i&&y()(t.solution),numSubmissions:0,correct:t.digits?z(i,t.solution,t.digits):_(i,t.solution)},t)}static getDerivedStateFromProps(t,e){return t.question!==e.question||t.solution!==e.solution?{value:void 0,submitted:!1,question:t.question,solution:t.solution}:null}componentDidMount(){const t=this.context;t&&(this.unsubscribe=t.subscribe(((t,e)=>{if(t===A.u){let t=e[this.id];if(N()(t)&&(t=t.filter((t=>t.type===L.Sl)),t.length>0)){const e=t[0].value;this.setState({value:e,submitted:y()(this.props.solution)})}}})))}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}renderSubmitButton(){const t=this.context,{until:e,nTries:s,solution:n,submitAfterFeedback:o,t:r}=this.props;if(e&&t.startTime>e)return i.createElement("span",{className:"title",style:{marginLeft:4}},r("question-closed"));const l=null!==n,a=!S()(this.state.value)||this.state.submitted&&l&&(this.state.numSubmissions>=s&&!o||this.state.correct);return i.createElement(k.Z,{className:"submit-button",variant:"primary",size:"sm",disabled:a,onClick:this.submitHandler,style:{marginLeft:3}},this.state.submitted&&!n?r("resubmit"):r("submit"))}render(){const{chat:t,feedback:e,hints:s,hintPlacement:n,question:o,points:r,provideFeedback:u,nTries:c,solution:m,submitAfterFeedback:b,style:p,t:h}=this.props,d=s.length,f=null!==m,g=this.state.submitted&&f&&(this.state.numSubmissions>=c&&!b||this.state.correct);return i.createElement(Z.Z,{id:this.id,className:"number-question",style:p,fullscreen:!0,bodyStyle:{display:"inline-block",marginBottom:6}},o?i.createElement("p",null,i.createElement("label",null,o)):null,i.createElement("div",{className:"number-question-input-wrapper"},i.createElement(T.Z,{step:"any",legend:h("your-answer"),onChange:this.handleChange,defaultValue:this.state.value,disabled:g,inline:!0,width:90,numbersOnly:!1,onKeyPress:this.handleKeyPress,tooltip:(0,T.N)(this.props)}),this.state.submitted&&f&&u&&(this.state.correct||this.state.numSubmissions>=c)?i.createElement(a.Z,{bg:this.state.correct?"success":"danger",style:{fontSize:18}},`${h("solution")}:   `,N()(m)?function(t,e){let s=e("one-of");s+=t[0];for(let i=1;i<t.length-1;i++)s+=", ",s+=t[i];return s+=" "+e("or")+" ",s+=t[t.length-1],s}(m,h):String(m)):null),i.createElement(l.Z,{className:"number-question-toolbar"},i.createElement(P.Z,{buttonLabel:h("answers"),id:this.id,data:{type:"number",question:o,solution:m},info:"NUMBER_QUESTION_SUBMISSION",style:{marginLeft:3,marginRight:3},points:r}),d>0?i.createElement(x.Z,{onClick:this.logHint,hints:s,placement:n,style:{marginLeft:3}}):null,t?i.createElement("div",{style:{display:"inline-block",marginLeft:3}},i.createElement(w.Z,{for:this.id})):null,this.renderSubmitButton()),e?i.createElement(q.Z,{id:this.id+"_feedback",style:{marginRight:5,marginTop:-5}}):null,i.createElement(C.Z,{for:this.id,points:r}))}}Q.defaultProps={question:"",hints:[],hintPlacement:"top",feedback:!0,solution:null,digits:3,max:b(),min:h(),defaultValue:null,provideFeedback:!0,submitAfterFeedback:!1,nTries:1,disableSubmitNotification:!1,chat:!1,until:null,points:10,style:{},onChange(){},onSubmit(){}},Q.propTypes={question:o().oneOfType([o().string,o().node]),hintPlacement:o().string,hints:o().arrayOf(o().oneOfType([o().string,o().node])),feedback:o().bool,solution:o().oneOfType([o().number,o().arrayOf(o().number)]),digits:o().number,max:o().number,min:o().number,defaultValue:o().number,provideFeedback:o().bool,submitAfterFeedback:o().bool,nTries:o().number,disableSubmitNotification:o().bool,chat:o().bool,until:o().instanceOf(Date),points:o().number,style:o().object,onChange:o().func,onSubmit:o().func},Q.contextType=j.Z,e.default=(0,r.Z)("questions/number")((0,B.W)(Q))},879052:function(t,e,s){var i=s(588703),n=s.n(i),o=s(830324),r=s.n(o);e.Z=(t,e,s)=>{if(r()(t)){let i=t[e];if(n()(i)&&(i=i.filter((t=>t.type===s)),i.length>0))return i[0].value}return null}},482228:function(t,e,s){var i=s(72779),n=s.n(i),o=s(202784),r=s(429658),l=s(552322);const a=o.forwardRef((({bsPrefix:t,className:e,...s},i)=>{const o=(0,r.vE)(t,"btn-toolbar");return(0,l.jsx)("div",{...s,ref:i,className:n()(e,o)})}));a.displayName="ButtonToolbar",a.defaultProps={role:"toolbar"},e.Z=a}}]);