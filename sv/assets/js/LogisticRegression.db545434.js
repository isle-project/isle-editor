(self.webpackChunk=self.webpackChunk||[]).push([[3488],{507302:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return Et}});var n=e(264659),i=e(904730),o=e(673989),a=e(175663),s=e(750591),c=e(575630),u=e(151119),l=e(858255),f=(e(319371),e(111246),e(382139),e(627476),e(95767),e(898837),e(694882),e(298351),e(202784)),v=(e(213980),e(198)),d=e(822736),p=e(423184),h=e(109203),Z=e(26266),g=e(770561),y=e(588703),m=e.n(y),b=e(32593),w=e.n(b),x=e(900766),F=e.n(x),A=e(74039),P=e.n(A),O=e(150275),E=e(122081),j=e(997354),M=e(31388),k=e(432261),q=(e(927299),e(287013)),D=e.n(q),z=e(973670),C=e.n(z),S=e(92766),T=e(108272),R=e(37950);var V=function(t,r,e,n,i,o){for(var a=[],s={},c=0;c<t.length;c++){var u=e[t[c]];if(D()(n,t[c]))a.push(t[c]);else{for(var l=(0,S.Z)(u,t[c]),f=i?1:0;f<l.length;f++)a.push("".concat(t[c],"_").concat(l[f]));s[t[c]]=l}}for(var v=[],d=[],p=0;p<e[t[0]].length;p++){var h=!1,Z=[];i&&Z.push(1);for(var g=0;g<t.length;g++){var y=e[t[g]];if(D()(n,t[g]))(0,T.Z)(y[p])?Z.push(y[p]):h=!0;else{var m=y[p];if((0,R.Z)(m))h=!0;else for(var b=s[t[g]],w=i?1:0;w<b.length;w++)Z.push(m===b[w]?1:0)}}h||(v=v.concat(Z),d.push(e[r][p]===o?1:0))}var x=d.length;return{matrix:C()(v,{shape:[x,a.length+1]}),predictors:a,yvalues:d,nobs:x}};e(733834);var _=function(t,r,e,n,i,o){for(var a=[],s={},c=e[t[0]].length,u=0;u<t.length;u++){var l=e[t[u]];if(D()(n,t[u]))a.push(t[u]);else{for(var f=(0,S.Z)(l,t[u]),v=i?1:0;v<f.length;v++)a.push("".concat(t[u],"_").concat(f[v]));s[t[u]]=f}}for(var d=new Float64Array(c*(a.length+1)),p=0;p<c;p++){i&&(d[(a.length+1)*p]=1);for(var h=0,Z=0;Z<t.length;Z++){var g=e[t[Z]];if(D()(n,t[Z]))h+=1,d[(a.length+1)*p+h]=g[p];else for(var y=s[t[Z]],m=g[p],b=i?1:0;b<y.length;b++)h+=1,d[(a.length+1)*p+h]=m===y[b]?1:0}}return{matrix:C()(d,{shape:[c,a.length+1]}),predictors:a,yvalues:e[r].map((function(t){return t===o?1:0})),nobs:c}},B=e(574315),N=(e(448977),e(935460)),W=e(920756),X=e(798030),G=e.n(X),H=e(733727),I=e.n(H),J=e(190465),K=e.n(J),L=e(120638),Q=e.n(L),U=e(82483),Y=e.n(U),$=e(808170),tt=e.n($),rt=e(695688),et=e.n(rt),nt=e(273856),it=e(272336),ot=e(242995);var at=function(t,r){for(var e=(0,B.Z)(t.shape,2),n=e[0],i=e[1],o=r.shape[1],a=W.Z.zeros(n,o),s=new Float64Array(i),c=0;c<o;c++){for(var u=0;u<i;u++)s[u]=r.get(u,c);for(var l=0;l<n;l++){for(var f=0,v=0;v<i;v++)f+=t.get(l,v)*s[v];a.set(l,c,f)}}return a};var st=function(t,r){for(var e=(0,B.Z)(t.shape,2),n=e[0],i=e[1],o=C()(new Float64Array(n*i),{shape:[n,i]}),a=0;a<n;a++)for(var s=0;s<i;s++)o.set(a,s,t.get(a,s)*r[a]);return o};var ct=function(t,r){for(var e=t.length,n=new Array(e),i=0;i<e;i++)n[i]=t[i]*r[i];return n},ut=function(t){for(var r=new Float64Array(t.length),e=0;e<t.length;e++)r[e]=t[e]*(1-t[e]);return r},lt=function(t){for(var r=t.length,e=new Float64Array(r),n=0;n<r;n++){var i=t[n];if(w()(i)>30)e[n]=Y();else{var o=K()(i);e[n]=o/(1+o)}}return e},ft=function(t){for(var r=t.length,e=new Float64Array(r),n=0;n<r;n++){var i=t[n];w()(i)>30?e[n]=Y():e[n]=K()(i)/I()(1+K()(i),2)}return e},vt=function(t,r,e){for(var n=0,i=0;i<t.length;i++)n+=G()(tt()(t[i],r[i]));return-2*n+2*e},dt=function(t,r,e){for(var n=t.length,i=new Float64Array(n),o=0;o<n;o++){var a=r[o],s=t[o];i[o]=2*e[o]*(Q()(s,s/a)+Q()(1-s,(1-s)/(1-a)))}return i},pt=function(t,r,e){for(var n=new Float64Array(t.length),i=0;i<t.length;i++)n[i]=t[i]*(r[i]*r[i]/e[i]);return n},ht=function(t,r,e,n){for(var i=new Float64Array(r.length),o=0;o<r.length;o++)i[o]=t[o]+(r[o]-e[o])/n[o];return i};function Zt(t,r){for(var e=new Float64Array(r.length),n=0;n<e.length;n++)e[n]=r[n]*(1-r[n]);for(var i=(0,B.Z)(t.shape,2),o=i[0],a=i[1],s=new Float64Array(a),c=0;c<s.length;c++){for(var u=0,l=0;l<o;l++)u+=I()(t.get(l,c),2)*e[l];s[c]=et()(1/u)}return s}var gt,yt,mt,bt=function(t,r,e){for(var n=(0,it.Z)(t),i=new Array(e).fill(1),o=new Float64Array(i.length),a=0;a<e;a++)o[a]=(i[a]*r[a]+.5)/(i[a]+1);var s,c,u=function(t){for(var r=t.length,e=new Float64Array(r),n=0;n<r;n++)e[n]=G()(t[n]/(1-t[n]));return e}(o),l=lt(u),f=(0,ot.Z)(dt(r,l,i)),v=!1;for(c=0;c<25;c++){var d=ut(l),p=ft(u),h=ht(u,r,l,p),Z=pt(i,p,d),g=ct(Z,h),y=st(t,Z),m=at(n,y),b=(0,nt.Z)(n,g);s=(0,N.F)(m,W.Z.columnVector(b)),u=(0,nt.Z)(t,s.to1DArray()),l=lt(u);var x=(0,ot.Z)(dt(r,l,i));if(w()(x-f)/(.1+w()(x))<1e-8){v=!0;break}f=x}var F=s.to1DArray(),A=function(t){return function(t){for(var r=new Float64Array(t.length),e=0;e<t.length;e++)r[e]=1/(1+K()(-t[e]));return r}((0,nt.Z)(t,F))},P=A(t);return{aic:vt(r,lt(u),F.length),stdErrors:Zt(t,P),fitted:P,coefficients:F,iterations:c,converged:v,predict:A}};function wt(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function xt(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?wt(Object(e),!0).forEach((function(r){(0,u.Z)(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):wt(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function Ft(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=(0,c.Z)(t);if(r){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)}}var At=0,Pt=function(t){var r=t.y,e=t.success,n=t.x,i=t.intercept,o=t.omitMissing,a=t.data,s=t.quantitative;try{m()(n)||(n=[n]);var c=(o?V:_)(n,r,a,s,i,e),u=c.matrix,l=c.predictors,f=c.yvalues,v=c.nobs;return{result:bt(u,f,v),predictors:l}}catch(d){return{}}},Ot=function(t){(0,a.Z)(e,t);var r=Ft(e);function e(t){var i;(0,n.Z)(this,e),i=r.call(this,t),(0,u.Z)((0,o.Z)(i),"handlePredict",(function(){var t=i.props,r=t.x,e=t.y,n=t.quantitative,o=t.intercept,a=t.success;m()(r)||(r=[r]);i.props.onPredict((function(t){var s=_(r,e,t,n,o,a),c=s.matrix,u=s.yvalues,l=i.state.result.predict(c),f=(0,M.Z)(l,u);return{yhat:l.map((function(t){return t>i.state.probabilityThreshold})),probs:l,residuals:f}}),At)})),At+=1;var a=t.y,s=t.success,c=t.x,l=t.intercept,f=t.omitMissing,v=t.data,d=t.quantitative,p=Pt({y:a,success:s,x:c,intercept:l,omitMissing:f,data:v,quantitative:d}),h=p.result,Z=p.predictors;return i.state=xt({probabilityThreshold:.5,result:h,predictors:Z},t),i}return(0,i.Z)(e,[{key:"render",value:function(){var t=this,r=this.state.result,e=this.props.t;return r?(0,l.Z)("div",{style:{overflowX:"auto",width:"100%"}},void 0,(0,l.Z)("span",{className:"title"},void 0,e("logistic-title",{y:this.props.y,counter:At})),function(t,r,e,n){return(0,l.Z)(E.Z,{bordered:!0,size:"sm"},void 0,(0,l.Z)("thead",{},void 0,(0,l.Z)("tr",{},void 0,(0,l.Z)(O.Z,{placement:"right",tooltip:n("name-of-predictor")},void 0,(0,l.Z)("th",{},void 0,n("predictor"))),(0,l.Z)(O.Z,{placement:"right",tooltip:n("change-in-log")},void 0,(0,l.Z)("th",{},void 0,n("coefficient"))),(0,l.Z)(O.Z,{placement:"left",tooltip:n("standard-deviation-coefficient")},void 0,(0,l.Z)("th",{},void 0,n("std-error"))),(0,l.Z)(O.Z,{placement:"left",tooltip:(0,l.Z)("span",{},void 0,n("test-statistic-coefficient-zero"),gt||(gt=(0,l.Z)(j.Z,{displayMode:!0,raw:"t = \\tfrac{\\text{Coefficient}}{\\text{Std. Error}}"})))},void 0,yt||(yt=(0,l.Z)("th",{},void 0,"t"))),(0,l.Z)(O.Z,{placement:"left",tooltip:(0,l.Z)("span",{},void 0,n("p-value-coefficient-zero"),mt||(mt=(0,l.Z)(j.Z,{displayMode:!0,raw:"2 \\Phi( |t| )"})))},void 0,(0,l.Z)("th",{},void 0,n("p-value"))))),(0,l.Z)("tbody",{},void 0,r?(0,l.Z)("tr",{},void 0,(0,l.Z)("th",{},void 0,n("intercept")),(0,l.Z)("td",{},void 0,e.coefficients[0].toFixed(6)),(0,l.Z)("td",{},void 0,e.stdErrors[0].toFixed(4)),(0,l.Z)("td",{},void 0,(e.coefficients[0]/e.stdErrors[0]).toFixed(4)),(0,l.Z)("td",{},void 0,(2*F()(-w()(e.coefficients[0]/e.stdErrors[0]),0,1)).toFixed(4))):null,t.map((function(t,n){n+=Number(r);var i=e.coefficients[n]/e.stdErrors[n],o=2*F()(-w()(i),0,1);return(0,l.Z)("tr",{},n,(0,l.Z)("th",{},void 0,t),(0,l.Z)("td",{},void 0,e.coefficients[n].toFixed(6)),(0,l.Z)("td",{},void 0,e.stdErrors[n].toFixed(4)),(0,l.Z)("td",{},void 0,i.toFixed(4)),(0,l.Z)("td",{},void 0,o.toFixed(4)))}))))}(this.state.predictors,this.props.intercept,r,this.props.t),(0,l.Z)("i",{},void 0,r.converged?e("fisher-scoring-converged",{n:r.iterations}):e("fisher-scoring-not-converged",{n:r.iterations})),(0,l.Z)("p",{},void 0,e("aic"),": ",P()(r.aic,-3)),this.props.onPredict?(0,l.Z)(p.Z,{},void 0,(0,l.Z)(O.Z,{tooltip:e("use-model-to-predict-tooltip-logistic")},void 0,(0,l.Z)(g.Z,{variant:"secondary",size:"sm",onClick:this.handlePredict},void 0,this.props.t("use-model-to-predict"))),(0,l.Z)(h.Z,{size:"sm"},void 0,(0,l.Z)(h.Z.Prepend,{},void 0,(0,l.Z)(h.Z.Text,{},void 0,e("threshold"),":")),(0,l.Z)(Z.Z,{type:"number",min:0,max:1,defaultValue:.5,step:.01,onChange:function(r){t.setState({probabilityThreshold:r.target.value})}}))):null):(0,l.Z)(d.Z,{variant:"danger"},void 0,e("missing-attributes"))}}],[{key:"getDerivedStateFromProps",value:function(t,r){if(t.data!==r.data||t.quantitative!==r.quantitative||t.x!==r.x||t.y!==r.y||t.success!==r.success||t.omitMissing!==r.omitMissing){var e=t.y,n=t.success,i=t.x,o=t.intercept,a=t.omitMissing,s=t.data,c=t.quantitative;return xt(xt({},Pt({y:e,success:n,x:i,intercept:o,omitMissing:a,data:s,quantitative:c})),t)}return null}}]),e}(f.Component);Ot.defaultProps={omitMissing:!1,intercept:!0,onPredict:null};var Et=(0,v.Z)("models")((0,k.W)(Ot))},273856:function(t,r,e){"use strict";e(733834);r.Z=function(t,r){for(var e=t.shape[0],n=t.shape[1],i=new Float64Array(e),o=0;o<e;o++){for(var a=0,s=0;s<n;s++)a+=t.get(o,s)*r[s];i[o]=a}return i}},31388:function(t,r,e){"use strict";var n=e(89596),i=e.n(n),o=e(309765);r.Z=function(t,r){var e=i()(r);if(!i()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!e&&!(0,o.isPrimitive)(r))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+r+"`.");var n=t.length,a=new Array(n);if(e){if(n!==r.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var s=0;s<n;s++)a[s]=t[s]-r[s]}else for(var c=0;c<n;c++)a[c]=t[c]-r;return a}},272336:function(t,r,e){"use strict";var n=e(879224),i=e.n(n);r.Z=function(t){var r=[t.shape[1],t.shape[0]],e=[t.strides[1],t.strides[0]],n=t.offset,o=t.order;return i()("float64",t._buffer,r,e,n,o)}}}]);