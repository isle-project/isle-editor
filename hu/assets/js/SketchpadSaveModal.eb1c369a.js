"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2087],{497828:function(e,n,t){t.r(n);var o=t(497326),i=t(894578),s=t(202784),a=t(770561),r=t(715318),l=t(213980),d=t.n(l),p=t(588703),c=t.n(p),u=t(382617),h=Object.defineProperty,f=function(e,n,t){return function(e,n,t){n in e?h(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!=typeof n?n+"":n,t),t},m=function(e){function n(n){var t;return t=e.call(this,n)||this,f((0,o.Z)(t),"clickHide",(function(){t.props.onHide()})),f((0,o.Z)(t),"handleOriginalDownload",(function(){t.props.session.log({id:t.props.id,type:u.tb,value:"original"}),t.props.onHide()})),f((0,o.Z)(t),"handleInstructorAnnotationsDownload",(function(){t.props.session.log({id:t.props.id,type:u.tb,value:"instructor-annotations"}),t.props.onHide()})),f((0,o.Z)(t),"handlePDFExport",(function(){t.props.saveAsPDF(),t.props.onHide()})),f((0,o.Z)(t),"handlePNGExport",(function(){t.props.saveAsPNG(),t.props.onHide()})),t.state={ownerFile:null},t}(0,i.Z)(n,e);var t=n.prototype;return t.componentDidMount=function(){var e=this;this.props.session.getLessonOwnerFiles((function(n,t){c()(t)&&t.length>0&&(t=t.filter((function(n){return n.title===e.props.id+".pdf"})),e.setState({ownerFile:t[t.length-1]}))}))},t.render=function(){var e,n,t=this.props.session;this.state.ownerFile&&(e=new Date(this.state.ownerFile.updatedAt),n=this.state.ownerFile.name);var o=this.props.t;return s.createElement(r.Z,{onHide:this.clickHide,show:this.props.show,dialogClassName:"modal-w30"},s.createElement(r.Z.Header,{closeButton:!0},s.createElement(r.Z.Title,{as:"h4"},o("download"))),s.createElement(r.Z.Body,null,s.createElement("div",{className:"d-grid gap-2"},this.props.pdf?s.createElement(a.Z,{className:"sketchpad-download-link-btn",size:"large",variant:"secondary",onClick:this.handleOriginalDownload},s.createElement("a",{className:"unstyled-link sketchpad-download-link",href:this.props.pdf,download:!0},o("download-original"))):null,this.state.ownerFile?s.createElement(a.Z,{size:"large",variant:"secondary",onClick:this.handleInstructorAnnotationsDownload},s.createElement("a",{className:"unstyled-link",href:t.server+"/"+this.state.ownerFile.filename,download:!0},o("download-instructor-annotations"),s.createElement("br",null),s.createElement("small",null,"(",o("last-updated"),": ",e.toDateString()+", "+e.toLocaleTimeString()," ",o("by")," ",n,")"))):null,s.createElement(a.Z,{variant:"secondary",size:"large",onClick:this.handlePDFExport},o("export-pdf")),s.createElement(a.Z,{variant:"secondary",size:"large",onClick:this.handlePNGExport},o("export-png")))))},n}(s.Component);m.propTypes={id:d().string.isRequired,onHide:d().func,pdf:d().string,saveAsPDF:d().func.isRequired,saveAsPNG:d().func.isRequired,session:d().object.isRequired,show:d().bool.isRequired},m.defaultProps={pdf:null,onHide:function(){}},n.default=m}}]);