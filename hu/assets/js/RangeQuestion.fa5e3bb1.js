"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[32044],{667045:function(e,n,t){const s=(0,t(217431).Z)((()=>t.e(10112).then(t.bind(t,497925))));n.Z=s},956260:function(e,n,t){var s=t(202784),a=t(213980),l=t.n(a),r=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,n,t)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const m=e=>{const n=e,{children:t}=n,a=((e,n)=>{var t={};for(var s in e)o.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&i)for(var s of i(e))n.indexOf(s)<0&&u.call(e,s)&&(t[s]=e[s]);return t})(n,["children"]);return s.createElement("div",((e,n)=>{for(var t in n||(n={}))o.call(n,t)&&c(e,t,n[t]);if(i)for(var t of i(n))u.call(n,t)&&c(e,t,n[t]);return e})({},a),t)};m.defaultProps={className:"",style:{}},m.propTypes={className:l().string,style:l().object},n.Z=m},370420:function(e,n,t){const s=(0,t(217431).Z)((()=>t.e(96131).then(t.bind(t,66720))));n.Z=s},800712:function(e,n,t){const s=(0,t(217431).Z)((()=>Promise.all([t.e(40532),t.e(34507)]).then(t.bind(t,307125))));n.Z=s},556146:function(e,n,t){t.r(n);var s=t(202784),a=t(213980),l=t.n(a),r=t(376699),i=t(482228),o=t(790817),u=t(223444),c=t(690299),m=t.n(c),b=t(109918),p=t.n(b),d=t(395465),f=t.n(d),g=t(783158),y=t.n(g),h=t(557106),w=t.n(h),E=t(74039),k=t.n(E),v=t(316305),C=t.n(v),Z=t(871199),N=t.n(Z),O=t(370420),S=t(514921),T=t(956260),x=t(506078),P=t(667045),q=t(172888),F=t(800712),L=t(123103),$=t(691334),j=t(741082),A=t(487890);const U=m()("isle:range-question"),B=e=>{const{digits:n,min:t,max:a,points:l,question:c,solution:m,until:b,feedback:p,style:d,provideFeedback:f,submitAfterFeedback:g,hints:h,nTries:E,chat:v,labels:Z,onChangeUpper:j,onChangeLower:B,onChange:I,onSubmit:R}=e,_=(0,s.useContext)(L.Z),[z,G]=(0,s.useState)(t),[K,M]=(0,s.useState)(a),[Q,V]=(0,s.useState)(!1),[D,J]=(0,s.useState)({lower:!1,upper:!1}),[W,Y]=(0,s.useState)(0),{t:H}=(0,r.$)("questions/range"),{logAction:X,id:ee}=(0,A.G)("RANGE_QUESTION",e),ne=(0,s.useCallback)((e=>{M(e),j(w()(e,z)),I([z,w()(e,z)])}),[z,I,j]),te=(0,s.useCallback)((e=>{G(e),B(y()(e,K)),I([y()(e,K),K])}),[K,I,B]),se=(0,s.useCallback)((e=>{e<=z&&M(z)}),[z]),ae=(0,s.useCallback)((e=>{e>=K&&G(K)}),[K]),le=(0,s.useCallback)((e=>{U("Logging hint..."),X($.$M,e)}),[X]),re=(0,s.useCallback)((()=>{let e={lower:!1,upper:!1};const t=parseFloat(z),s=parseFloat(K);if(N()(m))R(null,[t,s]),_.addNotification({title:H(Q?"answer-resubmitted":"answer-submitted"),message:H(Q?"resubmission-message":"submission-message"),level:"success"});else if(null===n?(e.lower=t===m[0],e.upper=s===m[1]):(e.lower=k()(t,-n)===k()(m[0],-n),e.upper=k()(s,-n)===k()(m[1],-n)),R(e,[t,s]),f){let n,t;e.lower&&e.upper?(n=H("submission-correct"),t="success"):(n=W+1<E?H("submission-try-again")+" ("+H("tries",{count:E-W+1})+").":H("submission-incorrect"),t="error"),_.addNotification({title:H("answer-submitted"),message:n,level:t})}else _.addNotification({title:H(Q?"answer-resubmitted":"answer-submitted"),message:H(Q?"resubmission-message":"submission-message"),level:"info"});V(!0),J(e),Y(W+1),X($.gY,JSON.stringify([z,K]))}),[n,z,K,R,W,E,f,X,_,m,Q,H]),ie=(0,s.useCallback)((e=>{13===e.charCode&&(document&&document.activeElement&&(U("Trigger blur event..."),document.activeElement.blur()),setTimeout(re,50))}),[re]);(0,s.useEffect)((()=>{!m||C()(m[1])||C()(m[0])||(G(t),M(a),V(!1),J({lower:!1,upper:!1}))}),[c,m,t,a]);const oe=null!==m,ue=Q&&oe&&(W>=e.nTries&&!g||D.lower&&D.upper),ce=h.length;return s.createElement(o.Z,{id:ee,className:"range-question",style:d},s.createElement(o.Z.Body,{style:{width:p?"calc(100%-60px)":"100%",display:"inline-block"}},c?s.createElement("label",null,c):null,s.createElement("div",{className:"range-question-input-wrapper"},s.createElement(x.Z,{step:"any",legend:Z?Z[0]:H("lower"),onChange:te,defaultValue:z,disabled:ue||D.lower,inline:!0,width:90,min:t,max:a,numbersOnly:!1,onBlur:ae,onKeyPress:ie}),Q&&oe&&f?s.createElement(u.Z,{bg:D.lower?"success":"danger",style:{fontSize:18}},D.lower?H("correct"):W>=E?`${H("solution")}:   ${m[0]}`:`${H("try-again")}`):null,s.createElement(x.Z,{step:"any",legend:Z?Z[1]:H("upper"),onChange:ne,defaultValue:K,disabled:ue||D.upper,inline:!0,width:90,min:t,max:a,numbersOnly:!1,onBlur:se,onKeyPress:ie}),Q&&oe&&f?s.createElement(u.Z,{bg:D.upper?"success":"danger",style:{fontSize:18}},D.upper?H("correct"):W>=E?`${H("solution")}:   ${m[1]}`:`${H("try-again")}`):null),s.createElement(i.Z,{className:"range-question-toolbar"},s.createElement(T.Z,{buttonLabel:H("answers"),id:ee,data:{type:"range",question:c,solution:m},info:"RANGE_QUESTION_SUBMISSION",style:{marginLeft:"3px",marginRight:"3px"},points:l}),ce>0?s.createElement(P.Z,{onClick:le,hints:h,placement:e.hintPlacement}):null,v?s.createElement("div",{style:{display:"inline-block",marginLeft:"4px"}},s.createElement(O.Z,{for:ee})):null,b&&_.startTime>b?s.createElement("span",{className:"title",style:{marginLeft:4}},H("question-closed")):s.createElement(S.Z,{className:"submit-button",variant:"primary",size:"sm",disabled:ue,onClick:re},H(Q&&g?"resubmit":"submit"))),p?s.createElement(q.Z,{id:ee+"_feedback",style:{marginRight:5,marginTop:-5}}):null,s.createElement(F.Z,{for:ee,points:l})))};B.defaultProps={question:"",solution:null,hints:[],hintPlacement:"top",labels:null,feedback:!0,chat:!1,digits:3,max:p(),min:f(),nTries:1,provideFeedback:!0,submitAfterFeedback:!1,until:null,points:10,style:{},onChangeUpper(){},onChangeLower(){},onChange(){},onSubmit(){}},B.propTypes={question:l().oneOfType([l().string,l().node]),solution:l().arrayOf(l().number),hintPlacement:l().string,hints:l().arrayOf(l().oneOfType([l().string,l().node])),labels:l().array,feedback:l().bool,chat:l().bool,digits:l().number,max:l().number,min:l().number,nTries:l().number,provideFeedback:l().bool,submitAfterFeedback:l().bool,until:l().instanceOf(Date),points:l().number,style:l().object,onChangeLower:l().func,onChangeUpper:l().func,onChange:l().func,onSubmit:l().func},n.default=(0,j.W)(B)},482228:function(e,n,t){var s=t(72779),a=t.n(s),l=t(202784),r=t(429658),i=t(552322);const o=l.forwardRef((({bsPrefix:e,className:n,...t},s)=>{const l=(0,r.vE)(e,"btn-toolbar");return(0,i.jsx)("div",{...t,ref:s,className:a()(n,l)})}));o.displayName="ButtonToolbar",o.defaultProps={role:"toolbar"},n.Z=o}}]);