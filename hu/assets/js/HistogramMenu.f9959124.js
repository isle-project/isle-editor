"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8173],{606580:function(e,t,n){n.r(t);var a=n(202784),l=n(690299),i=n.n(l),r=n(770561),s=n(790817),o=n(312594),u=n(458264),c=n(213980),d=n.n(c),m=n(351375),p=n(440835),g=n(506078),y=n(711768),f=n(595959),E=n(691334),b=n(581728),h=Object.defineProperty,Z=Object.defineProperties,S=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))C.call(t,n)&&w(e,n,t[n]);if(v)for(var n of v(t))V.call(t,n)&&w(e,n,t[n]);return e},j=(e,t)=>Z(e,S(t));const x=i()("isle:data-explorer:histogram"),P={start:null,size:100,end:null},q={Exponential:[{name:"lambda",description:"rate",min:0,step:"any"}],Normal:[{name:"mu",description:"mean",step:"any"},{name:"sigma",description:"standard-deviation",min:0,step:"any"}],Uniform:[{name:"a",description:"minimum",step:"any"},{name:"b",description:"maximum",step:"any"}]},A=e=>{const[t,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)(null),[c,d]=(0,a.useState)([0,1]),[h,Z]=(0,a.useState)(!1),[S,v]=(0,a.useState)(1),[C,V]=(0,a.useState)(!1),[w,A]=(0,a.useState)(!1),[D,R]=(0,a.useState)(e.defaultValue||e.variables[0]),[k,N]=(0,a.useState)(null),[T,z]=(0,a.useState)("Overlay"),[F,H]=(0,a.useState)(2),[B,I]=(0,a.useState)(10),[M,U]=(0,a.useState)(P),[$,G]=(0,a.useState)("Automatic"),{variables:L,groupingVariables:X,t:Y}=e;(0,a.useEffect)((()=>{U(P)}),[$]);let J;if("Data-driven"===l)J=a.createElement(g.Z,{legend:Y("bandwidth-adjustment"),defaultValue:S,min:0,step:.1,onChange:v});else if(l){let e;h&&(e=q[l].map(((e,t)=>a.createElement(g.Z,{key:t,legend:Y(e.name),description:Y(e.description),value:c[t],onChange:e=>{const n=c.slice();n[t]=e,d(n)},max:e.max,min:e.min,step:e.step,tooltipPlacement:"bottom"})))),J=a.createElement(a.Fragment,null,a.createElement(m.Z,{legend:Y("specify-parameters"),tooltip:Y("specify-parameters-tooltip"),defaultValue:h,onChange:Z}),e)}return a.createElement(s.Z,null,a.createElement(s.Z.Header,{as:"h4"},Y("Histogram"),a.createElement(b.Z,{title:Y("Histogram"),content:Y("Histogram-description")})),a.createElement(s.Z.Body,{className:"d-grid gap-3"},a.createElement(u.Z,null,a.createElement(o.Z,{md:6},a.createElement(p.Z,{legend:Y("variable"),defaultValue:D,options:L,onChange:R})),a.createElement(o.Z,{md:6},a.createElement(p.Z,{legend:Y("group-by"),options:X,clearable:!0,onChange:N}))),a.createElement(u.Z,null,a.createElement(o.Z,{md:6},k?a.createElement(p.Z,{legend:`${Y("mode")}:`,defaultValue:T,options:["Overlay","Facets"],onChange:z}):null),a.createElement(o.Z,{md:6},k&&"Facets"===T?a.createElement(g.Z,{legend:Y("columns"),defaultValue:2,min:1,onChange:H,style:{marginTop:30},inputStyle:{width:70,marginLeft:0,marginTop:2}}):null)),k&&"Facets"===T?a.createElement(u.Z,null,a.createElement(o.Z,{md:6},a.createElement(m.Z,{legend:Y("common-x-axis"),defaultValue:C,onChange:V})),a.createElement(o.Z,{md:6},a.createElement(m.Z,{legend:Y("common-y-axis"),defaultValue:w,onChange:A}))):null,a.createElement("div",null,a.createElement(p.Z,{legend:Y("binning-strategy"),options:["Automatic","Select # of bins","Set bin width"],defaultValue:$,inline:!0,onChange:G}),"Automatic"!==$?a.createElement("div",null,a.createElement(g.Z,{legend:Y("start"),inline:!0,defaultValue:M.start,onChange:e=>{const t=O({},M);t.start=e,U(t)},step:"any",inputStyle:{width:70}}),"Select # of bins"===$?a.createElement(g.Z,{legend:Y("bins"),defaultValue:B,min:1,step:1,onChange:I,inline:!0,inputStyle:{width:70}}):null,"Set bin width"===$?a.createElement(g.Z,{legend:Y("size"),inline:!0,defaultValue:M.size,onChange:e=>{const t=O({},M);t.size=e,U(t)},step:"any",inputStyle:{width:70}}):null,a.createElement(g.Z,{legend:Y("end"),inline:!0,defaultValue:M.end,onChange:e=>{const t=O({},M);t.end=e,U(t)},step:"any",inputStyle:{width:70}})):null),e.showDensityOption?a.createElement("div",null,a.createElement(m.Z,{legend:Y("display-density"),defaultValue:t,onChange:n}),a.createElement(p.Z,{legend:Y("overlay-density-line"),options:["Data-driven","Normal","Uniform","Exponential"],disabled:!t,defaultValue:l,clearable:!0,menuPlacement:"top",onChange:i}),J):null,a.createElement(r.Z,{variant:"primary",onClick:()=>{x(`Generate a histogram with ${B} bins`);const n=(0,y.Z)(6),i={variable:D,group:k,groupMode:T,displayDensity:t,densityType:l,binStrategy:$,sameXRange:C,sameYRange:w};"Select # of bins"===$&&(i.nBins=B),i.xBins=M,"Facets"===T&&(i.nCols=F),"Data-driven"===l?i.bandwidthAdjust=S:l&&h&&(i.densityParams=c);const r=j(O({},i),{plotId:n}),s=a.createElement(f.Z,j(O({data:e.data},i),{id:n,action:r,onShare:()=>{e.session.addNotification({title:Y("plot-shared"),message:Y("plot-shared-message"),level:"success",position:"tr"}),e.logAction(E.V3,r)}}));e.logAction(E.NM,r),e.onCreated(s)}},Y("generate"))))};A.defaultProps={defaultValue:null,groupingVariables:null,logAction(){},showDensityOption:!0,onSelected(){}},A.propTypes={data:d().object.isRequired,defaultValue:d().string,groupingVariables:d().array,logAction:d().func,onSelected:d().func,onCreated:d().func.isRequired,session:d().object.isRequired,showDensityOption:d().bool,variables:d().array.isRequired},t.default=A},581728:function(e,t,n){var a=n(202784),l=n(213980),i=n.n(l),r=n(770561),s=n(435376),o=n(992500),u=n(862816),c=n(461298);const d=e=>{const t=a.createElement(s.Z,{id:"popover-positioned-right"},a.createElement(o.Z,null,e.title),a.createElement(u.Z,null,e.content));return a.createElement(c.Z,{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:t},a.createElement(r.Z,{"aria-label":e.title,size:"sm",variant:"outline-secondary",className:"question-button"},a.createElement("div",{className:"fa fa-question"})))};d.propTypes={content:i().oneOfType([i().string,i().node]).isRequired,title:i().string.isRequired},t.Z=d}}]);