"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4553],{898669:function(e,t,o){o.r(t);var s=o(202784),n=o(213980),i=o.n(n),r=o(715318),a=o(46739),l=o(437069),d=o.n(l),c=o(409961),u=o.n(c),p=o(569257),h=o.n(p),g=o(147777),f=o.n(g),m=o(471205),b=o.n(m),P=Object.defineProperty,k=(e,t,o)=>(((e,t,o)=>{t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);class y extends s.Component{constructor(e){super(e),k(this,"handlePlotClick",(e=>{const t=e.points[0];t&&(this.props.gotoPage(t.pointIndex),this.props.onHide())})),this.state={data:null}}static getDerivedStateFromProps(e,t){if(u()(t.data)){const t=e.session.socketActions,o=`${e.id}-slide-`,s={};for(let e=0;e<t.length;e++){const n=t[e].id;h()(n,o)&&!t[e].owner&&(s[n]||(s[n]=[]),s[n].push(t[e].value))}const n=d()(s),i=[],r=["confused","understood"];for(let a=0;a<r.length;a++){const t=new Array(n.length),o=new Array(n.length);for(let n=0;n<e.noPages;n++){t[n]="Slide "+(n+1);const i=`${e.id}-slide-${e.toOriginalPage(n)}`;if(s[i]){const e=f()(s[i],b());o[n]=e[r[a]],0===a&&(o[n]*=-1)}else o[n]=0}i.push({x:t,y:o,type:"bar",name:r[a],marker:{color:1===a?"rgb(40,167,69)":"rgb(220,53,69)",cursor:"pointer"}})}return{data:i}}}render(){return s.createElement(r.Z,{onHide:this.props.onHide,show:this.props.show,id:"sketch-feedback-modal",dialogClassName:"modal-100w"},s.createElement(r.Z.Header,{closeButton:!0},s.createElement(r.Z.Title,{as:"h3"},this.props.t("feedback-modal-title",{id:this.props.id,noPages:this.props.noPages}))),s.createElement(r.Z.Body,null,s.createElement(a.Z,{data:this.state.data,removeButtons:!0,onClick:this.handlePlotClick,layout:{xaxis:{fixedrange:!0},yaxis:{fixedrange:!0},barmode:"relative"}})))}}y.propTypes={id:i().string.isRequired,noPages:i().number.isRequired,toOriginalPage:i().func.isRequired,gotoPage:i().func.isRequired,onHide:i().func,show:i().bool.isRequired},y.defaultProps={onHide(){}},t.default=y}}]);