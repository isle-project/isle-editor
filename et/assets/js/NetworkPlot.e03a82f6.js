"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[71368],{419023:function(t,e,r){r.r(e);var s=r(202784),n=r(213980),i=r.n(n),o=r(844918),a=r(530769),l=r(498614),p=r(928316),d=r(741082),c=Object.defineProperty,h=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(t,e,r)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y=(t,e,r)=>(g(t,"symbol"!=typeof e?e+"":e,r),r);function m(t){return((t,e)=>{for(var r in e||(e={}))u.call(e,r)&&g(t,r,e[r]);if(h)for(var r of h(e))f.call(e,r)&&g(t,r,e[r]);return t})({margin:{top:20,bottom:30,left:50,right:50},xaxis:{orientation:"bottom"},yaxis:{orientation:"left"}},void 0===t?{}:t)}function k(t){t.fx=o.Ba6.x,t.fy=o.Ba6.y}class b extends s.Component{constructor(t){super(t),y(this,"drawPlot",((t,e)=>{const r=t.append("g").attr("class","links").selectAll("line").data(e.links).enter().append("line").attr("stroke-width",2),s=t.append("g").attr("class","nodes").selectAll("circle").data(e.nodes).enter().append("circle").attr("r",5).call(o.ohM().on("start",this.dragstarted).on("drag",k).on("end",this.dragended));this.simulation.nodes(e.nodes).on("tick",(function(){r.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),s.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y}))})),this.simulation.force("link").links(e.links),e.nodes=e.nodes.map((t=>{let r=0;for(let s=0;s<e.links.length;s++)e.links[s].source.id!==t.id&&e.links[s].target.id!==t.id||(r+=1);return t.nEdges=r,t}));const n=o.Ys("body").append("div").attr("class","network-tooltip").style("opacity",0),i=this.props.t;s.on("mouseover",(function(t){r.style("stroke-width",(function(e){return t===e.source||t===e.target?4:2})),r.style("stroke",(function(e){return t===e.source||t===e.target?"red":"#999"})),n.transition().duration(200).style("opacity",.9),n.html(a.ZP.exists("plotly:number-of-edges")?i("plotly:number-of-edges",{nEdges:t.nEdges}):"Number of Edges: "+t.nEdges).style("left",o.Ba6.pageX+"px").style("top",o.Ba6.pageY-28+"px")})),s.on("mouseout",(function(){r.style("stroke-width",2),r.style("stroke","#999"),n.transition().duration(500).style("opacity",0)}))})),y(this,"dragstarted",(t=>{o.Ba6.active||this.simulation.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})),y(this,"dragended",(t=>{o.Ba6.active||this.simulation.alphaTarget(0),t.fx=null,t.fy=null})),this.opts=m(t.options)}componentDidMount(){this.chart=o.Ys((0,p.findDOMNode)(this)).append("g").attr("transform","translate("+this.opts.margin.left+","+this.opts.margin.top+")"),this.initialize(this.chart,this.props.data,this.opts)}componentDidUpdate(){this.update(this.chart,this.props.data,this.opts)}initialize(t,e,r){this.simulation=o.A4v().force("link",o.Fsl().id((t=>t.id)).distance((()=>120))).force("charge",o.q5i().strength((()=>-10)).distanceMax((()=>500))).force("center",o.wqt(this.props.width/2,this.props.height/2)),this.drawPlot(t,e)}update(t,e,r){t.selectAll(".links").remove(),t.selectAll(".nodes").remove(),this.drawPlot(t,e),this.simulation.alphaTarget(.3).restart()}render(){const{className:t,width:e,height:r,options:n}=this.props,i=m(n);let o="d3-plot";return t&&(o=o.concat(" ",this.props.className)),s.createElement("svg",{className:o,width:e+i.margin.left+i.margin.right,height:r+i.margin.top+i.margin.bottom,style:{display:"block",margin:"auto"}})}}b.defaultProps={width:900,height:600},b.propTypes={data:i().shape({nodes:i().array,links:i().array}).isRequired,width:i().number,height:i().number},e.default=(0,l.Zh)("plotly")((0,d.W)(b))}}]);