(self.webpackChunk=self.webpackChunk||[]).push([[8860],{410680:function(e,t,n){"use strict";n.d(t,{ZP:function(){return sc}});var r={};n.r(r),n.d(r,{FILE:function(){return jn},HTML:function(){return _n},TEXT:function(){return Hn},URL:function(){return Mn}});var o=n(202784),i=n(373463),a=n.n(i),s=n(298357),c=n.n(s),u=n(842108),l=Object.defineProperty,d=Object.defineProperties,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&v(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&v(e,n,t[n]);return e};const y=(e,t,n)=>Math.floor(Math.min(t,Math.max(e,n))),b=e=>({x:t,w:n,y:r,h:o},i)=>{const a=Math.min(n/2,e);if(i.x>=t&&i.x<=t+n&&i.y>=r&&i.y<=r+o){if(i.x<t+a)return(i.x-t-a)/a;if(i.x>t+n-a)return-(t+n-i.x-a)/a}return 0},I=e=>({y:t,h:n,x:r,w:o},i)=>{const a=Math.min(n/2,e);if(i.y>=t&&i.y<=t+n&&i.x>=r&&i.x<=r+o){if(i.y<t+a)return(i.y-t-a)/a;if(i.y>t+n-a)return-(t+n-i.y-a)/a}return 0},w=b(150),S={onScrollChange:()=>{},verticalStrength:I(150),horizontalStrength:w,strengthMultiplier:30},T=e=>a()((t=>{let n;t=m(m({},S),t);const r=(0,o.createRef)();let i,a=0,s=0,u=!1,l=!1;const d=c()((e=>{const{left:r,top:o,width:c,height:u}=n.getBoundingClientRect(),l={x:r,y:o,w:c,h:u},d=(e=>"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY})(e);a=t.horizontalStrength(l,d),s=t.verticalStrength(l,d),i||!a&&!s||I()}),100,{trailing:!1});(0,o.useEffect)((()=>{n=r.current,n&&"function"==typeof n.addEventListener&&n.addEventListener("dragover",f),window.document.body.addEventListener("touchmove",f);const e=t.dragDropManager.getMonitor().subscribeToStateChange((()=>v()));return()=>{n&&"function"==typeof n.removeEventListener&&n.removeEventListener("dragover",f),window.document.body.removeEventListener("touchmove",f),e(),w()}}),[]);const f=e=>{l&&!u&&(b(),d(e))},v=()=>{const e=t.dragDropManager.getMonitor().isDragging();!l&&e?l=!0:l&&!e&&(l=!1,w())},b=()=>{u=!0,window.document.body.addEventListener("dragover",d),window.document.body.addEventListener("touchmove",d)},I=()=>{let e=0;const r=()=>{if(0!==t.strengthMultiplier&&a+s!==0){if(e+=1,e%2){const{scrollLeft:e,scrollTop:r,scrollWidth:o,scrollHeight:i,clientWidth:c,clientHeight:u}=n,l=a?n.scrollLeft=y(0,o-c,e+a*t.strengthMultiplier):e,d=s?n.scrollTop=y(0,i-u,r+s*t.strengthMultiplier):r;t.onScrollChange(l,d)}i=requestAnimationFrame(r)}else w()};r()},w=()=>{u=!1,window.document.body.removeEventListener("dragover",d),window.document.body.removeEventListener("touchmove",d),a=0,s=0,i&&(cancelAnimationFrame(i),i=void 0)},T=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["strengthMultiplier","verticalStrength","horizontalStrength","onScrollChange"]);return o.createElement(e,m({ref:r},T))}),e),C=e=>{const t=T(e);return e=>o.createElement(u.L.Consumer,null,(({dragDropManager:n})=>{return void 0===n?void 0:o.createElement(t,(r=m({},e),d(r,f({dragDropManager:n}))));var r}))};var D=n(633958),x=n.n(D);function O(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}function E(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}function k(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}function P(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function R(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,o.isValidElement)(t)){var r=t;return e(r,n),r}var i=t;P(i);var a=n?function(t){return e(t,n)}:e;return j(i,a)}}(r);t[n]=function(){return i}}})),t}function N(e,t){"function"==typeof e?e(t):e.current=t}function j(e,t){var n=e.ref;return O("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,o.cloneElement)(e,{ref:function(e){N(n,e),N(t,e)}}):(0,o.cloneElement)(e,{ref:t})}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function H(e){return null!==e&&"object"===M(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function _(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(o=n?n.call(r,l,d,u):void 0)||void 0===o&&l!==d)return!1}return!0}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,"hooks",R({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,H(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,H(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),B(this,"handlerId",null),B(this,"dragSourceRef",null),B(this,"dragSourceNode",void 0),B(this,"dragSourceOptionsInternal",null),B(this,"dragSourceUnsubscribe",void 0),B(this,"dragPreviewRef",null),B(this,"dragPreviewNode",void 0),B(this,"dragPreviewOptionsInternal",null),B(this,"dragPreviewUnsubscribe",void 0),B(this,"lastConnectedHandlerId",null),B(this,"lastConnectedDragSource",null),B(this,"lastConnectedDragSourceOptions",null),B(this,"lastConnectedDragPreview",null),B(this,"lastConnectedDragPreviewOptions",null),B(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!_(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!_(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&L(t.prototype,n),r&&L(t,r),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=!1,K=!1,V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,"internalMonitor",void 0),F(this,"sourceId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){O(!U,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return U=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{U=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;O(!K,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return K=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{K=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&A(t.prototype,n),r&&A(t,r),e}();function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function G(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function Y(e){return"function"==typeof e}function X(){}function $(e){if(!function(e){return"object"===W(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function q(e,t){return"string"==typeof e||"symbol"===W(e)||!!t&&Array.isArray(e)&&e.every((function(e){return q(e,!1)}))}var Q=n(552322),Z=(0,o.createContext)({dragDropManager:void 0});function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(){function e(t){J(this,e),ne(this,"isDisposed",!1),ne(this,"action",void 0),this.action=Y(t)?t:X}return te(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&Y(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();ne(re,"empty",{dispose:X});var oe=function(){function e(){J(this,e),ne(this,"isDisposed",!1),ne(this,"disposables",void 0);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return te(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),ie=function(){function e(){J(this,e),ne(this,"isDisposed",!1),ne(this,"current",void 0)}return te(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,i=e.createConnector,s=e.registerHandler,c=e.containerDisplayName,u=e.getType,l=e.collect,d=e.options.arePropsEqual,f=void 0===d?_:d,h=t,p=t.displayName||t.name||"Component",g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(g,e);var t,a,c,d=de(g);function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),ge(he(t=d.call(this,e)),"decoratedRef",(0,o.createRef)()),ge(he(t),"handlerId",void 0),ge(he(t),"manager",void 0),ge(he(t),"handlerMonitor",void 0),ge(he(t),"handlerConnector",void 0),ge(he(t),"handler",void 0),ge(he(t),"disposable",void 0),ge(he(t),"currentType",void 0),ge(he(t),"handleChange",(function(){var e=t.getCurrentState();_(e,t.state)||t.setState(e)})),t.disposable=new ie,t.receiveProps(e),t.dispose(),t}return t=g,(a=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return O(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!f(e,this.props)||!_(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new ie,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){f(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(u(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=se(s(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new oe(new re(o),new re(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?l(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return(0,Q.jsx)(Z.Consumer,{children:function(t){var n,r,o=t.dragDropManager;return e.receiveDragDropManager(o),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),(0,Q.jsx)(h,Object.assign({},e.props,e.getCurrentState(),{ref:(n=h,(r=n)&&r.prototype&&"function"==typeof r.prototype.render||function(e){var t,n=e;return"Symbol(react.forward_ref)"===(null==n||null===(t=n.$$typeof)||void 0===t?void 0:t.toString())}(n)?e.decoratedRef:null)}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(O(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",p,p),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=i(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&ue(t.prototype,a),c&&ue(t,c),g}(o.Component);return ge(g,"DecoratedComponent",t),ge(g,"displayName","".concat(c,"(").concat(p,")")),a()(g,t)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=["canDrag","beginDrag","isDragging","endDrag"],Ie=["beginDrag"],we=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ye(this,"props",null),ye(this,"spec",void 0),ye(this,"monitor",void 0),ye(this,"ref",void 0),ye(this,"beginDrag",(function(){if(o.props)return o.spec.beginDrag(o.props,o.monitor,o.ref.current)})),this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,G(this.ref))}}])&&me(t.prototype,n),r&&me(t,r),e}();function Se(e){return Object.keys(e).forEach((function(t){O(be.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',be.join(", "),t),O("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),Ie.forEach((function(t){O("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new we(e,t,n)}}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=!1,xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,"internalMonitor",void 0),Ce(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;O(!De,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return De=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{De=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ee(this,"hooks",R({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,H(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),Ee(this,"handlerId",null),Ee(this,"dropTargetRef",null),Ee(this,"dropTargetNode",void 0),Ee(this,"dropTargetOptionsInternal",null),Ee(this,"unsubscribeDropTarget",void 0),Ee(this,"lastConnectedHandlerId",null),Ee(this,"lastConnectedDropTarget",null),Ee(this,"lastConnectedDropTargetOptions",null),Ee(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!_(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&Oe(t.prototype,n),r&&Oe(t,r),e}();function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=["canDrop","hover","drop"],je=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Re(this,"props",null),Re(this,"spec",void 0),Re(this,"monitor",void 0),Re(this,"ref",void 0),this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,G(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&Pe(t.prototype,n),r&&Pe(t,r),e}();function Me(e){return Object.keys(e).forEach((function(t){O(Ne.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',Ne.join(", "),t),O("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new je(e,t,n)}}function He(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(O(q(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),o=function(){return e}),O($(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var i=Me(t);return O("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),O($(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return ve({containerDisplayName:"DropTarget",createHandler:i,registerHandler:E,createMonitor:function(e){return new xe(e)},createConnector:function(e){return new ke(e)},DecoratedComponent:e,getType:o,collect:n,options:r})}}var _e="dnd-core/INIT_COORDS",Le="dnd-core/BEGIN_DRAG",Be="dnd-core/PUBLISH_DRAG_SOURCE",ze="dnd-core/HOVER",Ae="dnd-core/DROP",Fe="dnd-core/END_DRAG";function Ue(e,t){return{type:_e,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Ve(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function We(e,t){return e.filter((function(e){return e!==t}))}function Ge(e){return"object"===Ke(e)}function Ye(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o}var Xe={type:_e,payload:{clientOffset:null,sourceClientOffset:null}};function $e(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,o=void 0===r||r,i=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(Ue(i)),qe(t,s,c);var u=Je(t,s);if(null!==u){var l=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");Qe(a),l=a(u)}e.dispatch(Ue(i,l));var d=c.getSource(u),f=d.beginDrag(s,u);if(null!=f){Ze(f),c.pinSource(u);var h=c.getSourceType(u);return{type:Le,payload:{itemType:h,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!o}}}}else e.dispatch(Xe)}}function qe(e,t,n){O(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){O(n.getSource(e),"Expected sourceIds to be registered.")}))}function Qe(e){O("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function Ze(e){O(Ge(e),"Item must be an object.")}function Je(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function et(e){return function(){if(e.getMonitor().isDragging())return{type:Be}}}function tt(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function nt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;rt(t);var o=t.slice(0),i=e.getMonitor(),a=e.getRegistry();ot(o,i,a);var s=i.getItemType();return it(o,a,s),at(o,i,a),{type:ze,payload:{targetIds:o,clientOffset:r||null}}}}function rt(e){O(Array.isArray(e),"Expected targetIds to be an array.")}function ot(e,t,n){O(t.isDragging(),"Cannot call hover while not dragging."),O(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];O(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array."),O(n.getTarget(o),"Expected targetIds to be registered.")}}function it(e,t,n){for(var r=e.length-1;r>=0;r--){var o=e[r];tt(t.getTargetType(o),n)||e.splice(r,1)}}function at(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();dt(n);var o=ht(n);o.forEach((function(o,i){var a=ft(o,i,r,n),s={type:Ae,payload:{dropResult:ct(ct({},t),a)}};e.dispatch(s)}))}}function dt(e){O(e.isDragging(),"Cannot call drop while not dragging."),O(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ft(e,t,n,r){var o=n.getTarget(e),i=o?o.drop(r,e):void 0;return function(e){O(void 0===e||Ge(e),"Drop result must either be an object or undefined.")}(i),void 0===i&&(i=0===t?{}:r.getDropResult()),i}function ht(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function pt(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){O(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:Fe}}}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vt(this,"store",void 0),vt(this,"monitor",void 0),vt(this,"backend",void 0),vt(this,"isSetUp",!1),vt(this,"handleRefCountChange",(function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))})),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:$e(e),publishDragSource:et(e),hover:nt(e),drop:lt(e),endDrag:pt(e)}}(this);return Object.keys(n).reduce((function(r,o){var i,a=n[o];return r[o]=(i=a,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=i.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&gt(t.prototype,n),r&&gt(t,r),e}(),yt=n(118717),bt=function(e,t){return e===t};function It(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function wt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case _e:case Le:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ze:return It(e.clientOffset,n.clientOffset)?e:Tt(Tt({},e),{},{clientOffset:n.clientOffset});case Fe:case Ae:return Dt;default:return e}}var Ot="dnd-core/ADD_SOURCE",Et="dnd-core/ADD_TARGET",kt="dnd-core/REMOVE_SOURCE",Pt="dnd-core/REMOVE_TARGET";function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mt={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Le:return Nt(Nt({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Be:return Nt(Nt({},e),{},{isSourcePublic:!0});case ze:return Nt(Nt({},e),{},{targetIds:n.targetIds});case Pt:return-1===e.targetIds.indexOf(n.targetId)?e:Nt(Nt({},e),{},{targetIds:We(e.targetIds,n.targetId)});case Ae:return Nt(Nt({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Fe:return Nt(Nt({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:case Et:return e+1;case kt:case Pt:return e-1;default:return e}}var Lt=[],Bt=[];function zt(e,t){return e!==Lt&&(e===Bt||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function At(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ze:break;case Ot:case Et:case Pt:case kt:return Lt;default:return Bt}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,o=t.prevTargetIds,i=void 0===o?[]:o,a=Ye(r,i),s=a.length>0||!wt(r,i);if(!s)return Lt;var c=i[i.length-1],u=r[r.length-1];return c!==u&&(c&&a.push(c),u&&a.push(u)),a}function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:At(e.dirtyHandlerIds,{type:t.type,payload:Kt(Kt({},t.payload),{},{prevTargetIds:Ve(e,"dragOperation.targetIds",[])})}),dragOffset:xt(e.dragOffset,t),refCount:_t(e.refCount,t),dragOperation:Ht(e.dragOperation,t),stateId:Ft(e.stateId)}}function Gt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lt.__IS_NONE__=!0,Bt.__IS_ALL__=!0;var $t,qt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,"store",void 0),Xt(this,"registry",void 0),this.store=t,this.registry=n}var t,n,r;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;O("function"==typeof e,"listener must be a function."),O(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,i=function(){var n=t.store.getState(),i=n.stateId;try{i===o||i===o+1&&!zt(n.dirtyHandlerIds,r)||e()}finally{o=i}};return this.store.subscribe(i)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;O("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return O(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return O(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&tt(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return O(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!tt(r,o))return!1;var i=this.getTargetIds();if(!i.length)return!1;var a=i.indexOf(e);return n?a===i.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,r=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset,r&&o&&i?Gt((n=i,{x:(t=r).x+n.x,y:t.y+n.y}),o):null;var e,t,n,r,o,i}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?Gt(t,n):null;var e,t,n}}],n&&Yt(t.prototype,n),r&&Yt(t,r),e}(),Qt=0;function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Jt(e,t){t&&Array.isArray(e)?e.forEach((function(e){return Jt(e,!1)})):O("string"==typeof e||"symbol"===Zt(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}($t||($t={}));var en=n(105522);function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function an(e){var t=(Qt++).toString();switch(e){case $t.SOURCE:return"S".concat(t);case $t.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function sn(e){switch(e[0]){case"S":return $t.SOURCE;case"T":return $t.TARGET;default:O(!1,"Cannot parse handler ID: ".concat(e))}}function cn(e,t){var n=e.entries(),r=!1;do{var o=n.next(),i=o.done;if(rn(o.value,2)[1]===t)return!0;r=!!i}while(!r);return!1}var un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nn(this,"types",new Map),nn(this,"dragSources",new Map),nn(this,"dropTargets",new Map),nn(this,"pinnedSourceId",null),nn(this,"pinnedSource",null),nn(this,"store",void 0),this.store=t}var t,n,r;return t=e,n=[{key:"addSource",value:function(e,t){Jt(e),function(e){O("function"==typeof e.canDrag,"Expected canDrag to be a function."),O("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),O("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler($t.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Ot,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Jt(e,!0),function(e){O("function"==typeof e.canDrop,"Expected canDrop to be a function."),O("function"==typeof e.hover,"Expected hover to be a function."),O("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler($t.TARGET,e,t);return this.store.dispatch(function(e){return{type:Et,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return cn(this.dragSources,e)||cn(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return O(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return sn(e)===$t.SOURCE}},{key:"isTargetId",value:function(e){return sn(e)===$t.TARGET}},{key:"removeSource",value:function(e){var t=this;O(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:kt,payload:{sourceId:e}}}(e)),(0,en.e)((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){O(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Pt,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);O(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){O(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=an(e);return this.types.set(r,t),e===$t.SOURCE?this.dragSources.set(r,n):e===$t.TARGET&&this.dropTargets.set(r,n),r}}],n&&tn(t.prototype,n),r&&tn(t,r),e}();function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=dn(r),i=new qt(o,new un(o)),a=new mt(o,i),s=e(a,t,n);return a.receiveBackend(s),a}function dn(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,yt.MT)(Wt,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var fn=["children"];function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var vn=0,mn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),yn=(0,o.memo)((function(e){var t=e.children,n=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[mn]||(o[mn]={dragDropManager:ln(e,t,n,r)});return o[mn]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(gn(e,fn)),r=hn(n,2),i=r[0],a=r[1];return(0,o.useEffect)((function(){if(a){var e=bn();return++vn,function(){0==--vn&&(e[mn]=null)}}}),[]),(0,Q.jsx)(Z.Provider,Object.assign({value:i},{children:t}),void 0)}));function bn(){return void 0!==n.g?n.g:window}function In(e){var t=null;return function(){return null==t&&(t=e()),t}}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sn(this,"entered",[]),Sn(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&wn(t.prototype,n),r&&wn(t,r),e}(),Cn=In((function(){return/firefox/i.test(navigator.userAgent)})),Dn=In((function(){return Boolean(window.safari)}));function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),On(this,"xs",void 0),On(this,"ys",void 0),On(this,"c1s",void 0),On(this,"c2s",void 0),On(this,"c3s",void 0);for(var r=t.length,o=[],i=0;i<r;i++)o.push(i);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,c=[],u=[],l=[],d=0;d<r-1;d++)a=t[d+1]-t[d],s=n[d+1]-n[d],u.push(a),c.push(s),l.push(s/a);for(var f=[l[0]],h=0;h<u.length-1;h++){var p=l[h],g=l[h+1];if(p*g<=0)f.push(0);else{a=u[h];var v=u[h+1],m=a+v;f.push(3*m/((m+v)/p+(m+a)/g))}}f.push(l[l.length-1]);for(var y,b=[],I=[],w=0;w<f.length-1;w++){y=l[w];var S=f[w],T=1/u[w],C=S+f[w+1]-y-y;b.push((y-S-C)*T),I.push(C*T*T)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=b,this.c3s=I}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,c=0,u=i.length-1;c<=u;){var l=t[s=Math.floor(.5*(c+u))];if(l<e)c=s+1;else{if(!(l>e))return n[s];u=s-1}}var d=e-t[a=Math.max(0,u)],f=d*d;return n[a]+r[a]*d+o[a]*f+i[a]*d*f}}])&&xn(t.prototype,n),r&&xn(t,r),e}();function kn(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function Pn(e){return{x:e.clientX,y:e.clientY}}function Rn(e,t,n,r,o){var i,a,s,c="IMG"===(i=t).nodeName&&(Cn()||!(null!==(a=document.documentElement)&&void 0!==a&&a.contains(i))),u=kn(c?e:t),l={x:n.x-u.x,y:n.y-u.y},d=e.offsetWidth,f=e.offsetHeight,h=r.anchorX,p=r.anchorY,g=function(e,t,n,r){var o=e?t.width:n,i=e?t.height:r;return Dn()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(c,t,d,f),v=g.dragPreviewWidth,m=g.dragPreviewHeight,y=o.offsetX,b=o.offsetY,I=0===b||b;return{x:0===y||y?y:new En([0,.5,1],[l.x,l.x/d*v,l.x+v-d]).interpolate(h),y:I?b:(s=new En([0,.5,1],[l.y,l.y/f*m,l.y+m-f]).interpolate(p),Dn()&&c&&(s+=(window.devicePixelRatio-1)*m),s)}}var Nn,jn="__NATIVE_FILE__",Mn="__NATIVE_URL__",Hn="__NATIVE_TEXT__",_n="__NATIVE_HTML__";function Ln(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn=(Bn(Nn={},jn,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),Bn(Nn,_n,{exposeProperties:{html:function(e,t){return Ln(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),Bn(Nn,Mn,{exposeProperties:{urls:function(e,t){return Ln(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),Bn(Nn,Hn,{exposeProperties:{text:function(e,t){return Ln(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),Nn);function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fn(this,"item",void 0),Fn(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&An(t.prototype,n),r&&An(t,r),e}();function Kn(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(zn).filter((function(e){return zn[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wn(this,"ownerDocument",null),Wn(this,"globalContext",void 0),Wn(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&Vn(t.prototype,n),r&&Vn(t,r),e}();function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qn(this,"options",void 0),qn(this,"actions",void 0),qn(this,"monitor",void 0),qn(this,"registry",void 0),qn(this,"enterLeaveCounter",void 0),qn(this,"sourcePreviewNodes",new Map),qn(this,"sourcePreviewNodeOptions",new Map),qn(this,"sourceNodes",new Map),qn(this,"sourceNodeOptions",new Map),qn(this,"dragStartSourceIds",null),qn(this,"dropTargetIds",[]),qn(this,"dragEnterTargetIds",[]),qn(this,"currentNativeSource",null),qn(this,"currentNativeHandle",null),qn(this,"currentDragSourceNode",null),qn(this,"altKeyPressed",!1),qn(this,"mouseMoveTimeoutTimer",null),qn(this,"asyncEndDragFrameId",null),qn(this,"dragOverTargetIds",null),qn(this,"lastClientOffset",null),qn(this,"hoverRafId",null),qn(this,"getSourceClientOffset",(function(e){var t=o.sourceNodes.get(e);return t&&kn(t)||null})),qn(this,"endDragNativeItem",(function(){o.isDraggingNativeItem()&&(o.actions.endDrag(),o.currentNativeHandle&&o.registry.removeSource(o.currentNativeHandle),o.currentNativeHandle=null,o.currentNativeSource=null)})),qn(this,"isNodeInDocument",(function(e){return Boolean(e&&o.document&&o.document.body&&o.document.body.contains(e))})),qn(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=o.currentDragSourceNode;null==e||o.isNodeInDocument(e)||o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()})),qn(this,"handleTopDragStartCapture",(function(){o.clearCurrentDragSourceNode(),o.dragStartSourceIds=[]})),qn(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=o.dragStartSourceIds;o.dragStartSourceIds=null;var n=Pn(e);o.monitor.isDragging()&&o.actions.endDrag(),o.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:o.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,i=Kn(r);if(o.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var a=o.monitor.getSourceId(),s=o.sourceNodes.get(a),c=o.sourcePreviewNodes.get(a)||s;if(c){var u=o.getCurrentSourcePreviewNodeOptions(),l=Rn(s,c,n,{anchorX:u.anchorX,anchorY:u.anchorY},{offsetX:u.offsetX,offsetY:u.offsetY});r.setDragImage(c,l.x,l.y)}}try{null==r||r.setData("application/json",{})}catch(d){}o.setCurrentDragSourceNode(e.target),o.getCurrentSourcePreviewNodeOptions().captureDraggingState?o.actions.publishDragSource():setTimeout((function(){return o.actions.publishDragSource()}),0)}else if(i)o.beginDragNativeItem(i);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),qn(this,"handleTopDragEndCapture",(function(){o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()})),qn(this,"handleTopDragEnterCapture",(function(e){if(o.dragEnterTargetIds=[],o.enterLeaveCounter.enter(e.target)&&!o.monitor.isDragging()){var t=e.dataTransfer,n=Kn(t);n&&o.beginDragNativeItem(n,t)}})),qn(this,"handleTopDragEnter",(function(e){var t=o.dragEnterTargetIds;(o.dragEnterTargetIds=[],o.monitor.isDragging())&&(o.altKeyPressed=e.altKey,t.length>0&&o.actions.hover(t,{clientOffset:Pn(e)}),t.some((function(e){return o.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())))})),qn(this,"handleTopDragOverCapture",(function(){o.dragOverTargetIds=[]})),qn(this,"handleTopDragOver",(function(e){var t=o.dragOverTargetIds;if(o.dragOverTargetIds=[],!o.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));o.altKeyPressed=e.altKey,o.lastClientOffset=Pn(e),null===o.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(o.hoverRafId=requestAnimationFrame((function(){o.monitor.isDragging()&&o.actions.hover(t||[],{clientOffset:o.lastClientOffset}),o.hoverRafId=null}))),(t||[]).some((function(e){return o.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())):o.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),qn(this,"handleTopDragLeaveCapture",(function(e){o.isDraggingNativeItem()&&e.preventDefault(),o.enterLeaveCounter.leave(e.target)&&o.isDraggingNativeItem()&&setTimeout((function(){return o.endDragNativeItem()}),0)})),qn(this,"handleTopDropCapture",(function(e){var t;(o.dropTargetIds=[],o.isDraggingNativeItem())?(e.preventDefault(),null===(t=o.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Kn(e.dataTransfer)&&e.preventDefault();o.enterLeaveCounter.reset()})),qn(this,"handleTopDrop",(function(e){var t=o.dropTargetIds;o.dropTargetIds=[],o.actions.hover(t,{clientOffset:Pn(e)}),o.actions.drop({dropEffect:o.getCurrentDropEffect()}),o.isDraggingNativeItem()?o.endDragNativeItem():o.monitor.isDragging()&&o.actions.endDrag()})),qn(this,"handleSelectStart",(function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new Gn(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Tn(this.isNodeInDocument)}var t,n,o;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Xn({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return Xn({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new Un(zn[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&$n(t.prototype,n),o&&$n(t,o),e}(),Zn=function(e,t,n){return new Qn(e,t,n)};function Jn(e,t){return function(n){return e(t(n))}}function er(e,t){return t(e)}function tr(e,t){return function(n){return e(t,n)}}function nr(e,t){return function(){return e(t)}}function rr(e){return function(t){return t[e]}}function or(e,t){return t(e),e}function ir(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function ar(e){e()}function sr(e){return function(){return e}}function cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.map(ar)}}function ur(){}function lr(e,t){return e(1,t)}function dr(e,t){e(0,t)}function fr(e){e(2)}function hr(e){return e(4)}function pr(e,t){return lr(e,tr(t,0))}function gr(e,t){var n=e(1,(function(e){n(),t(e)}));return n}function vr(){var e=[];return function(t,n){switch(t){case 2:return void e.splice(0,e.length);case 1:return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)};case 0:return void e.slice().forEach((function(e){e(n)}));default:throw new Error("unrecognized action "+t)}}}function mr(e){var t=e,n=vr();return function(e,r){switch(e){case 1:r(t);break;case 0:t=r;break;case 4:return t}return n(e,r)}}function yr(e){return or(vr(),(function(t){return pr(e,t)}))}function br(e,t){return or(mr(t),(function(t){return pr(e,t)}))}function Ir(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(er,e)}}function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Ir.apply(void 0,n);return function(t,n){switch(t){case 1:return lr(e,o(n));case 2:return void fr(e);default:throw new Error("unrecognized action "+t)}}}function Sr(e,t){return e===t}function Tr(e){var t;return void 0===e&&(e=Sr),function(n){return function(r){e(t,r)||(t=r,n(r))}}}function Cr(e){return function(t){return function(n){e(n)&&t(n)}}}function Dr(e){return function(t){return Jn(t,e)}}function xr(e){return function(t){return function(){return t(e)}}}function Or(e,t){return function(n){return function(r){return n(t=e(t,r))}}}function Er(e){return function(t){return function(n){e>0?e--:t(n)}}}function kr(e){var t,n;return function(r){return function(o){t=o,n||(n=setTimeout((function(){n=void 0,r(t)}),e))}}}function Pr(e){var t,n;return function(r){return function(o){t=o,n&&clearTimeout(n),n=setTimeout((function(){r(t)}),e)}}}function Rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Array(t.length),o=0,i=null,a=Math.pow(2,t.length)-1;return t.forEach((function(e,t){var n=Math.pow(2,t);lr(e,(function(e){var s=o;o|=n,r[t]=e,s!==a&&o===a&&i&&(i(),i=null)}))})),function(e){return function(t){var n=function(){return e([t].concat(r))};o===a?n():i=n}}}function Nr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){switch(e){case 1:return cr.apply(void 0,t.map((function(e){return lr(e,n)})));case 2:return;default:throw new Error("unrecognized action "+e)}}}function jr(e,t){return void 0===t&&(t=Sr),wr(e,Tr(t))}function Mr(){for(var e=vr(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=new Array(n.length),i=0,a=Math.pow(2,n.length)-1;return n.forEach((function(t,n){var r=Math.pow(2,n);lr(t,(function(t){o[n]=t,(i|=r)===a&&dr(e,o)}))})),function(t,n){switch(t){case 1:return i===a&&n(o),lr(e,n);case 2:return fr(e);default:throw new Error("unrecognized action "+t)}}}function Hr(e,t,n){void 0===t&&(t=[]);var r=(void 0===n?{singleton:!0}:n).singleton;return{id:_r(),constructor:e,dependencies:t,singleton:r}}var _r=function(){return Symbol()};function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Br(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var zr=["children"];var Ar="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function Fr(e,t,n){var r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),c=(0,o.createContext)({});function u(e,n){e.propsReady&&dr(e.propsReady,!1);for(var o,a=Br(r);!(o=a()).done;){var s=o.value;dr(e[t.required[s]],n[s])}for(var c,u=Br(i);!(c=u()).done;){var l=c.value;if(l in n)dr(e[t.optional[l]],n[l])}e.propsReady&&dr(e.propsReady,!0)}function l(e){return s.reduce((function(n,r){var o,i,a,s;return n[r]=(o=e[t.events[r]],s=function(){return i&&i()},function(e,t){switch(e){case 1:if(t){if(a===t)return;return s(),a=t,i=lr(o,t)}return s(),ur;case 2:return s(),void(a=null);default:throw new Error("unrecognized action "+e)}}),n}),{})}var d=(0,o.forwardRef)((function(d,f){var h=d.children,p=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(d,zr),g=(0,o.useState)((function(){return or(function(e){var t=new Map;return function e(n){var r=n.id,o=n.constructor,i=n.dependencies,a=n.singleton;if(a&&t.has(r))return t.get(r);var s=o(i.map((function(t){return e(t)})));return a&&t.set(r,s),s}(e)}(e),(function(e){return u(e,p)}))})),v=g[0],m=(0,o.useState)(nr(l,v))[0];return Ar((function(){for(var e,t=Br(s);!(e=t()).done;){var n=e.value;n in p&&lr(m[n],p[n])}return function(){Object.values(m).map(fr)}}),[p,m,v]),Ar((function(){u(v,p)})),(0,o.useImperativeHandle)(f,sr(function(e){return a.reduce((function(n,r){return n[r]=function(n){dr(e[t.methods[r]],n)},n}),{})}(v))),(0,o.createElement)(c.Provider,{value:v},n?(0,o.createElement)(n,function(e,t){for(var n={},r={},o=0,i=e.length;o<i;)r[e[o]]=1,o+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}([].concat(r,i,s),p),h):h)}));return{Component:d,usePublisher:function(e){return(0,o.useCallback)(tr(dr,(0,o.useContext)(c)[e]),[e])},useEmitterValue:function(e){var t=(0,o.useContext)(c)[e],n=(0,o.useState)(nr(hr,t)),r=n[0],i=n[1];return Ar((function(){return lr(t,(function(e){e!==r&&i(sr(e))}))}),[t,r]),r},useEmitter:function(e,t){var n=(0,o.useContext)(c)[e];Ar((function(){return lr(n,t)}),[t,n])}}}function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}function Kr(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gr(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function Yr(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}var Xr,$r,qr,Qr=Hr((function(){var e=vr(),t=vr(),n=mr(0),r=vr(),o=mr(0),i=vr(),a=vr(),s=mr(0),c=mr(0),u=vr(),l=vr(),d=mr(!1);return pr(wr(e,Dr((function(e){return e[0]}))),t),pr(wr(e,Dr((function(e){return e[1]}))),a),pr(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,footerHeight:c,scrollHeight:a,smoothScrollTargetReached:r,scrollTo:u,scrollBy:l,statefulScrollTop:o,deviation:n,scrollingInProgress:d}}),[],{singleton:!0});(qr=$r||($r={}))[qr.DEBUG=0]="DEBUG",qr[qr.INFO=1]="INFO",qr[qr.WARN=2]="WARN",qr[qr.ERROR=3]="ERROR";var Zr=((Xr={})[$r.DEBUG]="debug",Xr[$r.INFO]="log",Xr[$r.WARN]="warn",Xr[$r.ERROR]="error",Xr),Jr=Hr((function(){var e=mr($r.ERROR);return{log:mr((function(t,n,r){var o;void 0===r&&(r=$r.INFO),r>=(null!=(o=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:hr(e))&&console[Zr[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)})),logLevel:e}}),[],{singleton:!0}),eo=Hr((function(e){var t=e[0].log,n=mr(!1),r=yr(wr(n,Cr((function(e){return e})),Tr()));return lr(n,(function(e){e&&hr(t)("props updated",{},$r.DEBUG)})),{propsReady:n,didMount:r}}),ir(Jr),{singleton:!0}),to="up",no={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},ro=Hr((function(e){var t=e[0],n=t.scrollContainerState,r=t.scrollTop,o=t.viewportHeight,i=t.headerHeight,a=t.footerHeight,s=t.scrollBy,c=mr(!1),u=mr(!0),l=vr(),d=vr(),f=mr(4),h=yr(wr(Nr(wr(jr(r),Er(1),xr(!0)),wr(jr(r),Er(1),xr(!1),Pr(100))),Tr())),p=br(wr(Nr(wr(s,xr(!0)),wr(s,xr(!1),Pr(200))),Tr()),!1);pr(wr(jr(r),Dr((function(e){return 0===e})),Tr()),u),pr(u,d);var g=yr(wr(Mr(n,jr(o),jr(i),jr(a),jr(f)),Or((function(e,t){var n,r,o=t[0],i=o[0],a=o[1],s=t[1],c={viewportHeight:s,scrollTop:i,scrollHeight:a};return i+s-a>-t[4]?(i>e.state.scrollTop?(n="SCROLLED_DOWN",r=e.state.scrollTop-i):(n="SIZE_DECREASED",r=e.state.scrollTop-i||e.scrollTopDelta),{atBottom:!0,state:c,atBottomBecause:n,scrollTopDelta:r}):{atBottom:!1,notAtBottomBecause:c.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":s<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":i<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:c}}),no),Tr((function(e,t){return e&&e.atBottom===t.atBottom})))),v=br(wr(n,Or((function(e,t){var n=t[0],r=t[1];return e.scrollHeight!==r?e.scrollTop!==n?{scrollHeight:r,scrollTop:n,jump:e.scrollTop-n,changed:!0}:{scrollHeight:r,scrollTop:n,jump:0,changed:!0}:{scrollTop:n,scrollHeight:r,jump:0,changed:!1}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Cr((function(e){return e.changed})),Dr((function(e){return e.jump}))),0);pr(wr(g,Dr((function(e){return e.atBottom}))),c),pr(wr(c,kr(50)),l);var m=mr("down");pr(wr(n,Dr((function(e){return e[0]})),Tr(),Or((function(e,t){return hr(p)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?to:"down",prevScrollTop:t}}),{direction:"down",prevScrollTop:0}),Dr((function(e){return e.direction}))),m),pr(wr(n,kr(50),xr("none")),m);var y=mr(0);return pr(wr(h,Cr((function(e){return!e})),xr(0)),y),pr(wr(r,kr(100),Rr(h),Cr((function(e){return!!e[1]})),Or((function(e,t){return[e[1],t[0]]}),[0,0]),Dr((function(e){return e[1]-e[0]}))),y),{isScrolling:h,isAtTop:u,isAtBottom:c,atBottomState:g,atTopStateChange:d,atBottomStateChange:l,scrollDirection:m,atBottomThreshold:f,scrollVelocity:y,lastJumpDueToItemResize:v}}),ir(Qr)),oo=Hr((function(e){var t=e[0].scrollVelocity,n=mr(!1),r=vr(),o=mr(!1);return pr(wr(t,Rr(o,n,r),Cr((function(e){return!!e[1]})),Dr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=n.enter;if(r){if((0,n.exit)(t,o))return!1}else if(i(t,o))return!0;return r})),Tr()),n),lr(wr(Mr(n,t,r),Rr(o)),(function(e){var t=e[0],n=e[1];return t[0]&&n&&n.change&&n.change(t[1],t[2])})),{isSeeking:n,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:r}}),ir(ro),{singleton:!0}),io={lvl:0};function ao(e,t,n,r,o){return void 0===r&&(r=io),void 0===o&&(o=io),{k:e,v:t,lvl:n,l:r,r:o}}function so(e){return e===io}function co(){return io}function uo(e,t){if(so(e))return io;var n=e.k,r=e.l,o=e.r;if(t===n){if(so(r))return o;if(so(o))return r;var i=go(r);return bo(mo(e,{k:i[0],v:i[1],l:vo(r)}))}return bo(mo(e,t<n?{l:uo(r,t)}:{r:uo(o,t)}))}function lo(e,t,n){if(void 0===n&&(n="k"),so(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var r=lo(e.r,t,n);return-1/0===r[0]?[e.k,e.v]:r}return lo(e.l,t,n)}function fo(e,t,n){return so(e)?ao(t,n,1):t===e.k?mo(e,{k:t,v:n}):function(e){return So(To(e))}(mo(e,t<e.k?{l:fo(e.l,t,n)}:{r:fo(e.r,t,n)}))}function ho(e,t,n){if(so(e))return[];var r=e.k,o=e.v,i=e.r,a=[];return r>t&&(a=a.concat(ho(e.l,t,n))),r>=t&&r<=n&&a.push({k:r,v:o}),r<=n&&(a=a.concat(ho(i,t,n))),a}function po(e){return so(e)?[]:[].concat(po(e.l),[{k:e.k,v:e.v}],po(e.r))}function go(e){return so(e.r)?[e.k,e.v]:go(e.r)}function vo(e){return so(e.r)?e.l:bo(mo(e,{r:vo(e.r)}))}function mo(e,t){return ao(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function yo(e){return so(e)||e.lvl>e.r.lvl}function bo(e){var t=e.l,n=e.r,r=e.lvl;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(yo(t))return To(mo(e,{lvl:r-1}));if(so(t)||so(t.r))throw new Error("Unexpected empty nodes");return mo(t.r,{l:mo(t,{r:t.r.l}),r:mo(e,{l:t.r.r,lvl:r-1}),lvl:r})}if(yo(e))return So(mo(e,{lvl:r-1}));if(so(n)||so(n.l))throw new Error("Unexpected empty nodes");var o=n.l,i=yo(o)?n.lvl-1:n.lvl;return mo(o,{l:mo(e,{r:o.l,lvl:r-1}),r:So(mo(n,{l:o.r,lvl:i})),lvl:o.lvl+1})}function Io(e,t,n){return so(e)?[]:wo(ho(e,lo(e,t)[0],n),(function(e){return{index:e.k,value:e.v}}))}function wo(e,t){var n=e.length;if(0===n)return[];for(var r=t(e[0]),o=r.index,i=r.value,a=[],s=1;s<n;s++){var c=t(e[s]),u=c.index,l=c.value;a.push({start:o,end:u-1,value:i}),o=u,i=l}return a.push({start:o,end:1/0,value:i}),a}function So(e){var t=e.r,n=e.lvl;return so(t)||so(t.r)||t.lvl!==n||t.r.lvl!==n?e:mo(t,{l:mo(e,{r:t.l}),lvl:n+1})}function To(e){var t=e.l;return so(t)||t.lvl!==e.lvl?e:mo(t,{r:mo(e,{l:t.r})})}function Co(e,t,n,r){void 0===r&&(r=0);for(var o=e.length-1;r<=o;){var i=Math.floor((r+o)/2),a=n(e[i],t);if(0===a)return i;if(-1===a){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function Do(e,t,n){return e[Co(e,t,n)]}function xo(e,t){return Math.round(e.getBoundingClientRect()[t])}function Oo(e){var t=e.size,n=e.startIndex,r=e.endIndex;return function(e){return e.start===n&&(e.end===r||1/0===e.end)&&e.value===t}}function Eo(e,t){var n=e.index;return t===n?0:t<n?-1:1}function ko(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function Po(e){return{index:e.index,value:e}}function Ro(e,t,n){var r=e,o=0,i=0,a=0,s=0;if(0!==t){a=r[s=Co(r,t-1,Eo)].offset;var c=lo(n,t-1);o=c[0],i=c[1],r.length&&r[s].size===lo(n,t)[1]&&(s-=1),r=r.slice(0,s+1)}else r=[];for(var u,l=Wr(Io(n,t,1/0));!(u=l()).done;){var d=u.value,f=d.start,h=d.value,p=(f-o)*i+a;r.push({offset:p,size:h,index:f}),o=f,a=p,i=h}return{offsetTree:r,lastIndex:o,lastOffset:a,lastSize:i}}function No(e,t){var n=t[0],r=t[1];n.length>0&&(0,t[2])("received item sizes",n,$r.DEBUG);var o=e.sizeTree,i=o,a=0;if(r.length>0&&so(o)&&2===n.length){var s=n[0].size,c=n[1].size;i=r.reduce((function(e,t){return fo(fo(e,t,s),t+1,c)}),i)}else{var u=function(e,t){for(var n,r=so(e)?0:1/0,o=Wr(t);!(n=o()).done;){var i=n.value,a=i.size,s=i.startIndex,c=i.endIndex;if(r=Math.min(r,s),so(e))e=fo(e,0,a);else{var u=Io(e,s-1,c+1);if(!u.some(Oo(i))){for(var l,d=!1,f=!1,h=Wr(u);!(l=h()).done;){var p=l.value,g=p.start,v=p.end,m=p.value;d?(c>=g||a===m)&&(e=uo(e,g)):(f=m!==a,d=!0),v>c&&c>=g&&m!==a&&(e=fo(e,c+1,m))}f&&(e=fo(e,s,a))}}}return[e,r]}(i,n);i=u[0],a=u[1]}if(i===o)return e;var l=Ro(e.offsetTree,a,i),d=l.offsetTree;return{sizeTree:i,offsetTree:d,lastIndex:l.lastIndex,lastOffset:l.lastOffset,lastSize:l.lastSize,groupOffsetTree:r.reduce((function(e,t){return fo(e,t,jo(t,d))}),co()),groupIndices:r}}function jo(e,t){if(0===t.length)return 0;var n=Do(t,e,Eo);return n.size*(e-n.index)+n.offset}function Mo(e,t){if(!Ho(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function Ho(e){return!so(e.groupOffsetTree)}var _o={offsetHeight:"height",offsetWidth:"width"},Lo=Hr((function(e){var t=e[0].log,n=vr(),r=vr(),o=br(r,0),i=vr(),a=vr(),s=mr(0),c=mr([]),u=mr(void 0),l=mr(void 0),d=mr((function(e,t){return xo(e,_o[t])})),f=mr(void 0),h={offsetTree:[],sizeTree:co(),groupOffsetTree:co(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},p=br(wr(n,Rr(c,t),Or(No,h),Tr()),h);pr(wr(c,Cr((function(e){return e.length>0})),Rr(p),Dr((function(e){var t=e[0],n=e[1],r=t.reduce((function(e,t,r){return fo(e,t,jo(t,n.offsetTree)||r)}),co());return Ur({},n,{groupIndices:t,groupOffsetTree:r})}))),p),pr(wr(r,Rr(p),Cr((function(e){return e[0]<e[1].lastIndex})),Dr((function(e){var t=e[1];return[{startIndex:e[0],endIndex:t.lastIndex,size:t.lastSize}]}))),n),pr(u,l);var g=br(wr(u,Dr((function(e){return void 0===e}))),!0);pr(wr(l,Cr((function(e){return void 0!==e&&so(hr(p).sizeTree)})),Dr((function(e){return[{startIndex:0,endIndex:0,size:e}]}))),n);var v=yr(wr(n,Rr(p),Or((function(e,t){var n=t[1];return{changed:n!==e.sizes,sizes:n}}),{changed:!1,sizes:h}),Dr((function(e){return e.changed}))));lr(wr(s,Or((function(e,t){return{diff:e.prev-t,prev:t}}),{diff:0,prev:0}),Dr((function(e){return e.diff}))),(function(e){e>0?dr(i,e):e<0&&dr(a,e)})),lr(wr(s,Rr(t)),(function(e){e[0]<0&&(0,e[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},$r.ERROR)}));var m=yr(i);pr(wr(i,Rr(p),Dr((function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return po(n.sizeTree).reduce((function(e,n){var r=n.k,o=n.v;return{ranges:[].concat(e.ranges,[{startIndex:e.prevIndex,endIndex:r+t-1,size:e.prevSize}]),prevIndex:r+t,prevSize:o}}),{ranges:[],prevIndex:0,prevSize:n.lastSize}).ranges}))),n);var y=yr(wr(a,Rr(p),Dr((function(e){return jo(-e[0],e[1].offsetTree)}))));return pr(wr(a,Rr(p),Dr((function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var r=po(n.sizeTree).reduce((function(e,n){var r=n.v;return fo(e,Math.max(0,n.k+t),r)}),co());return Ur({},n,{sizeTree:r},Ro(n.offsetTree,0,r))}))),p),{data:f,totalCount:r,sizeRanges:n,groupIndices:c,defaultItemSize:l,fixedItemSize:u,unshiftWith:i,shiftWith:a,shiftWithOffset:y,beforeUnshiftWith:m,firstItemIndex:s,sizes:p,listRefresh:v,statefulTotalCount:o,trackItemSizes:g,itemSize:d}}),ir(Jr),{singleton:!0}),Bo="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function zo(e){var t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Bo||(t.behavior="auto"),t.offset||(t.offset=0),t}var Ao=Hr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=t.listRefresh,i=e[1],a=i.scrollingInProgress,s=i.viewportHeight,c=i.scrollTo,u=i.smoothScrollTargetReached,l=i.headerHeight,d=i.footerHeight,f=e[2].log,h=vr(),p=mr(0),g=null,v=null,m=null;function y(){g&&(g(),g=null),m&&(m(),m=null),v&&(clearTimeout(v),v=null),dr(a,!1)}return pr(wr(h,Rr(n,s,r,p,l,d,f),Dr((function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],c=e[5],l=e[6],d=e[7],f=zo(t),p=f.align,b=f.behavior,I=f.offset,w=i-1,S=f.index;"LAST"===S&&(S=w),S=Mo(S,n);var T=jo(S=Math.max(0,S,Math.min(w,S)),n.offsetTree)+c;"end"===p?(T=T-r+lo(n.sizeTree,S)[1],S===w&&(T+=l)):"center"===p?T=T-r/2+lo(n.sizeTree,S)[1]/2:T-=s,I&&(T+=I);var C=function(e){y(),e?(d("retrying to scroll to",{location:t},$r.DEBUG),dr(h,t)):d("list did not change, scroll successful",{},$r.DEBUG)};if(y(),"smooth"===b){var D=!1;m=lr(o,(function(e){D=D||e})),g=gr(u,(function(){C(D)}))}else g=gr(wr(o,(function(e){var t=setTimeout((function(){e(!1)}),50);return function(n){n&&(e(!0),clearTimeout(t))}})),C);return v=setTimeout((function(){y()}),1200),dr(a,!0),d("scrolling from index to",{index:S,top:T,behavior:b},$r.DEBUG),{top:T,behavior:b}}))),c),{scrollToIndex:h,topListHeight:p}}),ir(Lo,Qr,Jr),{singleton:!0});function Fo(e,t,n){return"number"==typeof e?n===to&&"top"===t||"down"===n&&"bottom"===t?e:0:n===to?"top"===t?e.main:e.reverse:"bottom"===t?e.main:e.reverse}function Uo(e,t){return"number"==typeof e?e:e[t]||0}var Ko=Hr((function(e){var t=e[0],n=t.scrollTop,r=t.viewportHeight,o=t.deviation,i=t.headerHeight,a=vr(),s=mr(0),c=mr(0),u=mr(0),l=mr(0),d=br(wr(Mr(jr(n),jr(r),jr(i),jr(a,Gr),jr(l),jr(s),jr(c),jr(o),jr(u)),Dr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=o[0],a=o[1],s=e[4],c=e[6],u=e[7],l=e[8],d=t-u,f=e[5]+c,h=Math.max(r-d,0),p="none",g=Uo(l,"top"),v=Uo(l,"bottom");return i-=u,a+=r+c,(i+=r+c)>t+f-g&&(p=to),(a-=u)<t-h+n+v&&(p="down"),"none"!==p?[Math.max(d-r-Fo(s,"top",p)-g,0),d-h-c+n+Fo(s,"bottom",p)+v]:null})),Cr((function(e){return null!=e})),Tr(Gr)),[0,0]);return{listBoundary:a,overscan:l,topListHeight:s,fixedHeaderHeight:c,increaseViewportBy:u,visibleRange:d}}),ir(Qr),{singleton:!0}),Vo=Hr((function(e){var t=e[0],n=t.scrollTo,r=t.scrollContainerState,o=vr(),i=vr(),a=vr(),s=mr(!1),c=mr(void 0);return pr(wr(Mr(o,i),Dr((function(e){var t=e[0],n=t[1];return[Math.max(0,t[0]-e[1].offsetTop),n]}))),r),pr(wr(n,Rr(i),Dr((function(e){var t=e[0];return Ur({},t,{top:t.top+e[1].offsetTop})}))),a),{useWindowScroll:s,customScrollParent:c,windowScrollContainerState:o,windowViewportRect:i,windowScrollTo:a}}),ir(Qr)),Wo={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Go={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Yo=Math.round,Xo=Math.ceil,$o=Math.floor,qo=Math.min,Qo=Math.max;function Zo(e,t){return Array.from({length:t-e+1}).map((function(t,n){return{index:n+e}}))}var Jo=Hr((function(e){var t=e[0],n=t.overscan,r=t.visibleRange,o=t.listBoundary,i=e[1],a=i.scrollTop,s=i.viewportHeight,c=i.scrollBy,u=i.scrollTo,l=i.smoothScrollTargetReached,d=i.scrollContainerState,f=e[2],h=e[3],p=e[4],g=p.propsReady,v=p.didMount,m=e[5],y=m.windowViewportRect,b=m.windowScrollTo,I=m.useWindowScroll,w=m.customScrollParent,S=m.windowScrollContainerState,T=mr(0),C=mr(0),D=mr(Wo),x=mr({height:0,width:0}),O=mr({height:0,width:0}),E=vr(),k=vr(),P=mr(0);pr(wr(v,Rr(C),Cr((function(e){return 0!==e[1]})),Dr((function(e){return{items:Zo(0,e[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}}))),D),pr(wr(Mr(jr(T),r,jr(O,(function(e,t){return e&&e.width===t.width&&e.height===t.height}))),Rr(x),Dr((function(e){var t=e[0],n=t[0],r=t[1],o=r[0],i=r[1],a=t[2],s=e[1],c=a.height,u=a.width,l=s.width;if(0===n||0===l)return Wo;if(0===u)return Go;var d=ni(l,u),f=d*$o(o/c),h=d*Xo(i/c)-1;h=qo(n-1,h);var p=Zo(f=qo(h,Qo(0,f)),h),g=ei(s,a,p),v=g.top,m=g.bottom;return{items:p,offsetTop:v,offsetBottom:Xo(n/d)*c-m,top:v,bottom:m,itemHeight:c,itemWidth:u}}))),D),pr(wr(x,Dr((function(e){return e.height}))),s),pr(wr(Mr(x,O,D),Dr((function(e){var t=ei(e[0],e[1],e[2].items);return[t.top,t.bottom]})),Tr(Gr)),o);var R=yr(wr(jr(D),Cr((function(e){return e.items.length>0})),Rr(T),Cr((function(e){var t=e[0].items;return t[t.length-1].index===e[1]-1})),Dr((function(e){return e[1]-1})),Tr())),N=yr(wr(jr(D),Cr((function(e){var t=e.items;return t.length>0&&0===t[0].index})),xr(0),Tr())),j=yr(wr(jr(D),Cr((function(e){return e.items.length>0})),Dr((function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}})),Tr(Yr)));pr(j,h.scrollSeekRangeChanged),pr(wr(E,Rr(x,O,T),Dr((function(e){var t=e[1],n=e[2],r=e[3],o=zo(e[0]),i=o.align,a=o.behavior,s=o.offset,c=o.index;"LAST"===c&&(c=r-1);var u=ti(t,n,c=Qo(0,c,qo(r-1,c)));return"end"===i?u=Yo(u-t.height+n.height):"center"===i&&(u=Yo(u-t.height/2+n.height/2)),s&&(u+=s),{top:u,behavior:a}}))),u);var M=br(wr(D,Dr((function(e){return e.offsetBottom+e.bottom}))),0);return pr(wr(y,Dr((function(e){return{width:e.visibleWidth,height:e.visibleHeight}}))),x),Ur({totalCount:T,viewportDimensions:x,itemDimensions:O,scrollTop:a,scrollHeight:k,overscan:n,scrollBy:c,scrollTo:u,scrollToIndex:E,smoothScrollTargetReached:l,windowViewportRect:y,windowScrollTo:b,useWindowScroll:I,customScrollParent:w,windowScrollContainerState:S,deviation:P,scrollContainerState:d,initialItemCount:C},h,{gridState:D,totalListHeight:M},f,{startReached:N,endReached:R,rangeChanged:j,propsReady:g})}),ir(Ko,Qr,ro,oo,eo,Vo));function ei(e,t,n){var r=t.height;return void 0===r||0===n.length?{top:0,bottom:0}:{top:ti(e,t,n[0].index),bottom:ti(e,t,n[n.length-1].index)+r}}function ti(e,t,n){var r=ni(e.width,t.width);return $o(n/r)*t.height}function ni(e,t){return Qo(1,$o(e/t))}function ri(e,t){void 0===t&&(t=!0);var n=(0,o.useRef)(null),r=function(e){};if("undefined"!=typeof ResizeObserver){var i=new ResizeObserver((function(t){var n=t[0].target;null!==n.offsetParent&&e(n)}));r=function(e){e&&t?(i.observe(e),n.current=e):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function oi(e,t){return void 0===t&&(t=!0),ri(e,t).callbackRef}function ii(e,t){var n=(0,o.useRef)(null),r=(0,o.useCallback)((function(r){if(null!==r){var o,i,a=r.getBoundingClientRect(),s=a.width;if(t){var c=t.getBoundingClientRect(),u=a.top-c.top;o=c.height-Math.max(0,u),i=u+t.scrollTop}else o=window.innerHeight-Math.max(0,a.top),i=a.top+window.pageYOffset;n.current={offsetTop:i,visibleHeight:o,visibleWidth:s},e(n.current)}}),[e,t]),i=ri(r),a=i.callbackRef,s=i.ref,c=(0,o.useCallback)((function(){r(s.current)}),[r,s]);return(0,o.useEffect)((function(){if(t){t.addEventListener("scroll",c);var e=new ResizeObserver(c);return e.observe(t),function(){t.removeEventListener("scroll",c),e.unobserve(t)}}return window.addEventListener("scroll",c),window.addEventListener("resize",c),function(){window.removeEventListener("scroll",c),window.removeEventListener("resize",c)}}),[c,t]),a}var ai="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function si(e,t,n,r,o,i){return oi((function(n){for(var a=function(e,t,n,r){var o=e.length;if(0===o)return null;for(var i=[],a=0;a<o;a++){var s=e.item(a);if(s&&void 0!==s.dataset.index){var c=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),l=t(s,"offsetHeight");if(0===l&&r("Zero-sized element, this should not happen",{child:s},$r.ERROR),l!==u){var d=i[i.length-1];0===i.length||d.size!==l||d.endIndex!==c-1?i.push({startIndex:c,endIndex:c,size:l}):i[i.length-1].endIndex++}}}return i}(n.children,t,0,o),s=n.parentElement;!s.dataset.virtuosoScroller;)s=s.parentElement;var c=i?i.scrollTop:"window"===s.firstElementChild.dataset.viewportType?window.pageYOffset||document.documentElement.scrollTop:s.scrollTop;r(i?[Math.max(c,0),i.scrollHeight]:[Math.max(c,0),s.scrollHeight]),null!==a&&e(a)}),n)}function ci(e,t,n,r,i){void 0===r&&(r=ur);var a=(0,o.useRef)(null),s=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,o.useCallback)((function(n){var r=n.target,o=r===window||r===document?window.pageYOffset||document.documentElement.scrollTop:r.scrollTop,i=r===window?document.documentElement.scrollHeight:r.scrollHeight;e([Math.max(o,0),i]),null!==s.current&&(o===s.current||o<=0||o===r.scrollHeight-xo(r,"height"))&&(s.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))}),[e,t]);return(0,o.useEffect)((function(){var e=i||a.current;return r(i||a.current),u({target:e}),e.addEventListener("scroll",u,{passive:!0}),function(){r(null),e.removeEventListener("scroll",u)}}),[a,u,n,r,i]),{scrollerRef:a,scrollByCallback:function(e){null===s.current&&a.current.scrollBy(e)},scrollToCallback:function(n){var r=a.current;if(r&&(!("offsetHeight"in r)||0!==r.offsetHeight)){var o,i,u,l="smooth"===n.behavior;if(r===window?(i=Math.max(xo(document.documentElement,"height"),document.documentElement.scrollHeight),o=window.innerHeight,u=document.documentElement.scrollTop):(i=r.scrollHeight,o=xo(r,"height"),u=r.scrollTop),n.top=Math.ceil(Math.max(Math.min(i-o,n.top),0)),Math.abs(o-i)<1.01||n.top===u)return e([u,i]),void(l&&t(!0));l?(s.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout((function(){c.current=null,s.current=null,t(!0)}),1e3)):s.current=null,r.scrollTo(n)}}}}var ui=Hr((function(e){var t=e[0],n=t.sizes,r=t.listRefresh,o=t.defaultItemSize,i=e[1].scrollTop,a=e[2].scrollToIndex,s=e[3].didMount,c=mr(!0),u=mr(0);return pr(wr(s,Rr(u),Cr((function(e){return!!e[1]})),xr(!1)),c),lr(wr(Mr(r,s),Rr(c,n,o),Cr((function(e){var t=e[1],n=e[3];return e[0][1]&&(!so(e[2].sizeTree)||void 0!==n)&&!t})),Rr(u)),(function(e){var t=e[1];setTimeout((function(){gr(i,(function(){dr(c,!0)})),dr(a,t)}))})),{scrolledToInitialItem:c,initialTopMostItemIndex:u}}),ir(Lo,Qr,Ao,eo),{singleton:!0});function li(e){return!!e&&("smooth"===e?"smooth":"auto")}var di=Hr((function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,o=e[1],i=o.isAtBottom,a=o.atBottomState,s=e[2].scrollToIndex,c=e[3].scrolledToInitialItem,u=e[4],l=u.propsReady,d=u.didMount,f=e[5].log,h=e[6].scrollingInProgress,p=mr(!1),g=null;function v(e){dr(s,{index:"LAST",align:"end",behavior:e})}return lr(wr(Mr(wr(jr(n),Er(1)),d),Rr(jr(p),i,c,h),Dr((function(e){var t=e[0],n=t[0],r=t[1]&&e[3],o="auto";return r&&(o=function(e,t){return"function"==typeof e?li(e(t)):t&&li(e)}(e[1],e[2]||e[4]),r=r&&!!o),{totalCount:n,shouldFollow:r,followOutputBehavior:o}})),Cr((function(e){return e.shouldFollow}))),(function(e){var t=e.totalCount,n=e.followOutputBehavior;g&&(g(),g=null),g=gr(r,(function(){hr(f)("following output to ",{totalCount:t},$r.DEBUG),v(n),g=null}))})),lr(wr(Mr(jr(p),n,l),Cr((function(e){return e[0]&&e[2]})),Or((function(e,t){var n=t[1];return{refreshed:e.value===n,value:n}}),{refreshed:!1,value:0}),Cr((function(e){return e.refreshed})),Rr(p,n)),(function(e){var t=e[1],n=gr(a,(function(e){!t||e.atBottom||"SIZE_INCREASED"!==e.notAtBottomBecause||g||(hr(f)("scrolling to bottom due to increased size",{},$r.DEBUG),v("auto"))}));setTimeout(n,100)})),lr(Mr(jr(p),a),(function(e){var t=e[1];e[0]&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&v("auto")})),{followOutput:p}}),ir(Lo,ro,Ao,ui,eo,Jr,Qr));function fi(e){return e.reduce((function(e,t){return e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e}),{totalCount:0,groupIndices:[]})}var hi=Hr((function(e){var t=e[0],n=t.totalCount,r=t.groupIndices,o=t.sizes,i=e[1],a=i.scrollTop,s=i.headerHeight,c=vr(),u=vr(),l=yr(wr(c,Dr(fi)));return pr(wr(l,Dr(rr("totalCount"))),n),pr(wr(l,Dr(rr("groupIndices"))),r),pr(wr(Mr(a,o,s),Cr((function(e){return Ho(e[1])})),Dr((function(e){return lo(e[1].groupOffsetTree,Math.max(e[0]-e[2],0),"v")[0]})),Tr(),Dr((function(e){return[e]}))),u),{groupCounts:c,topItemsIndexes:u}}),ir(Lo,Qr)),pi={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0};function gi(e,t,n){if(0===e.length)return[];if(!Ho(t))return e.map((function(e){return Ur({},e,{index:e.index+n,originalIndex:e.index})}));for(var r,o=[],i=Io(t.groupOffsetTree,e[0].index,e[e.length-1].index),a=void 0,s=0,c=Wr(e);!(r=c()).done;){var u=r.value;(!a||a.end<u.index)&&(a=i.shift(),s=t.groupIndices.indexOf(a.start)),o.push(Ur({},u.index===a.start?{type:"group",index:s}:{index:u.index-(s+1)+n,groupIndex:s},{size:u.size,offset:u.offset,originalIndex:u.index,data:u.data}))}return o}function vi(e,t,n,r,o){var i=0,a=0;if(e.length>0){i=e[0].offset;var s=e[e.length-1];a=s.offset+s.size}var c=i,u=r.lastOffset+(n-r.lastIndex)*r.lastSize-a;return{items:gi(e,r,o),topItems:gi(t,r,o),topListHeight:t.reduce((function(e,t){return t.size+e}),0),offsetTop:i,offsetBottom:u,top:c,bottom:a,totalCount:n}}var mi,yi,bi,Ii=Hr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=t.data,i=t.firstItemIndex,a=e[1],s=e[2],c=s.visibleRange,u=s.listBoundary,l=s.topListHeight,d=e[3],f=d.scrolledToInitialItem,h=d.initialTopMostItemIndex,p=e[4].topListHeight,g=e[5],v=e[6].didMount,m=mr([]),y=vr();pr(a.topItemsIndexes,m);var b=br(wr(Mr(v,jr(c),jr(r),jr(n),jr(h),f,jr(m),jr(i),o),Cr((function(e){return e[0]})),Dr((function(e){var t=e[1],n=t[0],r=t[1],o=e[2],i=e[4],a=e[5],s=e[6],c=e[7],u=e[8],l=e[3],d=l.sizeTree,f=l.offsetTree;if(0===o||0===n&&0===r)return pi;if(so(d))return vi(function(e,t,n){if(Ho(t)){var r=Mo(e,t);return[{index:lo(t.groupOffsetTree,r)[0],size:0,offset:0},{index:r,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}(function(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}(i,o),l,u),[],o,l,c);var h=[];if(s.length>0)for(var p,g=s[0],v=s[s.length-1],m=0,y=Wr(Io(d,g,v));!(p=y()).done;)for(var b=p.value,I=b.value,w=Math.max(b.start,g),S=Math.min(b.end,v),T=w;T<=S;T++)h.push({index:T,size:I,offset:m,data:u&&u[T]}),m+=I;if(!a)return vi([],h,o,l,c);var C=s.length>0?s[s.length-1]+1:0,D=function(e,t,n,r){return void 0===r&&(r=0),r>0&&(t=Math.max(t,Do(e,r,Eo).offset)),wo((i=n,s=Co(o=e,t,a=ko),c=Co(o,i,a,s),o.slice(s,c+1)),Po);var o,i,a,s,c}(f,n,r,C);if(0===D.length)return null;var x=o-1;return vi(or([],(function(e){for(var t,o=Wr(D);!(t=o()).done;){var i=t.value,a=i.value,s=a.offset,c=i.start,l=a.size;a.offset<n&&(s+=((c+=Math.floor((n-a.offset)/l))-i.start)*l),c<C&&(s+=(C-c)*l,c=C);for(var d=Math.min(i.end,x),f=c;f<=d&&!(s>=r);f++)e.push({index:f,size:l,offset:s,data:u&&u[f]}),s+=l}})),h,o,l,c)})),Cr((function(e){return null!==e})),Tr()),pi);return pr(wr(o,Cr((function(e){return void 0!==e})),Dr((function(e){return e.length}))),r),pr(wr(b,Dr(rr("topListHeight"))),p),pr(p,l),pr(wr(b,Dr((function(e){return[e.top,e.bottom]}))),u),pr(wr(b,Dr((function(e){return e.items}))),y),Ur({listState:b,topItemsIndexes:m,endReached:yr(wr(b,Cr((function(e){return e.items.length>0})),Rr(r,o),Cr((function(e){var t=e[0].items;return t[t.length-1].originalIndex===e[1]-1})),Dr((function(e){return[e[1]-1,e[2]]})),Tr(Gr),Dr((function(e){return e[0]})))),startReached:yr(wr(b,kr(200),Cr((function(e){var t=e.items;return t.length>0&&t[0].originalIndex===e.topItems.length})),Dr((function(e){return e.items[0].index})),Tr())),rangeChanged:yr(wr(b,Cr((function(e){return e.items.length>0})),Dr((function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}})),Tr(Yr))),itemsRendered:y},g)}),ir(Lo,hi,Ko,ui,Ao,ro,eo),{singleton:!0}),wi=Hr((function(e){var t=e[0],n=t.sizes,r=t.firstItemIndex,o=t.data,i=e[1].listState,a=e[2].didMount,s=mr(0);return pr(wr(a,Rr(s),Cr((function(e){return 0!==e[1]})),Rr(n,r,o),Dr((function(e){var t=e[0][1],n=e[1],r=e[2],o=e[3],i=void 0===o?[]:o,a=0;if(n.groupIndices.length>0)for(var s,c=Wr(n.groupIndices);!((s=c()).done||s.value-a>=t);)a++;var u=t+a;return vi(Array.from({length:u}).map((function(e,t){return{index:t,size:0,offset:0,data:i[t]}})),[],u,n,r)}))),i),{initialItemCount:s}}),ir(Lo,Ii,eo),{singleton:!0}),Si=Hr((function(e){var t=e[0].topItemsIndexes,n=mr(0);return pr(wr(n,Cr((function(e){return e>0})),Dr((function(e){return Array.from({length:e}).map((function(e,t){return t}))}))),t),{topItemCount:n}}),ir(Ii)),Ti=Hr((function(e){var t=e[0],n=t.footerHeight,r=t.headerHeight,o=e[1].listState,i=vr(),a=br(wr(Mr(n,r,o),Dr((function(e){var t=e[2];return e[0]+e[1]+t.offsetBottom+t.bottom}))),0);return pr(jr(a),i),{totalListHeight:a,totalListHeightChanged:i}}),ir(Qr,Ii),{singleton:!0}),Ci=Hr((function(e){var t=e[0],n=t.scrollBy,r=t.scrollTop,o=t.deviation,i=t.scrollingInProgress,a=e[1],s=a.isScrolling,c=a.isAtBottom,u=a.atBottomState,l=a.scrollDirection,d=e[3],f=d.beforeUnshiftWith,h=d.shiftWithOffset,p=d.sizes,g=e[4].log,v=yr(wr(e[2].listState,Rr(a.lastJumpDueToItemResize),Or((function(e,t){var n=e[1],r=t[0],o=r.items,i=r.totalCount,a=t[1],s=0;if(e[2]===i){if(n.length>0&&o.length>0){var c=1===o.length;if(0!==o[0].originalIndex||0!==n[0].originalIndex)for(var u=function(e){var t=o[e],r=n.find((function(e){return e.originalIndex===t.originalIndex}));return r?t.offset!==r.offset||c?(s=t.offset-r.offset+t.size-r.size,"break"):void 0:"continue"},l=o.length-1;l>=0;l--){var d=u(l);if("continue"!==d&&"break"===d)break}}0!==s&&(s+=a)}return[s,o,i]}),[0,[],0]),Cr((function(e){return 0!==e[0]})),Rr(r,l,i,g,c,u),Cr((function(e){return!e[3]&&0!==e[1]&&e[2]===to})),Dr((function(e){var t=e[0][0];return(0,e[4])("Upward scrolling compensation",{amount:t},$r.DEBUG),t}))));return pr(wr(v,Rr(o),Dr((function(e){return e[1]-e[0]}))),o),lr(wr(Mr(br(s,!1),o),Cr((function(e){return!e[0]&&0!==e[1]})),Dr((function(e){return e[1]})),kr(1)),(function(e){e>0?(dr(n,{top:-e,behavior:"auto"}),dr(o,0)):(dr(o,0),dr(n,{top:-e,behavior:"auto"}))})),pr(wr(h,Dr((function(e){return{top:-e}}))),n),pr(wr(f,Rr(p),Dr((function(e){return e[0]*e[1].lastSize}))),v),{deviation:o}}),ir(Qr,ro,Ii,Lo,Jr)),Di=Hr((function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,o=mr(0);return lr(wr(n,Rr(o),Cr((function(e){return 0!==e[1]})),Dr((function(e){return{top:e[1]}}))),(function(e){gr(wr(t,Cr((function(e){return 0!==e}))),(function(){setTimeout((function(){dr(r,e)}))}))})),{initialScrollTop:o}}),ir(Ti,eo,Qr),{singleton:!0}),xi=Hr((function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=mr(!1);return{alignToBottom:r,paddingTopAddition:br(wr(Mr(r,t,n),Cr((function(e){return e[0]})),Dr((function(e){return Math.max(0,e[1]-e[2])})),Tr()),0)}}),ir(Qr,Ti),{singleton:!0}),Oi=Hr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=e[1],i=o.scrollTop,a=o.viewportHeight,s=o.headerHeight,c=o.scrollingInProgress,u=e[2].scrollToIndex,l=vr();return pr(wr(l,Rr(n,a,r,s,i),Dr((function(e){var t=e[0],n=t.index,r=t.behavior,o=void 0===r?"auto":r,i=t.done,a=e[1],s=e[2],u=e[4],l=e[5],d=e[3]-1,f=null;n=Mo(n,a);var h=jo(n=Math.max(0,n,Math.min(d,n)),a.offsetTree)+u;return h<l?f={index:n,behavior:o,align:"start"}:h+lo(a.sizeTree,n)[1]>l+s&&(f={index:n,behavior:o,align:"end"}),f?i&&gr(wr(c,Er(1),Cr((function(e){return!1===e}))),i):i&&i(),f})),Cr((function(e){return null!==e}))),u),{scrollIntoView:l}}),ir(Lo,Qr,Ao,Ii,Jr),{singleton:!0}),Ei=["listState","topItemsIndexes"],ki=Hr((function(e){return Ur({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}),ir(Ko,wi,eo,oo,Ti,Di,xi,Vo,Oi)),Pi=Hr((function(e){var t=e[0],n=t.totalCount,r=t.sizeRanges,o=t.fixedItemSize,i=t.defaultItemSize,a=t.trackItemSizes,s=t.itemSize,c=t.data,u=t.firstItemIndex,l=t.groupIndices,d=t.statefulTotalCount,f=e[1],h=f.initialTopMostItemIndex,p=f.scrolledToInitialItem,g=e[2],v=e[3],m=e[4],y=m.listState,b=m.topItemsIndexes,I=Kr(m,Ei),w=e[5].scrollToIndex,S=e[7].topItemCount,T=e[8].groupCounts,C=e[9],D=e[10];return pr(I.rangeChanged,C.scrollSeekRangeChanged),pr(wr(C.windowViewportRect,Dr(rr("visibleHeight"))),g.viewportHeight),Ur({totalCount:n,data:c,firstItemIndex:u,sizeRanges:r,initialTopMostItemIndex:h,scrolledToInitialItem:p,topItemsIndexes:b,topItemCount:S,groupCounts:T,fixedItemHeight:o,defaultItemHeight:i},v,{statefulTotalCount:d,listState:y,scrollToIndex:w,trackItemSizes:a,itemSize:s,groupIndices:l},I,C,g,D)}),ir(Lo,ui,Qr,di,Ii,Ao,Ci,Si,hi,ki,Jr)),Ri=(mi=function(){if("undefined"==typeof document)return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky","-webkit-sticky"===e.style.position?"-webkit-sticky":"sticky"},bi=!1,function(){return bi||(bi=!0,yi=mi()),yi}),Ni=["placeholder"],ji=["style","children"],Mi=["style","children"];function Hi(e){return e}var _i=Hr((function(){var e=mr((function(e){return"Item "+e})),t=mr(null),n=mr((function(e){return"Group "+e})),r=mr({}),o=mr(Hi),i=mr("div"),a=mr(ur),s=function(e,t){return void 0===t&&(t=null),br(wr(r,Dr((function(t){return t[e]})),Tr()),t)};return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:o,headerFooterTag:i,scrollerRef:a,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}));function Li(e,t){var n=vr();return lr(n,(function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")})),pr(n,e),n}var Bi=Hr((function(e){var t=e[0],n=e[1],r={item:Li(n.itemContent,"Rename the %citem%c prop to %citemContent."),group:Li(n.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:Li(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:Li(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:Li(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:vr(),maxHeightCacheSize:vr(),footer:vr(),header:vr(),HeaderContainer:vr(),FooterContainer:vr(),ItemContainer:vr(),ScrollContainer:vr(),GroupContainer:vr(),ListContainer:vr(),emptyComponent:vr(),scrollSeek:vr()};function o(e,t,r){pr(wr(e,Rr(n.components),Dr((function(e){var n,o=e[0],i=e[1];return console.warn("react-virtuoso: "+r+" property is deprecated. Pass components."+t+" instead."),Ur({},i,((n={})[t]=o,n))}))),n.components)}return lr(r.adjustForPrependedItems,(function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")})),lr(r.maxHeightCacheSize,(function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")})),lr(r.HeaderContainer,(function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")})),lr(r.FooterContainer,(function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")})),lr(r.scrollSeek,(function(e){var r=e.placeholder,o=Kr(e,Ni);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),dr(n.components,Ur({},hr(n.components),{ScrollSeekPlaceholder:r})),dr(t.scrollSeekConfiguration,o)})),o(r.footer,"Footer","footer"),o(r.header,"Header","header"),o(r.ItemContainer,"Item","ItemContainer"),o(r.ListContainer,"List","ListContainer"),o(r.ScrollContainer,"Scroller","ScrollContainer"),o(r.emptyComponent,"EmptyPlaceholder","emptyComponent"),o(r.GroupContainer,"Group","GroupContainer"),Ur({},t,n,r)}),ir(Pi,_i)),zi=function(e){return o.createElement("div",{style:{height:e.height}})},Ai={position:Ri(),zIndex:1,overflowAnchor:"none"},Fi=o.memo((function(e){var t=e.showTopList,n=void 0!==t&&t,r=na("listState"),i=na("deviation"),a=ta("sizeRanges"),s=na("useWindowScroll"),c=na("customScrollParent"),u=ta("windowScrollContainerState"),l=ta("scrollContainerState"),d=c||s?u:l,f=na("itemContent"),h=na("context"),p=na("groupContent"),g=na("trackItemSizes"),v=si(a,na("itemSize"),g,n?ur:d,na("log"),c),m=na("EmptyPlaceholder"),y=na("ScrollSeekPlaceholder")||zi,b=na("ListComponent"),I=na("ItemComponent"),w=na("GroupComponent"),S=na("computeItemKey"),T=na("isSeeking"),C=na("groupIndices").length>0,D=na("paddingTopAddition"),x=na("firstItemIndex"),O=na("statefulTotalCount"),E=n?{}:{boxSizing:"border-box",paddingTop:r.offsetTop+D,paddingBottom:r.offsetBottom,marginTop:i};return!n&&0===O&&m?(0,o.createElement)(m,Wi(m,h)):(0,o.createElement)(b,Ur({},Wi(b,h),{ref:v,style:E,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?r.topItems:r.items).map((function(e){var t=e.originalIndex,n=S(t+x,e.data,h);return T?(0,o.createElement)(y,Ur({},Wi(y,h),{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?(0,o.createElement)(w,Ur({},Wi(w,h),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:Ai}),p(e.index)):(0,o.createElement)(I,Ur({},Wi(I,h),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:{overflowAnchor:"none"}}),C?f(e.index,e.groupIndex,e.data,h):f(e.index,e.data,h))})))})),Ui={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ki={width:"100%",height:"100%",position:"absolute",top:0},Vi={width:"100%",position:Ri(),top:0};function Wi(e,t){if("string"!=typeof e)return{context:t}}var Gi=o.memo((function(){var e=na("HeaderComponent"),t=ta("headerHeight"),n=na("headerFooterTag"),r=oi((function(e){return t(xo(e,"height"))})),i=na("context");return e?(0,o.createElement)(n,{ref:r},(0,o.createElement)(e,Wi(e,i))):null})),Yi=o.memo((function(){var e=na("FooterComponent"),t=ta("footerHeight"),n=na("headerFooterTag"),r=oi((function(e){return t(xo(e,"height"))})),i=na("context");return e?(0,o.createElement)(n,{ref:r},(0,o.createElement)(e,Wi(e,i))):null}));function Xi(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return o.memo((function(e){var i=e.style,a=e.children,s=Kr(e,ji),c=t("scrollContainerState"),u=r("ScrollerComponent"),l=t("smoothScrollTargetReached"),d=r("scrollerRef"),f=r("context"),h=ci(c,l,u,d),p=h.scrollerRef,g=h.scrollByCallback;return n("scrollTo",h.scrollToCallback),n("scrollBy",g),(0,o.createElement)(u,Ur({ref:p,style:Ur({},Ui,i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},s,Wi(u,f)),a)}))}function $i(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return o.memo((function(e){var i=e.style,a=e.children,s=Kr(e,Mi),c=t("windowScrollContainerState"),u=r("ScrollerComponent"),l=t("smoothScrollTargetReached"),d=r("totalListHeight"),f=r("deviation"),h=r("customScrollParent"),p=r("context"),g=ci(c,l,u,ur,h),v=g.scrollerRef,m=g.scrollByCallback,y=g.scrollToCallback;return ai((function(){return v.current=h||window,function(){v.current=null}}),[v,h]),n("windowScrollTo",y),n("scrollBy",m),(0,o.createElement)(u,Ur({style:Ur({position:"relative"},i,0!==d?{height:d+f}:{}),"data-virtuoso-scroller":!0},s,Wi(u,p)),a)}))}var qi=function(e){var t=e.children,n=oi(Jn(ta("viewportHeight"),(function(e){return xo(e,"height")})));return o.createElement("div",{style:Ki,ref:n,"data-viewport-type":"element"},t)},Qi=function(e){var t=e.children,n=ii(ta("windowViewportRect"),na("customScrollParent"));return o.createElement("div",{ref:n,style:Ki,"data-viewport-type":"window"},t)},Zi=function(e){var t=e.children,n=na("TopItemListComponent"),r=na("headerHeight"),i=Ur({},Vi,{marginTop:r+"px"}),a=na("context");return(0,o.createElement)(n||"div",{style:i,context:a},t)},Ji=Fr(Bi,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo((function(e){var t=na("useWindowScroll"),n=na("topItemsIndexes").length>0,r=na("customScrollParent"),i=r||t?Qi:qi;return o.createElement(r||t?ia:oa,Ur({},e),o.createElement(i,null,o.createElement(Gi,null),o.createElement(Fi,null),o.createElement(Yi,null)),n&&o.createElement(Zi,null,o.createElement(Fi,{showTopList:!0})))}))),ea=Ji.Component,ta=Ji.usePublisher,na=Ji.useEmitterValue,ra=Ji.useEmitter,oa=Xi({usePublisher:ta,useEmitterValue:na,useEmitter:ra}),ia=$i({usePublisher:ta,useEmitterValue:na,useEmitter:ra}),aa=["placeholder"],sa=Hr((function(){var e=mr((function(e){return"Item "+e})),t=mr({}),n=mr(null),r=mr("virtuoso-grid-item"),o=mr("virtuoso-grid-list"),i=mr(Hi),a=mr(ur),s=function(e,n){return void 0===n&&(n=null),br(wr(t,Dr((function(t){return t[e]})),Tr()),n)};return{context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:r,listClassName:o,scrollerRef:a,ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}})),ca=Hr((function(e){var t=e[0],n=e[1],r={item:Li(n.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:vr(),ScrollContainer:vr(),ListContainer:vr(),emptyComponent:vr(),scrollSeek:vr()};function o(e,t,r){pr(wr(e,Rr(n.components),Dr((function(e){var n,o=e[0],i=e[1];return console.warn("react-virtuoso: "+r+" property is deprecated. Pass components."+t+" instead."),Ur({},i,((n={})[t]=o,n))}))),n.components)}return lr(r.scrollSeek,(function(e){var r=e.placeholder,o=Kr(e,aa);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),dr(n.components,Ur({},hr(n.components),{ScrollSeekPlaceholder:r})),dr(t.scrollSeekConfiguration,o)})),o(r.ItemContainer,"Item","ItemContainer"),o(r.ListContainer,"List","ListContainer"),o(r.ScrollContainer,"Scroller","ScrollContainer"),Ur({},t,n,r)}),ir(Jo,sa)),ua=o.memo((function(){var e=pa("gridState"),t=pa("listClassName"),n=pa("itemClassName"),r=pa("itemContent"),i=pa("computeItemKey"),a=pa("isSeeking"),s=ha("scrollHeight"),c=pa("ItemComponent"),u=pa("ListComponent"),l=pa("ScrollSeekPlaceholder"),d=pa("context"),f=ha("itemDimensions"),h=oi((function(e){s(e.parentElement.parentElement.scrollHeight);var t=e.firstChild;t&&f(t.getBoundingClientRect())}));return(0,o.createElement)(u,Ur({ref:h,className:t},Wi(u,d),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map((function(t){var s=i(t.index);return a?(0,o.createElement)(l,Ur({key:s},Wi(l,d),{index:t.index,height:e.itemHeight,width:e.itemWidth})):(0,o.createElement)(c,Ur({},Wi(c,d),{className:n,"data-index":t.index,key:s}),r(t.index,d))})))})),la=function(e){var t=e.children,n=ha("viewportDimensions"),r=oi((function(e){n(e.getBoundingClientRect())}));return o.createElement("div",{style:Ki,ref:r},t)},da=function(e){var t=e.children,n=ii(ha("windowViewportRect"),pa("customScrollParent"));return o.createElement("div",{ref:n,style:Ki},t)},fa=Fr(ca,{optional:{totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},o.memo((function(e){var t=Ur({},e),n=pa("useWindowScroll"),r=pa("customScrollParent"),i=r||n?da:la;return o.createElement(r||n?ma:va,Ur({},t),o.createElement(i,null,o.createElement(ua,null)))}))),ha=(fa.Component,fa.usePublisher),pa=fa.useEmitterValue,ga=fa.useEmitter,va=Xi({usePublisher:ha,useEmitterValue:pa,useEmitter:ga}),ma=$i({usePublisher:ha,useEmitterValue:pa,useEmitter:ga}),ya=Hr((function(){var e=mr((function(e){return o.createElement("td",null,"Item $",e)})),t=mr(null),n=mr(null),r=mr({}),i=mr(Hi),a=mr(ur),s=function(e,t){return void 0===t&&(t=null),br(wr(r,Dr((function(t){return t[e]})),Tr()),t)};return{context:t,itemContent:e,fixedHeaderContent:n,components:r,computeItemKey:i,scrollerRef:a,TableComponent:s("Table","table"),TableHeadComponent:s("TableHead","thead"),TableBodyComponent:s("TableBody","tbody"),TableRowComponent:s("TableRow","tr"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}})),ba=Hr((function(e){return Ur({},e[0],e[1])}),ir(Pi,ya)),Ia=function(e){return o.createElement("tr",null,o.createElement("td",{style:{height:e.height}}))},wa=function(e){return o.createElement("tr",null,o.createElement("td",{style:{height:e.height,padding:0,border:0}}))},Sa=o.memo((function(){var e=Oa("listState"),t=Oa("deviation"),n=xa("sizeRanges"),r=Oa("useWindowScroll"),i=Oa("customScrollParent"),a=xa("windowScrollContainerState"),s=xa("scrollContainerState"),c=i||r?a:s,u=Oa("itemContent"),l=Oa("trackItemSizes"),d=si(n,Oa("itemSize"),l,c,Oa("log"),i),f=Oa("EmptyPlaceholder"),h=Oa("ScrollSeekPlaceholder")||Ia,p=Oa("TableBodyComponent"),g=Oa("TableRowComponent"),v=Oa("computeItemKey"),m=Oa("isSeeking"),y=Oa("paddingTopAddition"),b=Oa("firstItemIndex"),I=Oa("statefulTotalCount"),w=Oa("context");if(0===I&&f)return(0,o.createElement)(f,Wi(f,w));var S=e.offsetTop+y+t,T=e.offsetBottom,C=S>0?o.createElement(wa,{height:S,key:"padding-top"}):null,D=T>0?o.createElement(wa,{height:T,key:"padding-bottom"}):null,x=e.items.map((function(e){var t=e.originalIndex,n=v(t+b,e.data,w);return m?(0,o.createElement)(h,Ur({},Wi(h,w),{key:n,index:e.index,height:e.size,type:e.type||"item"})):(0,o.createElement)(g,Ur({},Wi(g,w),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:{overflowAnchor:"none"}}),u(e.index,e.data,w))}));return(0,o.createElement)(p,Ur({ref:d,"data-test-id":"virtuoso-item-list"},Wi(p,w)),[C].concat(x,[D]))})),Ta=function(e){var t=e.children,n=oi(Jn(xa("viewportHeight"),(function(e){return xo(e,"height")})));return o.createElement("div",{style:Ki,ref:n,"data-viewport-type":"element"},t)},Ca=function(e){var t=e.children,n=ii(xa("windowViewportRect"),Oa("customScrollParent"));return o.createElement("div",{ref:n,style:Ki,"data-viewport-type":"window"},t)},Da=Fr(ba,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo((function(e){var t=Oa("useWindowScroll"),n=Oa("customScrollParent"),r=xa("fixedHeaderHeight"),i=Oa("fixedHeaderContent"),a=Oa("context"),s=oi(Jn(r,(function(e){return xo(e,"height")}))),c=n||t?Pa:ka,u=n||t?Ca:Ta,l=Oa("TableComponent"),d=Oa("TableHeadComponent"),f=i?o.createElement(d,Ur({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:s},Wi(d,a)),i()):null;return o.createElement(c,Ur({},e),o.createElement(u,null,o.createElement(l,Ur({style:{borderSpacing:0}},Wi(l,a)),[f,o.createElement(Sa,{key:"TableBody"})])))}))),xa=(Da.Component,Da.usePublisher),Oa=Da.useEmitterValue,Ea=Da.useEmitter,ka=Xi({usePublisher:xa,useEmitterValue:Oa,useEmitter:Ea}),Pa=$i({usePublisher:xa,useEmitterValue:Oa,useEmitter:Ea}),Ra=ea;const Na=e=>"string"==typeof e?e:void 0===e||"object"!=typeof e||!e.props||!e.props.children||"string"!=typeof e.props.children&&"object"!=typeof e.props.children?"":"string"==typeof e.props.children?e.props.children:e.props.children.map((e=>Na(e))).join(""),ja=(e,t,n,r,o)=>"function"==typeof n[e]?String(n[e]({node:n,path:r,treeIndex:o})).includes(t):"object"==typeof n[e]?Na(n[e]).includes(t):n[e]&&String(n[e]).includes(t),Ma=({node:e,path:t,treeIndex:n,searchQuery:r})=>ja("title",r,e,t,n)||ja("subtitle",r,e,t,n);var Ha=Object.defineProperty,_a=Object.defineProperties,La=Object.getOwnPropertyDescriptors,Ba=Object.getOwnPropertySymbols,za=Object.prototype.hasOwnProperty,Aa=Object.prototype.propertyIsEnumerable,Fa=(e,t,n)=>t in e?Ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ua=(e,t)=>{for(var n in t||(t={}))za.call(t,n)&&Fa(e,n,t[n]);if(Ba)for(var n of Ba(t))Aa.call(t,n)&&Fa(e,n,t[n]);return e},Ka=(e,t)=>_a(e,La(t));const Va=({targetIndex:e,node:t,currentIndex:n,getNodeKey:r,path:o=[],lowerSiblingCounts:i=[],ignoreCollapsed:a=!0,isPseudoRoot:s=!1})=>{const c=s?[]:[...o,r({node:t,treeIndex:n})];if(n===e)return{node:t,lowerSiblingCounts:i,path:c};if(!t.children||a&&!0!==t.expanded)return{nextIndex:n+1};let u=n+1;const l=t.children.length;for(let d=0;d<l;d+=1){const n=Va({ignoreCollapsed:a,getNodeKey:r,targetIndex:e,node:t.children[d],currentIndex:u,lowerSiblingCounts:[...i,l-d-1],path:c});if(n.node)return n;u=n.nextIndex}return{nextIndex:u}},Wa=({node:e,ignoreCollapsed:t=!0})=>Va({getNodeKey:()=>{},ignoreCollapsed:t,node:e,currentIndex:0,targetIndex:-1}).nextIndex-1,Ga=({callback:e,getNodeKey:t,ignoreCollapsed:n,isPseudoRoot:r=!1,node:o,parentNode:i,currentIndex:a,path:s=[],lowerSiblingCounts:c=[]})=>{const u=r?[]:[...s,t({node:o,treeIndex:a})];if(!r){if(!1===e(r?void 0:{node:o,parentNode:i,path:u,lowerSiblingCounts:c,treeIndex:a}))return!1}if(!o.children||!0!==o.expanded&&n&&!r)return a;let l=a;const d=o.children.length;if("function"!=typeof o.children)for(let f=0;f<d;f+=1)if(l=Ga({callback:e,getNodeKey:t,ignoreCollapsed:n,node:o.children[f],parentNode:r?void 0:o,currentIndex:l+1,lowerSiblingCounts:[...c,d-f-1],path:u}),!1===l)return!1;return l},Ya=({callback:e,getNodeKey:t,ignoreCollapsed:n,isPseudoRoot:r=!1,node:o,parentNode:i,currentIndex:a,path:s=[],lowerSiblingCounts:c=[]})=>{const u=Ua({},o),l=r?[]:[...s,t({node:u,treeIndex:a})],d={node:u,parentNode:i,path:l,lowerSiblingCounts:c,treeIndex:a};if(!u.children||!0!==u.expanded&&n&&!r)return{treeIndex:a,node:e(d)};let f=a;const h=u.children.length;return"function"!=typeof u.children&&(u.children=u.children.map(((o,i)=>{const a=Ya({callback:e,getNodeKey:t,ignoreCollapsed:n,node:o,parentNode:r?void 0:u,currentIndex:f+1,lowerSiblingCounts:[...c,h-i-1],path:l});return f=a.treeIndex,a.node}))),{node:e(d),treeIndex:f}},Xa=({treeData:e,getNodeKey:t,callback:n,ignoreCollapsed:r=!0})=>{e&&0!==e.length&&Ga({callback:n,getNodeKey:t,ignoreCollapsed:r,isPseudoRoot:!0,node:{children:e},currentIndex:-1,path:[],lowerSiblingCounts:[]})},$a=({treeData:e,getNodeKey:t,callback:n,ignoreCollapsed:r=!0})=>e&&0!==e.length?Ya({callback:n,getNodeKey:t,ignoreCollapsed:r,isPseudoRoot:!0,node:{children:e},currentIndex:-1,path:[],lowerSiblingCounts:[]}).node.children:[],qa=({treeData:e,expanded:t=!0})=>$a({treeData:e,callback:({node:e})=>Ka(Ua({},e),{expanded:t}),getNodeKey:({treeIndex:e})=>e,ignoreCollapsed:!1}),Qa=({treeData:e,path:t,newNode:n,getNodeKey:r,ignoreCollapsed:o=!0})=>{const i="RESULT_MISS",a=({isPseudoRoot:e=!1,node:s,currentTreeIndex:c,pathIndex:u})=>{if(!e&&r({node:s,treeIndex:c})!==t[u])return i;if(u>=t.length-1)return"function"==typeof n?n({node:s,treeIndex:c}):n;if(!s.children)throw new Error("Path referenced children of node with no children.");let l=c+1;for(let t=0;t<s.children.length;t+=1){const e=a({node:s.children[t],currentTreeIndex:l,pathIndex:u+1});if(e!==i)return Ka(Ua({},s),e?{children:[...s.children.slice(0,t),e,...s.children.slice(t+1)]}:{children:[...s.children.slice(0,t),...s.children.slice(t+1)]});l+=1+Wa({node:s.children[t],ignoreCollapsed:o})}return i},s=a({node:{children:e},currentTreeIndex:-1,pathIndex:-1,isPseudoRoot:!0});if(s===i)throw new Error("No node found at the given path.");return s.children},Za=({targetDepth:e,minimumTreeIndex:t,newNode:n,ignoreCollapsed:r,expandParent:o,isPseudoRoot:i=!1,isLastChild:a,node:s,currentIndex:c,currentDepth:u,getNodeKey:l,path:d=[]})=>{const f=e=>i?[]:[...d,l({node:e,treeIndex:c})];if(c>=t-1||a&&!(s.children&&s.children.length>0)){if("function"==typeof s.children)throw new TypeError("Cannot add to children defined by a function");{const e=o?{expanded:!0}:{},t=Ka(Ua(Ua({},s),e),{children:s.children?[n,...s.children]:[n]});return{node:t,nextIndex:c+2,insertedTreeIndex:c+1,parentPath:f(t),parentNode:i?void 0:t}}}if(u>=e-1){if(!s.children||"function"==typeof s.children||!0!==s.expanded&&r&&!i)return{node:s,nextIndex:c+1};let e,o,u=c+1;for(let n=0;n<s.children.length;n+=1){if(u>=t){e=u,o=n;break}u+=1+Wa({node:s.children[n],ignoreCollapsed:r})}if(null==o){if(u<t&&!a)return{node:s,nextIndex:u};e=u,o=s.children.length}const l=Ka(Ua({},s),{children:[...s.children.slice(0,o),n,...s.children.slice(o)]});return{node:l,nextIndex:u,insertedTreeIndex:e,parentPath:f(l),parentNode:i?void 0:l}}if(!s.children||"function"==typeof s.children||!0!==s.expanded&&r&&!i)return{node:s,nextIndex:c+1};let h,p,g,v=c+1,m=s.children;"function"!=typeof m&&(m=m.map(((i,s)=>{if(null!=h)return i;const c=Za({targetDepth:e,minimumTreeIndex:t,newNode:n,ignoreCollapsed:r,expandParent:o,isLastChild:a&&s===m.length-1,node:i,currentIndex:v,currentDepth:u+1,getNodeKey:l,path:[]});return"insertedTreeIndex"in c&&({insertedTreeIndex:h,parentNode:g,parentPath:p}=c),v=c.nextIndex,c.node})));const y=Ka(Ua({},s),{children:m}),b={node:y,nextIndex:v};return null!=h&&(b.insertedTreeIndex=h,b.parentPath=[...f(y),...p],b.parentNode=g),b},Ja=({treeData:e,depth:t,minimumTreeIndex:n,newNode:r,getNodeKey:o,ignoreCollapsed:i=!0,expandParent:a=!1})=>{if(!e&&0===t)return{treeData:[r],treeIndex:0,path:[o({node:r,treeIndex:0})],parentNode:void 0};const s=Za({targetDepth:t,minimumTreeIndex:n,newNode:r,ignoreCollapsed:i,expandParent:a,getNodeKey:o,isPseudoRoot:!0,isLastChild:!0,node:{children:e},currentIndex:-1,currentDepth:-1});if(!("insertedTreeIndex"in s))throw new Error("No suitable position found to insert.");const c=s.insertedTreeIndex;return{treeData:s.node.children,treeIndex:c,path:[...s.parentPath,o({node:r,treeIndex:c})],parentNode:s.parentNode}},es=(e,t)=>!!e.children&&"function"!=typeof e.children&&e.children.some((e=>e===t||es(e,t))),ts=(e,t=0)=>e.children?"function"==typeof e.children?t+1:e.children.reduce(((e,n)=>Math.max(e,ts(n,t+1))),t):t,ns=(...e)=>e.filter(Boolean).join(" ");var rs=Object.defineProperty,os=Object.getOwnPropertySymbols,is=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable,ss=(e,t,n)=>t in e?rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cs=(e,t)=>{for(var n in t||(t={}))is.call(t,n)&&ss(e,n,t[n]);if(os)for(var n of os(t))as.call(t,n)&&ss(e,n,t[n]);return e};const us={isSearchMatch:!1,isSearchFocus:!1,canDrag:!1,toggleChildrenVisibility:void 0,buttons:[],className:"",style:{},parentNode:void 0,draggedNode:void 0,canDrop:!1,title:void 0,subtitle:void 0,rowDirection:"ltr"};var ls=function(e){const t=e=cs(cs({},us),e),{scaffoldBlockPxWidth:n,toggleChildrenVisibility:r,connectDragPreview:i,connectDragSource:a,isDragging:s,canDrop:c,canDrag:u,node:l,title:d,subtitle:f,draggedNode:h,path:p,treeIndex:g,isSearchMatch:v,isSearchFocus:m,buttons:y,className:b,style:I,didDrop:w,treeId:S,isOver:T,parentNode:C,rowDirection:D}=t,x=((e,t)=>{var n={};for(var r in e)is.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&os)for(var r of os(e))t.indexOf(r)<0&&as.call(e,r)&&(n[r]=e[r]);return n})(t,["scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","node","title","subtitle","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","buttons","className","style","didDrop","treeId","isOver","parentNode","rowDirection"]),O=d||l.title,E=f||l.subtitle,k="rtl"===D?"rst__rtl":void 0;let P;u&&(P="function"==typeof l.children&&l.expanded?o.createElement("div",{className:"rst__loadingHandle"},o.createElement("div",{className:"rst__loadingCircle"},[...Array.from({length:12})].map(((e,t)=>o.createElement("div",{key:t,className:ns("rst__loadingCirclePoint",k??"")}))))):a(o.createElement("div",{className:"rst__moveHandle"}),{dropEffect:"copy"}));const R=h&&es(h,l),N=!w&&s;let j={left:-.5*n,right:0};return"rtl"===D&&(j={right:-.5*n,left:0}),o.createElement("div",cs({style:{height:"100%"}},x),r&&l.children&&(l.children.length>0||"function"==typeof l.children)&&o.createElement("div",null,o.createElement("button",{type:"button","aria-label":l.expanded?"Collapse":"Expand",className:ns(l.expanded?"rst__collapseButton":"rst__expandButton",k??""),style:j,onClick:()=>r({node:l,path:p,treeIndex:g})}),l.expanded&&!s&&o.createElement("div",{style:{width:n},className:ns("rst__lineChildren",k??"")})),o.createElement("div",{className:ns("rst__rowWrapper",k??"")},i(o.createElement("div",{className:ns("rst__row",N?"rst__rowLandingPad":"",N&&!c?"rst__rowCancelPad":"",v?"rst__rowSearchMatch":"",m?"rst__rowSearchFocus":"",k??"",b??""),style:cs({opacity:R?.5:1},I)},P,o.createElement("div",{className:ns("rst__rowContents",u?"":"rst__rowContentsDragDisabled",k??"")},o.createElement("div",{className:ns("rst__rowLabel",k??"")},o.createElement("span",{className:ns("rst__rowTitle",l.subtitle?"rst__rowTitleWithSubtitle":"")},"function"==typeof O?O({node:l,path:p,treeIndex:g}):O),E&&o.createElement("span",{className:"rst__rowSubtitle"},"function"==typeof E?E({node:l,path:p,treeIndex:g}):E)),o.createElement("div",{className:"rst__rowToolbar"},null==y?void 0:y.map(((e,t)=>o.createElement("div",{key:t,className:"rst__toolbarButton"},e)))))))))},ds=Object.defineProperty,fs=Object.getOwnPropertySymbols,hs=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable,gs=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vs=(e,t)=>{for(var n in t||(t={}))hs.call(t,n)&&gs(e,n,t[n]);if(fs)for(var n of fs(t))ps.call(t,n)&&gs(e,n,t[n]);return e};const ms={isOver:!1,canDrop:!1};var ys=function(e){e=vs(vs({},ms),e);const{canDrop:t,isOver:n}=e;return o.createElement("div",{className:ns("rst__placeholder",t?"rst__placeholderLandingPad":"",t&&!n?"rst__placeholderCancelPad":"")})},bs=Object.defineProperty,Is=Object.defineProperties,ws=Object.getOwnPropertyDescriptors,Ss=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,Cs=Object.prototype.propertyIsEnumerable,Ds=(e,t,n)=>t in e?bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xs=(e,t)=>{for(var n in t||(t={}))Ts.call(t,n)&&Ds(e,n,t[n]);if(Ss)for(var n of Ss(t))Cs.call(t,n)&&Ds(e,n,t[n]);return e};const Os={swapFrom:void 0,swapDepth:void 0,swapLength:void 0,canDrop:!1,draggedNode:void 0,rowDirection:"ltr"};class Es extends o.Component{render(){const e=xs(xs({},Os),this.props),{children:t,listIndex:n,swapFrom:r,swapLength:i,swapDepth:a,scaffoldBlockPxWidth:s,lowerSiblingCounts:c,connectDropTarget:u,isOver:l,draggedNode:d,canDrop:f,treeIndex:h,rowHeight:p,treeId:g,getPrevRow:v,node:m,path:y,rowDirection:b}=e,I=((e,t)=>{var n={};for(var r in e)Ts.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ss)for(var r of Ss(e))t.indexOf(r)<0&&Cs.call(e,r)&&(n[r]=e[r]);return n})(e,["children","listIndex","swapFrom","swapLength","swapDepth","scaffoldBlockPxWidth","lowerSiblingCounts","connectDropTarget","isOver","draggedNode","canDrop","treeIndex","rowHeight","treeId","getPrevRow","node","path","rowDirection"]),w="rtl"===b?"rst__rtl":void 0,S=c.length,T=[];for(const[E,k]of c.entries()){let e="";if(k>0?e=0===n?"rst__lineHalfHorizontalRight rst__lineHalfVerticalBottom":E===S-1?"rst__lineHalfHorizontalRight rst__lineFullVertical":"rst__lineFullVertical":0===n?e="rst__lineHalfHorizontalRight":E===S-1&&(e="rst__lineHalfVerticalTop rst__lineHalfHorizontalRight"),T.push(o.createElement("div",{key:`pre_${1+E}`,style:{width:s},className:ns("rst__lineBlock",e,w??"")})),h!==n&&E===a){let e="";e=n===r+i-1?"rst__highlightBottomLeftCorner":h===r?"rst__highlightTopLeftCorner":"rst__highlightLineVertical";const t="rtl"===b?{width:s,right:s*E}:{width:s,left:s*E};T.push(o.createElement("div",{key:E,style:t,className:ns("rst__absoluteLineBlock",e,w??"")}))}}const C="rtl"===b?{right:s*S}:{left:s*S};let D=p;return"function"==typeof p&&(D=p(h,m,y)),u(o.createElement("div",(x=xs({},I),O={style:{height:`${D}px`},className:ns("rst__node",w??""),ref:e=>this.node=e},Is(x,ws(O))),T,o.createElement("div",{className:"rst__nodeContent",style:C},o.Children.map(t,(e=>(0,o.cloneElement)(e,{isOver:l,canDrop:f,draggedNode:d}))))));var x,O}}var ks=Es,Ps=Object.defineProperty,Rs=Object.getOwnPropertySymbols,Ns=Object.prototype.hasOwnProperty,js=Object.prototype.propertyIsEnumerable,Ms=(e,t,n)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hs=(e,t)=>{for(var n in t||(t={}))Ns.call(t,n)&&Ms(e,n,t[n]);if(Rs)for(var n of Rs(t))js.call(t,n)&&Ms(e,n,t[n]);return e};const _s={canDrop:!1,draggedNode:void 0};var Ls=e=>{const t=e=Hs(Hs({},_s),e),{children:n,connectDropTarget:r,treeId:i,drop:a}=t,s=((e,t)=>{var n={};for(var r in e)Ns.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Rs)for(var r of Rs(e))t.indexOf(r)<0&&js.call(e,r)&&(n[r]=e[r]);return n})(t,["children","connectDropTarget","treeId","drop"]);return r(o.createElement("div",null,o.Children.map(n,(e=>(0,o.cloneElement)(e,Hs({},s))))))};let Bs=0;const zs=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),didDrop:t.didDrop()}),As=(e,t,n,r)=>function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(O(q(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),o=function(){return e}),O($(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var i=Se(t);return O("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),O($(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return ve({containerDisplayName:"DragSource",createHandler:i,registerHandler:k,createConnector:function(e){return new z(e)},createMonitor:function(e){return new V(e)},DecoratedComponent:e,getType:o,collect:n,options:r})}}(r,{beginDrag:e=>(t(e),{node:e.node,parentNode:e.parentNode,path:e.path,treeIndex:e.treeIndex,treeId:e.treeId}),endDrag:(e,t)=>{n(t.getDropResult())},isDragging:(e,t)=>{const n=t.getItem().node;return e.node===n}},zs)(e),Fs=(e,t)=>{const n=t.getItem();return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedNode:n?n.node:void 0}},Us=(e,t,n,r,o,i)=>{let a=0;const s=e.getPrevRow();if(s){const{node:t}=s;let{path:n}=s;!r(t)&&(n=n.slice(0,-1)),a=Math.min(n.length,e.path.length)}let c,u=(t.getItem().path||[]).length;if(t.getItem().treeId!==o)if(u=0,n){const r=n.node.getBoundingClientRect(),o=t.getSourceClientOffset().x-r.left;c=Math.round(o/e.scaffoldBlockPxWidth)}else c=e.path.length;else{const n="rtl"===e.rowDirection?-1:1;c=Math.round(n*t.getDifferenceFromInitialOffset().x/e.scaffoldBlockPxWidth)}let l=Math.min(a,Math.max(0,u+c-1));if(void 0!==i&&void 0!==i){const e=t.getItem().node,n=ts(e);l=Math.max(0,Math.min(l,i-n-1))}return l},Ks=(e,t,n,r,o,i,a,s,c,u,l)=>{const d={drop:(e,o,a)=>{const s={node:o.getItem().node,path:o.getItem().path,treeIndex:o.getItem().treeIndex,treeId:n,minimumTreeIndex:e.treeIndex,depth:Us(e,o,a,t,n,r)};return i(s),s},hover:(e,o,i)=>{const s=Us(e,o,i,t,n,r),c=o.getItem().node;(e.node!==c||s!==e.path.length-1)&&(cancelAnimationFrame(Bs),Bs=requestAnimationFrame((()=>{const t=o.getItem();t&&o.isOver()&&a({node:c,path:t.path,minimumTreeIndex:e.listIndex,depth:s})})))},canDrop:(e,i)=>((e,t,n,r,o,i,a,s,c)=>{if(!t.isOver())return!1;const u=e.getPrevRow(),l=u?u.path:[],d=u?u.node:{};if(Us(e,t,void 0,n,r,o)>=l.length&&"function"==typeof d.children)return!1;if("function"==typeof i){const{node:n}=t.getItem();return i({node:n,prevPath:t.getItem().path,prevParent:t.getItem().parentNode,prevTreeIndex:t.getItem().treeIndex,nextPath:e.children.props.path,nextParent:e.children.props.parentNode,nextTreeIndex:e.children.props.treeIndex})}return!0})(e,i,t,n,r,o)};return He(s,d,Fs)(e)},Vs=e=>{let t,n=[],r=[];return o=>{const i=Object.keys(o).sort(),a=i.map((e=>o[e]));return(a.length!==n.length||a.some(((e,t)=>e!==n[t]))||i.some(((e,t)=>e!==r[t])))&&(n=a,r=i,t=e(o)),t}},Ws=Vs(Ja),Gs=Vs((({treeData:e,getNodeKey:t,ignoreCollapsed:n=!0})=>{if(!e||0===e.length)return[];const r=[];return Xa({treeData:e,getNodeKey:t,ignoreCollapsed:n,callback:e=>{r.push(e)}}),r})),Ys=Vs(Wa);var Xs=Object.defineProperty,$s=Object.defineProperties,qs=Object.getOwnPropertyDescriptors,Qs=Object.getOwnPropertySymbols,Zs=Object.prototype.hasOwnProperty,Js=Object.prototype.propertyIsEnumerable,ec=(e,t,n)=>t in e?Xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tc=(e,t)=>{for(var n in t||(t={}))Zs.call(t,n)&&ec(e,n,t[n]);if(Qs)for(var n of Qs(t))Js.call(t,n)&&ec(e,n,t[n]);return e},nc=(e,t)=>$s(e,qs(t));let rc=1;const oc=e=>{const t=nc(tc({},e),{style:tc(tc({},e.theme.style),e.style),innerStyle:tc(tc({},e.theme.innerStyle),e.innerStyle)}),n={nodeContentRenderer:ls,placeholderRenderer:ys,scaffoldBlockPxWidth:44,slideRegionSize:100,rowHeight:62,treeNodeRenderer:ks};for(const r of Object.keys(n))void 0===e[r]&&(t[r]=void 0!==e.theme[r]?e.theme[r]:n[r]);return t};class ic extends o.Component{constructor(e){super(e),this.startDrag=({path:e})=>{this.setState((t=>{const{treeData:n,node:r,treeIndex:o}=(({treeData:e,path:t,getNodeKey:n,ignoreCollapsed:r=!0})=>{let o,i;return{treeData:Qa({treeData:e,path:t,getNodeKey:n,ignoreCollapsed:r,newNode:({node:e,treeIndex:t})=>{o=e,i=t}}),node:o,treeIndex:i}})({treeData:t.instanceProps.treeData,path:e,getNodeKey:this.props.getNodeKey});return{draggingTreeData:n,draggedNode:r,draggedDepth:e.length-1,draggedMinimumTreeIndex:o,dragging:!0}}))},this.dragHover=({node:e,depth:t,minimumTreeIndex:n})=>{this.state.draggedDepth===t&&this.state.draggedMinimumTreeIndex===n||this.setState((({draggingTreeData:r,instanceProps:o})=>{const i=r||o.treeData,a=Ws({treeData:i,newNode:e,depth:t,minimumTreeIndex:n,expandParent:!0,getNodeKey:this.props.getNodeKey}),s=this.getRows(a.treeData)[a.treeIndex].path;return{draggedNode:e,draggedDepth:t,draggedMinimumTreeIndex:n,draggingTreeData:Qa({treeData:i,path:s.slice(0,-1),newNode:({node:e})=>nc(tc({},e),{expanded:!0}),getNodeKey:this.props.getNodeKey}),searchFocusTreeIndex:void 0,dragging:!0}}))},this.endDrag=e=>{const{instanceProps:t}=this.state;if(e){if(e.treeId!==this.treeId){const{node:n,path:r,treeIndex:o}=e;let i=this.props.shouldCopyOnOutsideDrop;"function"==typeof i&&(i=i({node:n,prevTreeIndex:o,prevPath:r}));let a=this.state.draggingTreeData||t.treeData;i&&(a=Qa({treeData:t.treeData,path:r,newNode:({node:e})=>tc({},e),getNodeKey:this.props.getNodeKey})),this.props.onChange(a),this.props.onMoveNode({treeData:a,node:n,treeIndex:void 0,path:void 0,nextPath:void 0,nextTreeIndex:void 0,prevPath:r,prevTreeIndex:o})}}else this.setState({draggingTreeData:void 0,draggedNode:void 0,draggedMinimumTreeIndex:void 0,draggedDepth:void 0,dragging:!1})},this.drop=e=>{this.moveNode(e)},this.canNodeHaveChildren=e=>{const{canNodeHaveChildren:t}=this.props;return!t||t(e)},this.listRef=o.createRef();const{dndType:t,nodeContentRenderer:n,treeNodeRenderer:r,slideRegionSize:i}=oc(e);this.treeId=`rst__${rc}`,rc+=1,this.dndType=t||this.treeId,this.nodeContentRenderer=As(n,this.startDrag,this.endDrag,this.dndType),this.treePlaceholderRenderer=((e,t,n,r)=>He(r,{drop:(e,r)=>{const{node:o,path:i,treeIndex:a}=r.getItem(),s={node:o,path:i,treeIndex:a,treeId:t,minimumTreeIndex:0,depth:0};return n(s),s}},Fs)(e))(Ls,this.treeId,this.drop,this.dndType),this.scrollZoneVirtualList=(T||C)(o.forwardRef(((e,t)=>{const n=((e,t)=>{var n={};for(var r in e)Zs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qs)for(var r of Qs(e))t.indexOf(r)<0&&Js.call(e,r)&&(n[r]=e[r]);return n})(e,["dragDropManager","rowHeight"]);return o.createElement(Ra,tc({ref:this.listRef},n))}))),this.vStrength=I(i),this.hStrength=b(i),this.state={draggingTreeData:void 0,draggedNode:void 0,draggedMinimumTreeIndex:void 0,draggedDepth:void 0,searchMatches:[],searchFocusTreeIndex:void 0,dragging:!1,instanceProps:{treeData:[],ignoreOneTreeUpdate:!1,searchQuery:void 0,searchFocusOffset:void 0}},this.treeNodeRenderer=Ks(r,this.canNodeHaveChildren,this.treeId,this.props.maxDepth,this.props.canDrop,this.drop,this.dragHover,this.dndType,this.state.draggingTreeData,this.props.treeData,this.props.getNodeKey),this.toggleChildrenVisibility=this.toggleChildrenVisibility.bind(this),this.moveNode=this.moveNode.bind(this),this.startDrag=this.startDrag.bind(this),this.dragHover=this.dragHover.bind(this),this.endDrag=this.endDrag.bind(this),this.drop=this.drop.bind(this),this.handleDndMonitorChange=this.handleDndMonitorChange.bind(this)}static search(e,t,n,r,o){const{onChange:i,getNodeKey:a,searchFinishCallback:s,searchQuery:c,searchMethod:u,searchFocusOffset:l,onlyExpandSearchedNodes:d}=e,{instanceProps:f}=t;if(!c&&!u)return s&&s([]),{searchMatches:[]};const h={instanceProps:{}},{treeData:p,matches:g}=(({getNodeKey:e,treeData:t,searchQuery:n,searchMethod:r,searchFocusOffset:o,expandAllMatchPaths:i=!1,expandFocusMatchPaths:a=!0})=>{let s=0;const c=({isPseudoRoot:t=!1,node:u,currentIndex:l,path:d=[]})=>{let f=[],h=!1,p=!1;const g=t?[]:[...d,e({node:u,treeIndex:l})],v=t?void 0:{path:g,treeIndex:l},m=u.children&&"function"!=typeof u.children&&u.children.length>0;!t&&r(Ka(Ua({},v),{node:u,searchQuery:n}))&&(s===o&&(p=!0),s+=1,h=!0);let y=l;const b=Ua({},u);return m&&(b.children=b.children.map((e=>{const t=c({node:e,currentIndex:y+1,path:g});return t.node.expanded?y=t.treeIndex:y+=1,(t.matches.length>0||t.hasFocusMatch)&&(f=[...f,...t.matches],t.hasFocusMatch&&(p=!0),(i&&t.matches.length>0||(i||a)&&t.hasFocusMatch)&&(b.expanded=!0)),t.node}))),t||b.expanded||(f=f.map((e=>Ka(Ua({},e),{treeIndex:void 0})))),h&&(f=[Ka(Ua({},v),{node:b}),...f]),{node:f.length>0?b:u,matches:f,hasFocusMatch:p,treeIndex:y}},u=c({node:{children:t},isPseudoRoot:!0,currentIndex:-1});return{matches:u.matches,treeData:u.node.children}})({getNodeKey:a,treeData:d?qa({treeData:f.treeData,expanded:!1}):f.treeData,searchQuery:c,searchMethod:u||Ma,searchFocusOffset:l,expandAllMatchPaths:r&&!o,expandFocusMatchPaths:!!r});let v;return r&&(h.instanceProps.ignoreOneTreeUpdate=!0,i(p)),s&&s(g),n&&void 0!==l&&l<g.length&&(v=g[l].treeIndex),h.searchMatches=g,h.searchFocusTreeIndex=v,h}static loadLazyChildren(e,t){const{instanceProps:n}=t;Xa({treeData:n.treeData,getNodeKey:e.getNodeKey,callback:({node:t,path:r,lowerSiblingCounts:o,treeIndex:i})=>{t.children&&"function"==typeof t.children&&(t.expanded||e.loadCollapsedLazyChildren)&&t.children({node:t,path:r,lowerSiblingCounts:o,treeIndex:i,done:o=>e.onChange(Qa({treeData:n.treeData,path:r,newNode:({node:e})=>e===t?nc(tc({},e),{children:o}):e,getNodeKey:e.getNodeKey}))})}})}componentDidMount(){ic.loadLazyChildren(this.props,this.state);const e=ic.search(this.props,this.state,!0,!0,!1);this.setState(e),this.clearMonitorSubscription=this.props.dragDropManager.getMonitor().subscribeToStateChange(this.handleDndMonitorChange)}static getDerivedStateFromProps(e,t){const{instanceProps:n}=t,r={},o=x()(n.treeData,e.treeData);return n.treeData=e.treeData,o?x()(n.searchQuery,e.searchQuery)?n.searchFocusOffset!==e.searchFocusOffset&&Object.assign(r,ic.search(e,t,!0,!0,!0)):Object.assign(r,ic.search(e,t,!0,!0,!1)):(n.ignoreOneTreeUpdate?n.ignoreOneTreeUpdate=!1:(r.searchFocusTreeIndex=void 0,ic.loadLazyChildren(e,t),Object.assign(r,ic.search(e,t,!1,!1,!1))),r.draggingTreeData=void 0,r.draggedNode=void 0,r.draggedMinimumTreeIndex=void 0,r.draggedDepth=void 0,r.dragging=!1),n.searchQuery=e.searchQuery,n.searchFocusOffset=e.searchFocusOffset,r.instanceProps=tc(tc({},n),r.instanceProps),r}componentDidUpdate(e,t){this.state.dragging!==t.dragging&&this.props.onDragStateChanged&&this.props.onDragStateChanged({isDragging:this.state.dragging,draggedNode:this.state.draggedNode})}componentWillUnmount(){this.clearMonitorSubscription()}handleDndMonitorChange(){!this.props.dragDropManager.getMonitor().isDragging()&&this.state.draggingTreeData&&setTimeout((()=>{this.endDrag()}))}getRows(e){return Gs({ignoreCollapsed:!0,getNodeKey:this.props.getNodeKey,treeData:e})}toggleChildrenVisibility({node:e,path:t}){const{instanceProps:n}=this.state,r=Qa({treeData:n.treeData,path:t,newNode:({node:e})=>nc(tc({},e),{expanded:!e.expanded}),getNodeKey:this.props.getNodeKey});this.props.onChange(r),this.props.onVisibilityToggle({treeData:r,node:e,expanded:!e.expanded,path:t})}moveNode({node:e,path:t,treeIndex:n,depth:r,minimumTreeIndex:o}){const{treeData:i,treeIndex:a,path:s,parentNode:c}=Ja({treeData:this.state.draggingTreeData,newNode:e,depth:r,minimumTreeIndex:o,expandParent:!0,getNodeKey:this.props.getNodeKey});this.props.onChange(i),this.props.onMoveNode({treeData:i,node:e,treeIndex:a,path:s,nextPath:s,nextTreeIndex:a,prevPath:t,prevTreeIndex:n,nextParentNode:c})}renderRow(e,{listIndex:t,style:n,getPrevRow:r,matchKeys:i,swapFrom:a,swapDepth:s,swapLength:c}){const{node:u,parentNode:l,path:d,lowerSiblingCounts:f,treeIndex:h}=e,{canDrag:p,generateNodeProps:g,scaffoldBlockPxWidth:v,searchFocusOffset:m,rowDirection:y,rowHeight:b}=oc(this.props),I=this.treeNodeRenderer,w=this.nodeContentRenderer,S=d[d.length-1],T=S in i,C=T&&i[S]===m,D={node:u,parentNode:l,path:d,lowerSiblingCounts:f,treeIndex:h,isSearchMatch:T,isSearchFocus:C},x=g?g(D):{},O="function"!=typeof p?p:p(D),E={treeIndex:h,scaffoldBlockPxWidth:v,node:u,path:d,treeId:this.treeId,rowDirection:y};return o.createElement(I,tc({style:n,rowHeight:b,key:S,listIndex:t,getPrevRow:r,lowerSiblingCounts:f,swapFrom:a,swapLength:c,swapDepth:s},E),o.createElement(w,tc(tc({parentNode:l,isSearchMatch:T,isSearchFocus:C,canDrag:O,toggleChildrenVisibility:this.toggleChildrenVisibility},E),x)))}render(){const{dragDropManager:e,style:t,className:n,innerStyle:r,placeholderRenderer:i,getNodeKey:a,rowDirection:s}=oc(this.props),{searchMatches:c,searchFocusTreeIndex:u,draggedNode:l,draggedDepth:d,draggedMinimumTreeIndex:f,instanceProps:h}=this.state,p=this.state.draggingTreeData||h.treeData,g="rtl"===s?"rst__rtl":void 0;let v,m,y;if(l&&void 0!==f){const e=Ws({treeData:p,newNode:l,depth:d,minimumTreeIndex:f,expandParent:!0,getNodeKey:a}),t=f;m=e.treeIndex,y=1+Ys({node:l}),v=((e,t,n,r=1)=>{const o=[...e.slice(0,t),...e.slice(t+r)];return[...o.slice(0,n),...e.slice(t,t+r),...o.slice(n)]})(this.getRows(e.treeData),m,t,y)}else v=this.getRows(p);const b={};for(const[o,{path:S}]of c.entries())b[S[S.length-1]]=o;void 0!==u&&this.listRef.current.scrollToIndex({index:u,align:"center"});let I,w=t;if(0===v.length){const e=this.treePlaceholderRenderer,t=i;I=o.createElement(e,{treeId:this.treeId,drop:this.drop},o.createElement(t,null))}else{w=tc({height:"100%"},w);const t=this.scrollZoneVirtualList;I=o.createElement(t,{data:v,dragDropManager:e,verticalStrength:this.vStrength,horizontalStrength:this.hStrength,className:"rst__virtualScrollOverride",style:r,itemContent:e=>this.renderRow(v[e],{listIndex:e,getPrevRow:()=>v[e-1]||void 0,matchKeys:b,swapFrom:m,swapDepth:d,swapLength:y})})}return o.createElement("div",{className:ns("rst__tree",n,g),style:w},I)}}ic.defaultProps={canDrag:!0,canDrop:void 0,canNodeHaveChildren:()=>!0,className:"",dndType:void 0,generateNodeProps:void 0,getNodeKey:({treeIndex:e})=>e,innerStyle:{},maxDepth:void 0,treeNodeRenderer:void 0,nodeContentRenderer:void 0,onMoveNode:()=>{},onVisibilityToggle:()=>{},placeholderRenderer:void 0,scaffoldBlockPxWidth:void 0,searchFinishCallback:void 0,searchFocusOffset:void 0,searchMethod:void 0,searchQuery:void 0,shouldCopyOnOutsideDrop:!1,slideRegionSize:void 0,style:{},theme:{},onDragStateChanged:()=>{},onlyExpandSearchedNodes:!1,rowDirection:"ltr",debugMode:!1};const ac=function(e){return o.createElement(Z.Consumer,null,(({dragDropManager:t})=>void 0===t?void 0:o.createElement(ic,nc(tc({},e),{dragDropManager:t}))))};var sc=function(e){return o.createElement(yn,{debugMode:e.debugMode,backend:Zn},o.createElement(ac,tc({},e)))}},298357:function(e,t,n){var r="Expected a function",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,g=function(){return d.Date.now()};function v(e,t,n){var o,i,a,s,c,u,l=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=o,r=i;return o=i=void 0,l=t,s=e.apply(r,n)}function I(e){return l=e,c=setTimeout(S,t),d?b(e):s}function w(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function S(){var e=g();if(w(e))return T(e);c=setTimeout(S,function(e){var n=t-(e-u);return f?p(n,a-(e-l)):n}(e))}function T(e){return c=void 0,v&&o?b(e):(o=i=void 0,s)}function C(){var e=g(),n=w(e);if(o=arguments,i=this,u=e,n){if(void 0===c)return I(u);if(f)return c=setTimeout(S,t),b(u)}return void 0===c&&(c=setTimeout(S,t)),s}return t=y(t)||0,m(n)&&(d=!!n.leading,a=(f="maxWait"in n)?h(y(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},C.flush=function(){return void 0===c?s:T(g())},C}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return m(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),v(e,t,{leading:o,maxWait:t,trailing:i})}}}]);