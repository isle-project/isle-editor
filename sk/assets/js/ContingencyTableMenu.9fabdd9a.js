"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[50705],{275952:function(e,t,a){a.r(t);var l=a(202784),r=a(213980),n=a.n(r),i=a(690299),s=a.n(i),o=a(770561),c=a(790817),u=a(351375),p=a(440835),d=a(506078),g=a(64033),m=a(691334),h=a(581728);const v=s()("isle:data-explorer:contingency-table");class b extends l.Component{constructor(e){super(e),this.state={relativeFreqs:!1,rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],group:null,nDecimalPlaces:3,variables:e.variables,display:[]}}static getDerivedStateFromProps(e,t){return e.variables.length!==t.variables.length?(v("Available variables have changed..."),{rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],variables:e.variables}):null}generateContingencyTable(){const{rowVar:e,colVar:t,group:a,relativeFreqs:r,nDecimalPlaces:n,display:i}=this.state;if(!e||!t)return this.props.session.addNotification({title:this.props.t("select-variables"),message:this.props.t("select-row-and-column-variable"),level:"warning",position:"tr"});const s=l.createElement(g.Z,{rowVar:e,colVar:t,group:a,relativeFreqs:r,nDecimalPlaces:n,display:i,data:this.props.data});this.props.logAction(m.z9,{rowVar:e,colVar:t,group:a,relativeFreqs:r,display:i}),this.props.onCreated(s)}render(){const{variables:e,groupingVariables:t,t:a}=this.props;return l.createElement(c.Z,null,l.createElement(c.Z.Header,{as:"h4"},a("Contingency Table"),l.createElement(h.Z,{title:a("Contingency Table"),content:a("Contingency Table-description")})),l.createElement(c.Z.Body,{className:"d-grid gap-3"},l.createElement(p.Z,{legend:a("row-variable"),defaultValue:this.state.rowVar,options:e,onChange:e=>{this.setState({rowVar:e})}}),l.createElement(p.Z,{legend:a("column-variable"),defaultValue:this.state.colVar,options:e,onChange:e=>{this.setState({colVar:e})}}),l.createElement(p.Z,{legend:a("group-by"),options:t,clearable:!0,menuPlacement:"top",onChange:e=>{this.setState({group:e})},tooltip:a("contingency-table-group-tooltip")}),l.createElement(u.Z,{legend:a("relative-frequency"),defaultValue:!1,onChange:()=>{this.setState({relativeFreqs:!this.state.relativeFreqs})}}),l.createElement(p.Z,{legend:a("display"),options:["Row Percent","Column Percent"],multi:!0,onChange:e=>{this.setState({display:e||[]})}}),this.state.relativeFreqs||this.state.display.length>0?l.createElement("p",null,a("report-relative-frequencies"),l.createElement(d.Z,{inline:!0,width:50,max:16,min:0,defaultValue:this.state.nDecimalPlaces,onChange:e=>{this.setState({nDecimalPlaces:e})}}),a("decimal-places")):null,l.createElement(o.Z,{variant:"primary",onClick:this.generateContingencyTable.bind(this)},a("generate"))))}}b.defaultProps={defaultRowVar:null,defaultColVar:null,groupingVariables:null,logAction(){}},b.propTypes={data:n().object.isRequired,defaultColVar:n().string,defaultRowVar:n().string,groupingVariables:n().array,logAction:n().func,onCreated:n().func.isRequired,session:n().object.isRequired,variables:n().array.isRequired},t.default=b},581728:function(e,t,a){var l=a(202784),r=a(213980),n=a.n(r),i=a(770561),s=a(435376),o=a(992500),c=a(862816),u=a(461298);const p=e=>{const t=l.createElement(s.Z,{id:"popover-positioned-right"},l.createElement(o.Z,null,e.title),l.createElement(c.Z,null,e.content));return l.createElement(u.Z,{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:t},l.createElement(i.Z,{"aria-label":e.title,size:"sm",variant:"outline-secondary",className:"question-button"},l.createElement("div",{className:"fa fa-question"})))};p.propTypes={content:n().oneOfType([n().string,n().node]).isRequired,title:n().string.isRequired},t.Z=p}}]);