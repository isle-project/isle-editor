"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4669],{153225:function(e,t,a){var r=a(202784),n=a(213980),i=a.n(n),o=a(770561),s=a(708579),l=function(e){return r.createElement(s.Z,{id:"clear_tooltip",placement:e.tooltipPlacement,tooltip:e.t("data-explorer:delete")},r.createElement(o.Z,{"aria-label":e.t("data-explorer:delete"),variant:"outline-danger",size:"sm",onClick:e.onClick,style:e.style,disabled:e.disabled},r.createElement("div",{className:"fa fa-times"})))};l.propTypes={onClick:i().func.isRequired,tooltipPlacement:i().string,style:i().object,disabled:i().bool,t:i().func},l.defaultProps={tooltipPlacement:"bottom",style:{},disabled:!1,t:function(){}},t.Z=l},661820:function(e,t,a){a.r(t),a.d(t,{default:function(){return er}});var r=a(497326),n=a(894578),i=a(867855),o=a(202784),s=a(213980),l=a.n(s),c=a(690299),u=a.n(c),p=a(219637),d=a(198),m=a(366627),f=a(822736),h=a(770561),v=a(574845),g=a(458264),E=a(312594),b=a(715318),y=a(569862),Z=a(790817),S=a(31071),R=a(294565),T=a(838060),A=a.n(T),P=a(308669),O=a.n(P),_=a(195906),C=a.n(_),k=a(830324),x=a.n(k),w=a(588703),D=a.n(w),N=a(287013),L=a.n(N),q=a(623102),I=a.n(q),F=a(409961),H=a.n(F),M=a(151300),V=a.n(M),X=a(241481),j=a.n(X),z=a(224008),B=a.n(z),U=a(306830),Q=a.n(U),G=a(437069),K=a.n(G),J=a(605977),W=a.n(J),Y=a(777628),$=a.n(Y),ee=a(24551),te=a(941695),ae=a(994865),re=a(471275),ne=a(730641),ie=a.n(ne),oe=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){for(var e=ie()(this.props.children,4),t=0;t<e.length;t++)for(var a=e[t],r=0;r<a.length;r++)a[r]?a[r]=o.createElement(E.Z,{key:"cell"+t+r,xs:6,md:3},a[r]):a[r]=null;return o.createElement(re.Z,null,e.map((function(e,t){return o.createElement(g.Z,{key:"row"+t},e)})))},t}(o.Component),se=oe,le=a(682317),ce=a(476709),ue=a(750707),pe=a(584443),de=a(259893),me=(0,a(708717).Z)((function(){return Promise.all([a.e(9796),a.e(459)]).then(a.bind(a,558340))})),fe=a(394286),he=a(884968),ve=a(134208),ge=a(267682),Ee=a(211565),be=a(412042),ye=a(705193),Ze=function(e){function t(t){return e.call(this,t)||this}(0,n.Z)(t,e);var a=t.prototype;return a.scrollToBottom=function(){this.outputPanel&&(0,ye.Z)(this.outputPanel,this.outputPanel.scrollHeight,1e3)},a.render=function(){var e=this,t=this.props,a=t.t,r=t.header,n=t.output;return o.createElement(o.Fragment,null,o.createElement("div",{className:"card-header clearfix"},o.createElement("h3",{className:"data-explorer-output-header"},a("output")),r),o.createElement("div",{className:"data-explorer-output-panel",style:{height:.9*window.innerHeight-80},ref:function(t){e.outputPanel=t}},n),o.createElement("div",{className:"d-grid"},o.createElement(h.Z,{size:"sm",variant:"outline-danger",onClick:this.props.clearOutput},a("clear-all"))))},t}(o.Component),Se=a(438802),Re=a.n(Se),Te=a(278141),Ae=a.n(Te),Pe=a(380408),Oe=a(156562),_e=a(912860),Ce=a(435376),ke=a(992500),xe=a(862816),we=a(461298),De=a(700601),Ne=a.n(De),Le=a(871199),qe=a.n(Le),Ie=a(180781),Fe=a.n(Ie),He=a(402958),Me=a.n(He),Ve=a(382617),Xe=a(10206),je=a(797209),ze=a(300665),Be=a(817492),Ue=a(208497),Qe=a(408917),Ge=a(590848),Ke=a(37266),Je=a(606019),We=a(620276),Ye=a(692482),$e=a(7962),et=a(937531),tt=a(88701),at=a(162304),rt=a(29055),nt=a(221949),it=a(525760),ot=a(696734),st=a(836993),lt=a(867169),ct=a(796585),ut=a(647324),pt=a(356158),dt=a(554717),mt=a(14362),ft=a(985840),ht=a(581122),vt=a(983476),gt=a(985417),Et=a(673426),bt=a(553905),yt=a(814541),Zt=a(652320),St=a(605954),Rt=a(38435),Tt=Object.defineProperty,At=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,_t=function(e,t,a){return t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},Ct=function(e,t){for(var a in t||(t={}))Pt.call(t,a)&&_t(e,a,t[a]);if(At)for(var r,n=(0,i.Z)(At(t));!(r=n()).done;){a=r.value;Ot.call(t,a)&&_t(e,a,t[a])}return e};var kt=function(e,t){var a,r=Ct(Ct({},t),e.value);switch(e.type){case"DATA_EXPLORER_SUMMARY_STATISTICS":a=React.createElement(Rt.Z,Ct({},r));break;case"DATA_EXPLORER_BARCHART":a=React.createElement(Be.Z,Ct({},r));break;case"DATA_EXPLORER_BOXPLOT":a=React.createElement(ze.Z,Ct({},r));break;case"DATA_EXPLORER_CONTOURPLOT":a=React.createElement(Ue.Z,Ct({},r));break;case"DATA_EXPLORER_HISTOGRAM":a=React.createElement(Ge.Z,Ct({},r));break;case"DATA_EXPLORER_HEATMAP":a=React.createElement(Qe.Z,Ct({},r));break;case"DATA_EXPLORER_LINEPLOT":a=React.createElement(Ke.Z,Ct({},r));break;case"DATA_EXPLORER_MAP":a=React.createElement(Je.Z,Ct({},r));break;case"DATA_EXPLORER_MOSAIC":a=React.createElement(We.Z,Ct({},r));break;case"DATA_EXPLORER_PIECHART":a=React.createElement(Ye.Z,Ct({},r));break;case"DATA_EXPLORER_QQPLOT":a=React.createElement($e.Z,Ct({},r));break;case"DATA_EXPLORER_SCATTERPLOT":a=React.createElement(tt.Z,Ct({},r));break;case"DATA_EXPLORER_SPLOM":a=React.createElement(et.Z,Ct({},r));break;case"DATA_EXPLORER_VIOLINPLOT":a=React.createElement(at.Z,Ct({},r));break;case"DATA_EXPLORER_FREQUENCY_TABLE":a=React.createElement(rt.Z,Ct({},r));break;case"DATA_EXPLORER_CONTINGENCY_TABLE":a=React.createElement(nt.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_ANOVA":a=React.createElement(it.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_KRUSKAL":a=React.createElement(lt.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_MEAN":a=React.createElement(ct.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_MEAN":a=React.createElement(ut.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_CHISQUARE":a=React.createElement(ot.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_CORRTEST":a=React.createElement(st.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_PROPTEST":a=React.createElement(pt.Z,Ct({},r));break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST":a=React.createElement(dt.Z,Ct({},r));break;case"DATA_EXPLORER_KMEANS":a=React.createElement(Zt.Z,Ct({},r));break;case"DATA_EXPLORER_HIERARCHICAL_CLUSTERING":a=React.createElement(yt.Z,Ct({},r));break;case"DATA_EXPLORER_DECISION_TREE":a=React.createElement(mt.Z,Ct({},r));break;case"DATA_EXPLORER_LASSO_REGRESSION":a=React.createElement(ft.Z,Ct({},r));break;case"DATA_EXPLORER_LINEAR_REGRESSION":a=React.createElement(Et.Z,Ct({},r));break;case"DATA_EXPLORER_LOGISTIC_REGRESSION":a=React.createElement(ht.Z,Ct({},r));break;case"DATA_EXPLORER_MULTIPLE_REGRESSION":a=React.createElement(vt.Z,Ct({},r));break;case"DATA_EXPLORER_NAIVE_BAYES":a=React.createElement(St.Z,Ct({},r));break;case"DATA_EXPLORER_PCA":a=React.createElement(bt.Z,Ct({},r));break;case"DATA_EXPLORER_RANDOM_FOREST":a=React.createElement(gt.Z,Ct({},r))}return a},xt=a(210789),wt=Object.defineProperty,Dt=function(e,t,a){return function(e,t,a){t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a}(e,"symbol"!=typeof t?t+"":t,a),a},Nt=function(e){return{label:e,value:e}},Lt=function(e){function t(t){var a;return a=e.call(this,t)||this,Dt((0,r.Z)(a),"handleChange",(function(e){a.props.onChange(e),a.setState({value:e})})),Dt((0,r.Z)(a),"handleSubmission",(function(){a.props.onSubmit(a.state.value)})),a.state={value:null},a}return(0,n.Z)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(xt.Z,{inputId:this.props.id,isClearable:this.props.isClearable,onChange:this.handleChange,options:this.props.options.map(Nt),placeholder:"Leave note..."}),o.createElement(h.Z,{size:"sm",onClick:this.handleSubmission,style:{marginTop:4}},this.props.t("submit")))},t}(o.Component);Lt.propTypes={options:l().array,isClearable:l().bool,onChange:l().func,onSubmit:l().func},Lt.defaultProps={options:[],isClearable:!1,onChange:function(){},onSubmit:function(){}};var qt=Lt,It=a(109203),Ft=a(26266),Ht=a(10863),Mt=Object.defineProperty,Vt=function(e,t,a){return function(e,t,a){t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a}(e,"symbol"!=typeof t?t+"":t,a),a},Xt=function(e){function t(){var t;return t=e.call(this)||this,Vt((0,r.Z)(t),"handleSearch",(function(e){t.setState({search:e.target.value}),t.props.onClick(e.target.value)})),t.state={search:""},t}return(0,n.Z)(t,e),t.prototype.render=function(){return o.createElement(Ht.Z,null,o.createElement(It.Z,{size:"small"},o.createElement(Ft.Z,{"aria-label":"Search",type:"text",placeholder:"Search actions...",onChange:this.handleSearch,onKeyPress:this.handleKeyPress,value:this.state.search})))},t}(o.Component);Xt.propTypes={onClick:l().func},Xt.defaultProps={onClick:function(){}};var jt=Xt,zt=Object.defineProperty,Bt=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,Gt=function(e,t,a){return t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},Kt=function(e){var t=(0,o.useState)([]),a=t[0],r=t[1],n=(0,o.useState)(["own","others"]),s=n[0],l=n[1],c=(0,o.useState)({}),u=c[0],p=c[1],d=(0,o.useContext)(ge.Z),m=(0,je.Z)();(0,o.useEffect)((function(){var t;return d&&(t=d.subscribe((function(t,a){t===Xe.Wh&&a.id===e.explorerID&&m()}))),function(){t&&t()}}));var v=[],g=new RegExp(a[0],"i");if(0!==s.length)for(var E=0;E<e.actions.length;E++){var b=e.actions[E];if(b.type!==Ve.i_&&b.type!==Ve.cp&&b.type!==Ve.Jz){var y=!1;if(b.type.search(g)>-1)y=!0;else if(b.email.search(g)>-1)y=!0;else for(var Z in b.value)if(Z.search(g)>-1||String(b.value[Z]).search(g)>-1){y=!0;break}2!==s.length&&("own"===s[0]?b.email!==d.user.email&&(y=!1):b.email===d.user.email&&(y=!1)),y&&v.push(b)}}var S=function(t){var a=v[t];return a.type===Ve.gx||a.type===Ve.CS||a.type===Ve.dU||a.type===Ve.Jz||a.type===Ve.gy?function(){e.onTransformation(a),e.logAction(a.type,a.value)}:function(){var t=kt(a,e);e.onCreated(t),e.logAction(a.type,a.value)}};return o.createElement("div",{style:e.style},o.createElement(jt,{onClick:function(e){Fe()(e,"")?r([]):r([e])}}),o.createElement("div",{style:{marginLeft:0,overflowY:"scroll",height:.75*window.innerHeight,border:"solid 1px rgba(0,0,0,0.125)"}},o.createElement(Re(),{initialIndex:0,itemRenderer:function(t,r){var n=v[t],s=new Date(n.absoluteTime),l="",c=n.value,d=n.type+" | Time: "+s.toLocaleTimeString()+" - "+s.toLocaleDateString()+" | "+n.email;for(var m in c)if(Ne()(c,m)&&"showDecision"!==m){var g=c[m];qe()(g)||"plotId"===m||(l+=m+": "+(Me()(g)?g:JSON.stringify(g)),l+="\t")}var E=o.createElement(Ce.Z,{id:"history-note-popover-"+t,style:{width:250}},o.createElement(ke.Z,null,e.t("leave-note")),o.createElement(xe.Z,null,o.createElement(qt,{options:["Did you consider any confounding variables?","You should check model diagnostics"],onSubmit:function(e){var a=e.value,r=function(e,t){for(var a in t||(t={}))Ut.call(t,a)&&Gt(e,a,t[a]);if(Bt)for(var r,n=(0,i.Z)(Bt(t));!(r=n()).done;)a=r.value,Qt.call(t,a)&&Gt(e,a,t[a]);return e}({},u);r[t]?r[t]+="\n"+a:r[t]=a,p(r)},t:e.t})));return o.createElement(_e.Z,null,o.createElement("div",{className:"actionNote"},o.createElement("span",{className:"title"},o.createElement(Ae(),{searchWords:a,autoEscape:!0,textToHighlight:d}))),o.createElement("div",{className:"actionNote"},o.createElement(Ae(),{searchWords:a,autoEscape:!0,textToHighlight:l})),u[t]?o.createElement(f.Z,{variant:"warning"},u[t]):null,e.instructorFeedback?o.createElement(we.Z,{trigger:"click",placement:"left",rootClose:!0,overlay:E},o.createElement(h.Z,{"aria-label":e.t("leave-feedback"),variant:"info",size:"sm",style:{position:"absolute",top:5,right:45}},o.createElement("i",{className:"fas fa-sticky-note"}))):null,o.createElement(h.Z,{"aria-label":e.t("repeat"),variant:"success",size:"sm",onClick:S(t),style:{position:"absolute",top:5,right:5}},o.createElement("i",{className:"fas fa-redo"})))},length:v.length,type:"simple",pageSize:50,minSize:10})),o.createElement("div",{style:{float:"right",marginRight:20}},"individual"!==e.reportMode?o.createElement(Pe.Z,{name:"options",onChange:l,type:"checkbox",size:"small",value:s,style:{padding:6}},o.createElement(Oe.Z,{id:"data-explorer-action-toggle-own",variant:"outline-secondary",value:"own"},e.t("own-actions")),o.createElement(Oe.Z,{id:"data-explorer-action-toggle-others",variant:"outline-secondary",value:"others"},e.t("others-actions"))):null,o.createElement("span",{className:"title"},v.length," ",e.t("actions"))))};Kt.propTypes={actions:l().array,instructorFeedback:l().bool,onTransformation:l().func},Kt.defaultProps={actions:[],instructorFeedback:!1,onTransformation:function(){}};var Jt=Kt,Wt=a(585208),Yt=a(423184),$t=a(302467),ea=a.n($t),ta=a(312882),aa=a(597909),ra=a(153225),na=a(708579),ia=function(e){var t=(0,o.useState)(!1),a=t[0],r=t[1],n=function(){r(!a)},i=e.t;return o.createElement(o.Fragment,null,o.createElement(na.Z,{id:"fullscreen_tooltip",placement:"bottom",tooltip:i("toggle-fullscreen")},o.createElement(h.Z,{"aria-label":i("toggle-fullscreen"),variant:"outline-danger",size:"sm",onClick:n},o.createElement("div",{className:"fa fa-window-maximize"}))),o.createElement(b.Z,{show:a,onHide:n,dialogClassName:"modal-100w",backdrop:!0,alt:"fullscreen"},o.createElement(b.Z.Header,{closeButton:!0},o.createElement(b.Z.Title,{as:"h1"},e.header?e.header:i("fullscreen-display"))),o.createElement(b.Z.Body,{className:"data-explorer-fullscreen-output",style:{height:.75*window.innerHeight}},e.body),o.createElement(b.Z.Footer,null,o.createElement(h.Z,{onClick:n},i("close")))))};ia.propTypes={header:l().string,body:l().node.isRequired},ia.defaultProps={header:null};var oa=ia,sa=a(875084),la=a(188304),ca=a(223444),ua=a(833022),pa=a.n(ua),da=function(e){for(var t=[],a=function(a){var r=e.filters[a],n=void 0;if(D()(r.value))n=r.value.map((function(e,t){return o.createElement(ca.Z,{bg:"secondary",key:t,style:{marginRight:4}},e)}));else if((0,R.isPrimitive)(r.value))n=o.createElement(ca.Z,{bg:"secondary",style:{marginRight:4}},r.value);else if(pa()(r.value)){var i=K()(r.value);n=new Array(i.length);for(var s=0;s<i.length;s++){var l=i[s];n[s]=o.createElement(ca.Z,{key:l,bg:"secondary",style:{marginRight:4}},o.createElement("b",null,l,": "),r.value[l])}}t.push(o.createElement(la.Z.Item,{key:a},o.createElement("span",{className:"title"},r.id,": "),n,e.removeButtons?o.createElement(h.Z,{variant:"danger",size:"sm",style:{float:"right"},onClick:function(){e.onRemove(a)},"aria-label":"remove"},o.createElement("i",{className:"fas fa-times"})):null))},r=0;r<e.filters.length;r++)a(r);return o.createElement(la.Z,null,t)},ma=Object.defineProperty,fa=Object.defineProperties,ha=Object.getOwnPropertyDescriptors,va=Object.getOwnPropertySymbols,ga=Object.prototype.hasOwnProperty,Ea=Object.prototype.propertyIsEnumerable,ba=function(e,t,a){return t in e?ma(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},ya=function(e,t){for(var a in t||(t={}))ga.call(t,a)&&ba(e,a,t[a]);if(va)for(var r,n=(0,i.Z)(va(t));!(r=n()).done;){a=r.value;Ea.call(t,a)&&ba(e,a,t[a])}return e},Za=function(e,t){return fa(e,ha(t))},Sa=function(e){function t(){var t,a,n;return t=e.call(this)||this,a=(0,r.Z)(t),ba(a,"symbol"!=typeof(n="toggleOverlay")?n+"":n,(function(e){void 0===e&&(e=Q()),t.setState({show:!t.state.show},e)})),t.state={show:!1},t}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this;return o.createElement(o.Fragment,null,o.createElement(na.Z,{id:"filter_info_tooltip",placement:"bottom",tooltip:this.props.t("show-dataset-info")},o.createElement(h.Z,{"aria-label":this.props.t("show-dataset-info"),variant:"outline-danger",size:"sm",ref:function(t){e.button=t},style:this.props.style,onClick:function(){e.toggleOverlay((function(){e.state.show?e.timeout=setTimeout(e.toggleOverlay,5e3):e.timeout&&clearTimeout(e.timeout)}))}},o.createElement("i",{className:"fas fa-info"}))),o.createElement(sa.Z,{target:this.button,show:this.state.show,placement:"left"},(function(t){var a=t,r=(a.placement,a.scheduleUpdate,a.arrowProps,function(e,t){var a={};for(var r in e)ga.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&va)for(var n,o=(0,i.Z)(va(e));!(n=o()).done;)r=n.value,t.indexOf(r)<0&&Ea.call(e,r)&&(a[r]=e[r]);return a}(a,["placement","scheduleUpdate","arrowProps"])),n=ya({backgroundColor:"lightcoral",padding:"10px 10px",marginRight:"5px",borderRadius:3,zIndex:1002},r.style);return e.props.filters?o.createElement("pre",Za(ya({},r),{style:n}),o.createElement(da,{filters:e.props.filters}),e.props.restoreButton?o.createElement(na.Z,{tooltip:e.props.t("restore-dataset-tooltip"),placement:"right"},o.createElement(h.Z,{size:"sm",variant:"danger",onClick:function(){e.props.onActivateFilters(e.props.filters)},style:{marginTop:12}},e.props.t("restore-dataset"))):null):o.createElement("pre",Za(ya({},r),{style:n}),e.props.t("entire-dataset-used"))})))},t}(o.Component);Sa.propTypes={filters:l().array,onActivateFilters:l().func,restoreButton:l().bool,style:l().object},Sa.defaultProps={filters:null,onActivateFilters:function(){},restoreButton:!1,style:{}};var Ra=Sa,Ta=u()("isle:data-explorer"),Aa=/<button[\s\S]*<\/button>/,Pa=function(e,t,a,r,n,i,s){return o.createElement(Yt.Z,{style:{float:"right",top:"-4px",zIndex:2}},o.createElement(Ra,{filters:n,onActivateFilters:i,t:s}),o.createElement(oa,{header:e,body:t,t:s}),o.createElement(ra.Z,{onClick:function(){Ta("Clear element with ID "+r),a(r)},t:s}))},Oa=function(e){return o.createElement(o.Fragment,null,o.createElement("button",{draggable:!0,className:"data-explorer-draggable-bar",onDragStart:function(e){var t=e.target.nextSibling.outerHTML;t=ea()(t,Aa,""),e.dataTransfer.setData("text/plain",t),e.dataTransfer.setData("text/html",t)},onClick:function(e){var t=e.target.nextSibling.outerHTML;t=ea()(t,Aa,""),(0,aa.Z)(t)}},Wt.a.t("data-explorer:drag-table")),e)};var _a=function(e,t,a,r,n,i){if(e.type===ze.Z||e.type===Be.Z||e.type===Ue.Z||e.type===Qe.Z||e.type===Ge.Z||e.type===ta.Z||e.type===Ke.Z||e.type===Je.Z||e.type===We.Z||e.type===Ye.Z||e.type===$e.Z||e.type===tt.Z||e.type===et.Z||e.type===at.Z||e.type===pe.Z){var s=e.props;return s.meta&&!s.meta.filters&&(s.meta.filters=r),o.createElement("div",{key:t},o.createElement(Yt.Z,{style:{float:"right",padding:"0.1rem 0.3rem",zIndex:2}},o.createElement(Ra,{filters:r,onActivateFilters:n,t:i}),o.createElement(ra.Z,{onClick:function(){a(t)},t:i})),o.createElement("div",{style:{position:"relative",height:s.layout&&s.layout.height?s.layout.height:300,marginTop:0,marginBottom:40,marginRight:25}},e))}return e.type===it.Z||e.type===st.Z||e.type===ot.Z||e.type===lt.Z||e.type===ct.Z||e.type===ut.Z||e.type===pt.Z||e.type===dt.Z?o.createElement("pre",{key:t},Pa(i("output-test"),e,a,t,r,n,i),e):e.type===nt.Z||e.type===rt.Z?o.createElement("pre",{key:t},Pa(i("output-table"),e,a,t,r,n,i),Oa(e)):e.type===Et.Z||e.type===vt.Z||e.type===ft.Z||e.type===ht.Z||e.type===bt.Z||e.type===Zt.Z||e.type===St.Z||e.type===gt.Z?o.createElement("pre",{key:t},Pa(i("output-model"),e,a,t,r,n,i),Oa(e)):e.type===mt.Z||e.type===yt.Z?o.createElement("pre",{key:t},o.createElement(Yt.Z,{style:{float:"right",padding:"0.1rem 0.3rem",top:"-1px",zIndex:2}},o.createElement(Ra,{filters:r,onActivateFilters:n,style:{right:55,position:"absolute"},t:i}),o.createElement(ra.Z,{onClick:function(){a(t)},style:{right:-5,position:"absolute"},t:i})),o.createElement("div",{style:{marginTop:25}},e)):e.type===Rt.Z?o.createElement("pre",{key:t},Pa(i("summary-statistics"),e,a,t,r,n,i),Oa(e)):null},Ca=a(271743),ka=a(80674),xa=a(378176),wa=a(109376),Da=a(615558),Na=Object.defineProperty,La=Object.defineProperties,qa=Object.getOwnPropertyDescriptors,Ia=Object.getOwnPropertySymbols,Fa=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,Ma=function(e,t,a){return t in e?Na(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},Va=function(e,t){for(var a in t||(t={}))Fa.call(t,a)&&Ma(e,a,t[a]);if(Ia)for(var r,n=(0,i.Z)(Ia(t));!(r=n()).done;){a=r.value;Ha.call(t,a)&&Ma(e,a,t[a])}return e},Xa=function(e,t){return La(e,qa(t))},ja=function(e,t,a){return Ma(e,"symbol"!=typeof t?t+"":t,a),a},za=(0,o.lazy)((function(){return Promise.all([a.e(9553),a.e(7209),a.e(5771)]).then(a.bind(a,28589))})),Ba=u()("isle:data-explorer"),Ua=(0,ee.Z)("data-explorer"),Qa="(Shift+Alt+Q)",Ga="(Shift+Alt+H)",Ka="(Shift+Alt+D)",Ja="(Shift+Alt+R)";function Wa(e,t){if(0===t.length)return!0;for(var a=K()(e),r=0;r<t.length;r++)if(!L()(a,String(t[r])))return!1;return!0}function Ya(e,t){for(var a=new Set,r=0;r<t.length;r++){var n=t[r],i=e[n.id];if(j()(n.value,"min")&&j()(n.value,"max"))for(var o=0;o<i.length;o++)i[o]>=n.value.min&&i[o]<=n.value.max||a.add(o);else if((0,R.isPrimitive)(n.value))for(var s=0;s<i.length;s++)L()($()(i[s]),$()(n.value))||a.add(s);else for(var l=0;l<i.length;l++)L()(n.value,String(i[l]))||a.add(l)}for(var c=K()(e),u={},p=e[c[0]].length,d=0;d<c.length;d++){u[c[d]]=[]}for(var m=[],f=0;f<p;f++)if(!a.has(f)){for(var h=0;h<c.length;h++){var v=c[h];u[v].push(e[v][f])}e.id?m.push(e.id[f]):m.push(f+1)}return u.id=m,u}var $a=function(e){function t(t){var a;a=e.call(this,t)||this,ja((0,r.Z)(a),"restoreOutputs",(function(e,t){Ba("Restore elements in output pane...");for(var r=[],n=[],i=0;i<t.length;i++){var o=t[i];if(o.type===Ve.i_)break;o.type===Ve.cp&&n.push(o.value),r.push(o)}for(var s=[],l={logAction:a.logAction,session:a.context,data:e.data,quantitative:e.quantitative,categorical:e.categorical},c=r.length-1;c>=0;c--){var u=r.length-1-c;if(!L()(n,u)){var p=r[c],d=p.value.filters;d&&(l.data=Ya(e.data,d));var m=kt(p,l);if(m){var f=_a(m,s.length,a.clearOutput,d||e.subsetFilters,a.onFilters,a.props.t);s.push(f)}}}Ba("Restored "+s.length+" elements."),e.output=s,a.setState(e)})),ja((0,r.Z)(a),"applyTransformation",(function(e,t){switch(t.type){case Ve.gx:if(Ba("Should add transformed variable "+t.value.name),!j()(a.props.data,t.value.name)){var r=(0,Ca.Z)(t.value.code,e.data);e=a.transformVariable(t.value.name,r,e)}break;case Ve.dU:var n=t.value,i=n.name,o=n.variable,s=n.breaks,l=n.categories;if(Ba("Should add binned variable "+i),!j()(a.props.data,i)){var c=e.data[o],u=(0,ka.Z)(c,l,s),p=(0,be.Z)(i,l);e=a.transformVariable(p,u,e)}break;case Ve.CS:var d=t.value,m=d.name,f=d.firstVar,h=d.secondVar,v=d.nameMappings,g=d.castNumeric;if(Ba("Should add recoded variable "+m),!j()(a.props.data,m)&&e.data[f]){var E=(0,xa.Z)(f,h,v,e.data,g);e=a.transformVariable(m,E,e)}break;case Ve.Jz:e=a.deleteVariable(t.value,e);break;case Ve.gy:var b=t.value,y=b.name,Z=b.distribution,S=b.params,R=b.asCategorical,T=b.nObs,A=b.seed;Ba("Should add random variable "+y);var P=(0,wa.Z)({name:y,distribution:Z,params:S,asCategorical:R,nObs:T,seed:A});if(D()(P[0]))for(var O=0;O<P[0].length;O++)j()(a.props.data,P[0][O])||(e=a.transformVariable(P[0][O],P[1][O],e));else j()(a.props.data,y)||(e=a.transformVariable(P[0],P[1],e))}return e})),ja((0,r.Z)(a),"restoreTransformations",(function(e){var t=a.state;Ba("Restoring transformations...");for(var r=e.length-1;r>=0;r--){var n=e[r];t=a.applyTransformation(t,n)}t.data=B()(t.data,1),setTimeout((function(){a.restoreOutputs(t,e)}),1500)})),ja((0,r.Z)(a),"resetStorage",(function(){a.context.store.removeItem(a.id),a.setState({data:null,categorical:[],quantitative:[],ready:!1})})),ja((0,r.Z)(a),"shareData",(function(){var e=a.context;if(e.metadata.store[a.id])e.updateMetadata("store",a.id,null),a.forceUpdate();else{var t={data:a.state.data,quantitative:a.state.quantitative,categorical:a.state.categorical},r=new Blob([JSON.stringify(t)],{type:"application/json"}),n=new File([r],"data.json"),i=new FormData;i.append("file",n),e.uploadFile({formData:i,callback:function(t,r){var n=r.filename,i=e.server+"/"+n;e.updateMetadata("store",a.id,i),a.forceUpdate()},showNotification:!1})}})),ja((0,r.Z)(a),"toggleStudentPlots",(function(){a.setState({showStudentPlots:!a.state.showStudentPlots})})),ja((0,r.Z)(a),"clearOutput",(function(e){a.context.log({id:a.id,type:Ve.cp,value:e},"owners");var t=a.state.output.slice();t[e]=null,a.setState({output:t})})),ja((0,r.Z)(a),"clearPlots",(function(){a.setState({studentPlots:[]})})),ja((0,r.Z)(a),"onUserAction",(function(e){var t,r=e.value;switch(V()(r)&&(r=JSON.parse(r)),e.type){case"DATA_EXPLORER_SHARE_BARCHART":t=(0,Be.G)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_BOXPLOT":t=(0,ze.I)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_CONTOURCHART":t=(0,Ue.k)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_HEATMAP":t=(0,Qe.L)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_HISTOGRAM":t=(0,Ge.N)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_LINEPLOT":t=(0,Ke.i)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_MAP":t=(0,Je._)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_MOSAIC":t=(0,We.r)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_PIECHART":t=(0,Ye.E)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_QQPLOT":t=(0,$e._)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_SCATTERPLOT":t=(0,tt.s)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_SPLOM":t=(0,et.T)(Va({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_VIOLINPLOT":t=(0,at.O)(Va({data:a.state.data},r))}if(t){for(var n=a.state.studentPlots.slice(),i=JSON.stringify(t),o=!1,s=0;s<n.length;s++)if(n[s].config===i){n[s].count+=1,o=!0;break}o||n.push({config:i,count:1}),a.setState({studentPlots:n})}})),ja((0,r.Z)(a),"onFilters",(function(e){a.setState({filters:e},a.onFilterCreate)})),ja((0,r.Z)(a),"addToOutputs",(function(e){var t=a.state.output.slice();if(D()(e))for(var r=0;r<e.length;r++){var n=_a(e[r],t.length,a.clearOutput,a.state.subsetFilters,a.onFilters,a.props.t);t.push(n)}else{var i=_a(e,t.length,a.clearOutput,a.state.subsetFilters,a.onFilters,a.props.t);t.push(i)}a.setState({output:t})})),ja((0,r.Z)(a),"transformVariable",(function(e,t,r){var n,i,o,s,l;return Ba("Attach transformed variable "+e+" to data..."),r?(s=B()(r.data,1),n=r.quantitative.slice(),i=r.categorical.slice(),o=r.groupVars.slice()):(s=B()(a.state.data,1),n=a.state.quantitative.slice(),i=a.state.categorical.slice(),o=a.state.groupVars.slice()),s[e]=t,A()(t)?L()(n,e)||(n.push(e),(l=i.indexOf(e))>0&&(i.splice(l,1),o=i.slice())):(L()(i,e)||(i.push(e),(l=n.indexOf(e))>0&&n.splice(l,1)),o=i.slice()),{data:s,categorical:i,quantitative:n,groupVars:o}})),ja((0,r.Z)(a),"onGenerateTransformedVariable",(function(e,t){var r=a.context;if(D()(e)){for(var n,i=0;i<e.length;i++)n=a.transformVariable(e[i],t[i],n);return r.addNotification({title:a.props.t("variables-created"),message:a.props.t("variables-created-msg",{name:e.join(", ")}),level:"success",position:"tr"}),a.setState(n)}if(j()(a.props.data,e))return r.addNotification({title:a.props.t("variable-exists"),message:a.props.t("variable-exists-msg"),level:"error",position:"tr"});r.addNotification({title:a.props.t("variable-created"),message:a.props.t("variable-created-msg",{name:e}),level:"success",position:"tr"}),a.setState(Va({},a.transformVariable(e,t)))})),ja((0,r.Z)(a),"onColumnDelete",(function(e){Ba("Should remove variable with name "+e);var t=a.context;a.logAction(Ve.Jz,e),t.addNotification({title:a.props.t("variable-removed"),message:a.props.t("variable-removed-msg",{variable:e}),level:"success",position:"tr"});var r=a.deleteVariable(e);r.data=B()(r.data,1),a.setState(r)})),ja((0,r.Z)(a),"onColumnNameChange",(function(e,t){for(var r=a.state,n=K()(a.state.data),i={},o=0;o<n.length;o++){var s=n[o];s===e?i[t]=a.state.data[e]:i[s]=a.state.data[s]}var l=r.quantitative.map((function(a){return a===e?t:a})),c=r.categorical.map((function(a){return a===e?t:a})),u=r.groupVars.map((function(a){return a===e?t:a}));a.setState({data:i,quantitative:l,categorical:c,groupVars:u})})),ja((0,r.Z)(a),"onColumnDrag",(function(e){var t=a.state,r=function(t,a){return t=e.indexOf(String(t)),a=e.indexOf(String(a)),-1===t||-1===a?0:t<a?-1:t>a?1:0},n=t.quantitative.slice().sort(r),i=t.categorical.slice().sort(r),o=t.groupVars.slice().sort(r);a.setState({quantitative:n,categorical:i,groupVars:o})})),ja((0,r.Z)(a),"deleteVariable",(function(e,t){var r,n=t||a.state;return delete(r=t?t.data:B()(a.state.data,1))[e],{data:r,quantitative:n.quantitative.filter((function(t){return t!==e})),categorical:n.categorical.filter((function(t){return t!==e})),groupVars:n.groupVars.filter((function(t){return t!==e})),filters:(n.filters||[]).filter((function(t){return t.id!==e}))}})),ja((0,r.Z)(a),"onFileUpload",(function(e,t){var r=a.context;if(!e){for(var n={},i=K()(t[0]).filter((function(e){return""!==e})),o=0;o<i.length;o++){var s=i[o];n[s]=new Array(t.length)}for(var l=0;l<t.length;l++)for(var c=0;c<i.length;c++){var u=i[c];n[u][l]=t[l][u]}var p=[],d=[];i.forEach((function(e){A()(n[e])?d.push(e):p.push(e)})),a.setState({quantitative:d,categorical:p,data:n},(function(){r.store.setItem(a.id,{data:a.state.data,quantitative:d,categorical:p})}))}})),ja((0,r.Z)(a),"onFilterCreate",(function(){var e={data:Ya(a.state.data,a.state.filters),oldData:a.state.data,subsetFilters:a.state.filters};a.setState(e)})),ja((0,r.Z)(a),"onFilterAdd",(function(){var e=a.restoreData(),t={data:Ya(e,a.state.filters),oldData:e,subsetFilters:a.state.filters};a.setState(t)})),ja((0,r.Z)(a),"restoreData",(function(){var e,t,r=K()(a.state.data),n=K()(a.state.oldData);a.props.data?(e=a.props.data,t=B()(a.props.data,1)):(e=a.state.unaltered.data,t=B()(e,1));for(var i=[],o=0;o<a.props.quantitative.length;o++)i.push(String(a.props.quantitative[o]));for(var s=0;s<a.props.categorical.length;s++)i.push(String(a.props.categorical[s]));for(var l=a.state.data.id,c=e[n[0]].length,u=a.state.oldData.id||W()(1,c+1,1),p=0;p<n.length;p++){var d=n[p];if("id"!==d&&!L()(i,d)){t[d]=new Array(c).fill(null);for(var m=0;m<u.length;m++){var f=u[m]-1;t[d][f]=a.state.oldData[d][m]}}}for(var h=0;h<r.length;h++){var v=r[h];if("id"!==v&&!L()(i,v)){Ba("Handle inserted variable: "+v),t[v]||(t[v]=new Array(c).fill(null));for(var g=0;g<l.length;g++){var E=l[g]-1;t[v][E]=a.state.data[v][g]}}}return t})),ja((0,r.Z)(a),"onPredict",{"decision-tree":function(e,t){var r=B()(a.state.data,1),n=a.state.categorical.slice(),i=a.state.quantitative.slice();if("classification"===e.type){var o=e.predict(r).map((function(e){return String(e)})),s="pred_tree"+t;r[s]=o,L()(n,s)||n.push(s),s="correct_tree"+t;var l=r[e.response];r[s]=o.map((function(e,t){return e===String(l[t])?"Yes":"No"})),L()(n,s)||n.push(s)}else{var c=e.predict(r),u="pred_tree"+t;r[u]=c,L()(i,u)||i.push(u),r[u="resid_tree"+t]=(0,Ee.Z)(c,r[e.response]),L()(i,u)||i.push(u)}a.setState({categorical:n,quantitative:i,data:r})},lasso:function(e,t){var r=B()(a.state.data,1),n=a.state.quantitative.slice(),i="pred_lasso"+t,o=e(r),s=o.fitted,l=o.residuals;r[i]=s,L()(n,i)||n.push(i),r[i="resid_lasso"+t]=l,L()(n,i)||n.push(i),a.setState({quantitative:n,data:r})},logistic:function(e,t){var r=B()(a.state.data,1),n=a.state.quantitative.slice(),i=a.state.categorical.slice(),o=e(r),s=o.yhat,l=o.probs,c=o.residuals,u="probs_logis"+t;r[u]=l,L()(n,u)||n.push(u),r[u="pred_logis"+t]=s,L()(i,u)||i.push(u),u="resid_logis"+t,L()(n,u)||n.push(u),r[u]=c,a.setState({categorical:i,quantitative:n,data:r})},"multiple-linear-regression":function(e,t){var r=B()(a.state.data,1),n=a.state.quantitative.slice(),i=e(r),o=i.fitted,s=i.residuals,l="pred_lm"+t;r[l]=o,L()(n,l)||n.push(l),l="resid_lm"+t,L()(n,l)||n.push(l),r[l]=s,a.setState({quantitative:n,data:r})},"random-forest":function(e,t){var r=B()(a.state.data,1),n=a.state.categorical.slice();if("classification"===e.type){var i=e.predict(r).map((function(e){return String(e)})),o="pred_forest"+t;r[o]=i,L()(n,o)||n.push(o),o="correct_forest"+t;var s=a.state.data[e.response];r[o]=i.map((function(e,t){return e===String(s[t])?"Yes":"No"})),L()(n,o)||n.push(o)}a.setState({categorical:n,data:r})},"simple-linear-regression":function(e,t){var r=B()(a.state.data,1),n=e(r),i=n.fitted,o=n.residuals,s=a.state.quantitative.slice(),l="pred_slm"+t;r[l]=i,L()(s,l)||s.push(l),l="resid_slm"+t,L()(s,l)||s.push(l),r[l]=o,a.setState({quantitative:s,data:r})},"naive-bayes":function(e,t){for(var r=B()(a.state.data,1),n=a.state.quantitative.slice(),i=e(r),o=i.fitted,s=i.classProbs,l=Object.keys(s),c=0;c<l.length;c++){var u=l[c];r[u]=s[u],L()(n,u)||n.push(u)}var p="pred_bayes"+t;r[p]=o;var d=a.state.categorical.slice();L()(d,p)||d.push(p),a.setState({categorical:d,quantitative:n,data:r})}}),ja((0,r.Z)(a),"onRestoreData",(function(){var e=a.restoreData();a.setState({data:e,subsetFilters:null,filters:[]})})),ja((0,r.Z)(a),"on2dSelection",(function(e,t){var r=a.state.filters.filter((function(t){return t.id!==e.x&&t.id!==e.y}));r.push({id:e.x,value:{min:t.range.x[0],max:t.range.x[1]}}),r.push({id:e.y,value:{min:t.range.y[0],max:t.range.y[1]}}),a.setState({filters:r})})),ja((0,r.Z)(a),"onQQPlotSelection",(function(e,t){if(t.range&&t.range.y){var r=a.state.filters.filter((function(t){return t.id!==e})),n=t.range.y;r.push({id:e,value:{min:n[0],max:n[1]}}),a.setState({filters:r})}})),ja((0,r.Z)(a),"onBarchartSelection",(function(e,t){var r=a.state.filters.filter((function(t){return t.id!==e}));r.push({id:e,value:t.range.x}),a.setState({filters:r})})),ja((0,r.Z)(a),"onHistogramSelection",(function(e,t){if(t.points&&t.points[0]){var r=t.points[0],n=r.fullData.xbins.size,i=t.points[t.points.length-1],o=a.state.filters.filter((function(t){return t.id!==e}));o.push({id:e,value:{min:r.x-n/2,max:i.x+n/2}}),a.setState({filters:o})}}));var n,i,o,s=t.data;t.data?(n=t.quantitative,i=t.categorical,o=t.categorical.slice()):(n=[],i=[],o=[]);var l=!1,c=!0;return x()(s)&&(n.length>0||i.length>0)&&(l=!0,c=Wa(s,n.concat(i))),a.id=t.id||Ua(t),a.state={data:s,quantitative:n,categorical:i,validVariables:c,output:[],groupVars:o,ready:l,showStudentPlots:!1,openedNav:t.opened||(H()(t.questions)?"data":"questions"),studentPlots:[],subsetFilters:null,unaltered:{data:t.data,quantitative:t.quantitative,categorical:t.categorical},filters:[]},a.logAction=function(e,t){a.state.subsetFilters&&(t=Xa(Va({},t),{filters:a.state.subsetFilters}));var r=a.context,n="individual"!==a.props.reportMode?"members":"owners";r.log({id:a.id,type:e,value:t},n)},a}(0,n.Z)(t,e),t.getDerivedStateFromProps=function(e,t){if(!e.data)return null;var a={};return e.data!==t.unaltered.data&&(a.data=e.data),e.quantitative!==t.unaltered.quantitative&&(a.quantitative=e.quantitative),e.categorical!==t.unaltered.categorical&&(a.categorical=e.categorical),a.validVariables=Wa(e.data,e.quantitative.concat(e.categorical)),I()(a)?null:(a.unaltered={data:e.data,quantitative:e.quantitative,categorical:e.categorical},a)};var a=t.prototype;return a.componentDidMount=function(){var e=this,t=this.context;if(!this.props.data)if(t.metadata.store[this.id]){var a=t.metadata.store[this.id];(0,m.AVB)(a).then((function(t){var a=(t.categorical||[]).slice();e.setState({data:t.data,quantitative:t.quantitative,categorical:t.categorical,groupVars:a,ready:!0,unaltered:{data:t.data,quantitative:t.quantitative,categorical:t.categorical}})}))}else t.store.getItem(this.id).then((function(t){var a=t.quantitative,r=void 0===a?[]:a,n=t.categorical,i=void 0===n?[]:n,o=t.data,s=void 0===o?null:o,l=!1;I()(s)&&(s=null),H()(s)||(l=!0);var c=(i||[]).slice();e.setState({data:s,quantitative:r,categorical:i,groupVars:c,ready:l,unaltered:{data:s,quantitative:r,categorical:i}})})).catch((function(e){Ba(e)}));if(t.currentUserActions){var r=t.currentUserActions[this.id];this.props.data&&C()(r)&&this.restoreTransformations(r)}this.unsubscribe=t.subscribe((function(a,r){if(a===Xe.u){var n=r[e.id];e.props.data&&C()(n)&&e.restoreTransformations(n)}else if(a===Xe.KI){if(t.metadata.store[e.id]){var i=t.metadata.store[e.id];(0,m.AVB)(i).then((function(t){var a=(t.categorical||[]).slice();e.setState({data:t.data,quantitative:t.quantitative,categorical:t.categorical,groupVars:a,ready:!0})}))}}else if(a===Xe.Wh){if(r.id!==e.id||r.email===t.user.email||"individual"===e.props.reportMode)return;if("group"===e.props.reportMode){if(!t.group)return;for(var o=t.group.members,s=!1,l=0;l<o.length;l++)if(o[l].email===r.email){s=!0;break}if(!s)return}r.type!==Ve.gx&&r.type!==Ve.dU&&r.type!==Ve.CS&&r.type!==Ve.Jz||e.restoreTransformations([r]),e.context.currentUserActions[e.id].unshift(r)}}))},a.componentDidUpdate=function(e,t){Ba("Component did update..."),this.state.output!==t.output&&this.outputPanel&&this.outputPanel.scrollToBottom()},a.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},a.render=function(){var e=this;if(Ba("Render component..."),!this.state.data)return o.createElement(me,{title:this.props.t("data-explorer"),onUpload:this.onFileUpload});if(!this.state.ready){var t=K()(this.state.data);return o.createElement(Z.Z,null,o.createElement(Z.Z.Header,{as:"h3"},this.props.t("data-explorer")),o.createElement(Z.Z.Body,null,o.createElement("h4",null,this.props.t("select-quantitative-categorical"),":"),o.createElement(te.Z,{legend:this.props.t("quantitative"),options:t,defaultValue:this.state.quantitative,multi:!0,onChange:function(t){e.setState({quantitative:t||[]})}}),o.createElement(te.Z,{legend:this.props.t("categorical"),options:t,defaultValue:this.state.categorical,multi:!0,onChange:function(t){e.setState({categorical:t||[]})}}),o.createElement(h.Z,{disabled:O()(this.state.categorical)&&O()(this.state.quantitative),onClick:function(){e.setState({groupVars:e.state.categorical.slice(),ready:!0},(function(){var t=e.context,a={data:e.state.data,quantitative:e.state.quantitative,categorical:e.state.categorical};t.store.setItem(e.id,a),e.setState({unaltered:a})}))}},this.props.t("submit")),o.createElement(ve.Z,{data:this.state.data,id:this.id+"_table"})))}if(I()(this.state.data))return o.createElement(f.Z,{variant:"danger"},this.props.t("data-empty"));if(!this.state.validVariables)return o.createElement(f.Z,{variant:"danger"},o.createElement(p.c,{i18nKey:"variables-invalid-alert",ns:"DataExplorer"},"The ",o.createElement("b",null,"quantitative")," or ",o.createElement("b",null,"categorical")," data arrays contain variable names not present in the ",o.createElement("b",null,"data")," object."));var a=this.context,r=!H()(this.props.questions),n=D()(this.props.questions)?{children:this.props.questions}:this.props.questions,i=this.props.style.height||.9*window.innerHeight-165;return o.createElement(g.Z,{className:"no-gutter data-explorer",style:this.props.style},o.createElement(E.Z,{xs:6,md:6},o.createElement(Z.Z,{style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},o.createElement(v.Z,{className:"data-explorer-navbar",value:this.state.openedNav,onSelect:function(t){return e.setState({openedNav:t})}},o.createElement(y.Z,null,r?o.createElement(y.Z.Item,{className:"explorer-data-nav"},o.createElement(y.Z.Link,{title:this.props.t("questions")+" "+Qa,eventKey:"questions",active:"questions"===this.state.openedNav},this.props.t("questions"))):null,this.props.dataTable?o.createElement(y.Z.Item,{className:"explorer-data-nav"},o.createElement(y.Z.Link,{title:this.props.t("data")+" "+Ka,eventKey:"data",active:"data"===this.state.openedNav},this.props.t("data"))):null,this.props.editor?o.createElement(y.Z.Item,{className:"explorer-editor-nav"},o.createElement(y.Z.Link,{title:(this.props.editorTitle?this.props.editorTitle:this.props.t("report"))+" "+Ja,active:"editor"===this.state.openedNav,eventKey:"editor"},this.props.editorTitle?this.props.editorTitle:this.props.t("report"))):null,this.props.history?o.createElement(y.Z.Item,{className:"explorer-editor-nav"},o.createElement(y.Z.Link,{title:this.props.t("history")+" "+Ga,active:"history"===this.state.openedNav,eventKey:"history"},this.props.t("history"))):null,this.props.tabs.length>0?this.props.tabs.map((function(t,a){return o.createElement(y.Z.Item,{key:a,className:"explorer-tabs-nav"},o.createElement(y.Z.Link,{active:e.state.openedNav===t.title,eventKey:t.title},t.title))})):null),o.createElement(o.Suspense,{fallback:o.createElement(h.Z,{variant:"secondary",size:"sm",className:"hide-toolbox-button",disabled:!0},"Loading...")},o.createElement(za,{id:this.id+"-toolbox",models:this.props.models,tables:this.props.tables,statistics:this.props.statistics,plots:this.props.plots,tests:this.props.tests,quantitative:this.state.quantitative,originalQuantitative:this.props.quantitative,categorical:this.state.categorical,logAction:this.logAction,onCreated:this.addToOutputs,data:this.state.data,showTestDecisions:this.props.showTestDecisions,onPlotDone:this.outputPanel?this.outputPanel.scrollToBottom:Q(),groupingVariables:this.state.groupVars,on2dSelection:this.on2dSelection,onQQPlotSelection:this.onQQPlotSelection,transformer:this.props.transformer,onBarchartSelection:this.onBarchartSelection,showHistogramDensityOption:this.props.histogramDensities,onGenerateTransformedVariable:this.onGenerateTransformedVariable,onHistogramSelection:this.onHistogramSelection,onCategoricalGenerate:function(t,a){var r=t.slice();e.setState({categorical:t,groupVars:r,data:a})},onQuantitativeGenerate:function(t,a){e.setState({quantitative:t,data:a})},onTutorialStart:this.props.onTutorialStart,onTutorialCompletion:this.props.onTutorialCompletion,onPredict:this.onPredict}))),o.createElement(Z.Z.Body,{style:{overflowY:"auto"}},r?o.createElement(le.Z,Va({id:this.id+"_questions",height:i,className:"data-explorer-questions",style:{display:"questions"!==this.state.openedNav?"none":null}},n)):null,o.createElement("div",{style:{display:"data"!==this.state.openedNav?"none":null}},this.props.data||a.metadata.store[this.id]?null:o.createElement(h.Z,{size:"small",onClick:this.resetStorage,style:{position:"absolute",top:"80px",zIndex:2}},this.props.t("clear-data")),this.props.data?null:o.createElement(ce.Z,{owner:!0,banner:null},o.createElement(h.Z,{size:"small",onClick:this.shareData,style:{position:"absolute",top:"80px",left:"140px",zIndex:2}},a.metadata.store[this.id]?this.props.t("unshare"):this.props.t("share"))),o.createElement(ve.Z,Xa(Va({},this.props.dataTableProps),{data:this.state.data,dataInfo:this.props.dataInfo,undeletableVars:K()(this.props.data),filters:this.state.filters,onFilteredChange:function(t){Ba("Filters have changed..."),e.setState({filters:t})},onColumnDelete:this.onColumnDelete,onColumnNameChange:this.onColumnNameChange,onColumnDrag:this.onColumnDrag,deletable:!0,id:this.id+"_table"})),o.createElement(g.Z,null,o.createElement(E.Z,{md:4},this.state.filters.length>0&&this.state.subsetFilters!==this.state.filters?o.createElement(de.Z,{placement:"top",overlay:o.createElement(S.Z,null,this.props.t("create-filtered-dataset-tooltip"))},o.createElement(h.Z,{onClick:function(){e.state.subsetFilters?e.onFilterAdd():e.onFilterCreate()},variant:"secondary",size:"xsmall",style:{float:"left"}},this.props.t("create-filtered-dataset"))):null),o.createElement(E.Z,{md:8},this.state.subsetFilters?o.createElement("div",{className:"data-explorer-subset-filter-display"},o.createElement("p",null,o.createElement("span",{style:{color:"white",paddingLeft:2}},this.props.t("filtered"),":"),this.state.subsetFilters?o.createElement(de.Z,{placement:"top",overlay:o.createElement(S.Z,null,this.props.t("restore-original-dataset-tooltip"))},o.createElement(h.Z,{onClick:this.onRestoreData,variant:"secondary",size:"small",style:{float:"right"}},this.props.t("restore-original-dataset"))):null),o.createElement(da,{filters:this.state.subsetFilters,removeButtons:!0,onRemove:function(t){Ba("Removing filter at position "+t);var a=e.state.subsetFilters.slice();a.splice(t,1),a.length>0?e.setState({data:e.state.oldData,filters:a},e.onFilterCreate):e.onRestoreData()}})):null))),this.props.history&&"history"===this.state.openedNav?o.createElement(Jt,{explorerID:this.id,actions:this.context.currentUserActions[this.id],onCreated:this.addToOutputs,onTransformation:function(t){var r=e.applyTransformation(e.state,t);a.addNotification({title:e.props.t("variable-created"),message:e.props.t("variable-created-msg",{name:t.value.name}),level:"success",position:"tr"}),e.setState(r)},logAction:this.logAction,session:this.context,data:this.state.data,quantitative:this.state.quantitative,categorical:this.state.categorical,t:this.props.t,reportMode:this.props.reportMode}):null,this.props.editor?o.createElement(ae.Z,Xa(Va({},this.props.editorProps),{mode:this.props.reportMode,id:this.id+"_editor",style:{display:"editor"!==this.state.openedNav?"none":null},submitButton:!0})):null,this.props.tabs.map((function(t,a){return e.state.openedNav===t.title?t.content:null}))))),o.createElement(E.Z,{xs:6,md:6},o.createElement("div",{className:"card card-default",style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},o.createElement(Ze,{output:this.state.output,ref:function(t){e.outputPanel=t},session:this.context,header:o.createElement(ce.Z,{owner:!0,banner:null},o.createElement(b.Z,{show:this.state.showStudentPlots,onHide:this.toggleStudentPlots,dialogClassName:"modal-100w"},o.createElement(b.Z.Header,{closeButton:!0},o.createElement(b.Z.Title,null,this.props.t("plots"))),o.createElement(b.Z.Body,{style:{height:.8*window.innerHeight,overflowY:"scroll"}},this.state.studentPlots.length>0?o.createElement(se,null,this.state.studentPlots.map((function(t,a){var r=JSON.parse(t.config);return o.createElement("div",{key:a,style:{height:"450px"}},(0,R.isPrimitive)(r)?o.createElement(fe.Z,{code:r,libraries:["MASS"]}):o.createElement(pe.Z,{data:r.data,layout:r.layout,removeButtons:!0}),o.createElement("span",null,o.createElement("b",null,e.props.t("count"),": "),t.count))}))):o.createElement(Z.Z,{body:!0,className:"bg-light"},this.props.t("no-plots-yet"))),o.createElement(b.Z.Footer,null,o.createElement(h.Z,{variant:"danger",onClick:this.clearPlots},this.props.t("clear-plots")),o.createElement(h.Z,{onClick:this.toggleStudentPlots},this.props.t("close")))),o.createElement(h.Z,{variant:"secondary",size:"sm",style:{float:"right"},onClick:this.toggleStudentPlots},this.props.t("open-shared-plots")),o.createElement(ue.Z,{returnFullObject:!0,for:[this.id],onDatum:this.onUserAction})),clearOutput:function(){a.log({id:e.id,type:Ve.i_,value:null},"owners"),e.setState({output:[]})},reportMode:this.props.reportMode,t:this.props.t}),o.createElement(he.Z,{actions:{"shift+alt+r":function(){return e.setState({openedNav:"editor"})},"shift+alt+h":function(){return e.setState({openedNav:"history"})},"shift+alt+d":function(){return e.setState({openedNav:"data"})},"shift+alt+q":function(){return e.setState({openedNav:"questions"})}}}))))},t}(o.Component);$a.defaultProps={data:{},dataInfo:{info:"",name:"",variables:null,showOnStartup:!1},dataTable:!0,dataTableProps:{},history:!0,tabs:[],questions:null,transformer:!0,statistics:["Mean","Median","Min","Max","Range","Interquartile Range","Standard Deviation","Variance","Correlation","Correlation Matrix","Skewness","Excess Kurtosis","First Quartile","Third Quartile","Quantile","Five-Number Summary"],plots:["Bar Chart","Pie Chart","Mosaic Plot","Histogram","Interval Plot","Box Plot","Line Plot","Scatterplot","Scatterplot Matrix","Heat Map","Contour Chart","Violin Plot","QQ Plot"],tables:["Frequency Table","Contingency Table"],tests:["One-Sample Mean Test","Two-Sample Mean Test","One-Way ANOVA","One-Sample Proportion Test","Two-Sample Proportion Test","Correlation Test","Chi-square Independence Test","Kruskal-Wallis Test"],models:["Simple Linear Regression","Multiple Linear Regression","LASSO","Decision Tree","Random Forest","Logistic Regression","Naive Bayes","PCA","Hierarchical Clustering","kmeans"],opened:null,categorical:[],quantitative:[],editor:!0,editorProps:null,editorTitle:null,reportMode:"individual",histogramDensities:!0,showTestDecisions:!0,onTutorialCompletion:function(){},onTutorialStart:function(){},style:{}},$a.propTypes={categorical:l().array,quantitative:l().array,data:l().object,dataInfo:l().object,editor:l().bool,editorProps:l().object,editorTitle:l().string,dataTable:l().bool,dataTableProps:l().object,history:l().bool,reportMode:l().oneOf(["individual","group","collaborative"]),histogramDensities:l().bool,models:l().array,opened:l().oneOf(["data","toolbox","editor"]),plots:l().array,questions:l().oneOfType([l().array,l().object]),showTestDecisions:l().bool,statistics:l().array,style:l().object,tables:l().array,tabs:l().array,tests:l().array,transformer:l().bool,onTutorialCompletion:l().func,onTutorialStart:l().func},$a.contextType=ge.Z;var er=(0,d.Z)("data-explorer")((0,Da.W)($a))},109376:function(e,t,a){var r=a(839956),n=a.n(r),i=/^([^0-9]+)(\d+):\1(\d+)$/;t.Z=function(e){var t=e.name,a=e.distribution,r=e.params,o=e.nObs,s=e.asCategorical,l=e.seed,c=i.exec(t),u=n()[a].factory.apply(null,r.concat({seed:l}));if(c&&4===c.length){var p=c[1],d=parseInt(c[2],10),m=parseInt(c[3],10),f=[],h=[];if(s)for(var v=d;v<=m;v++){for(var g=new Array(o),E=0;E<o;E++)g[E]=String(u());h.push(g),f.push(""+p+v)}else for(var b=d;b<=m;b++){for(var y=new Array(o),Z=0;Z<o;Z++)y[Z]=u();h.push(y),f.push(""+p+b)}return[f,h]}for(var S=new Array(o),R=0;R<o;R++)S[R]=u();return[t,S]}},378176:function(e,t,a){var r=a(294565),n=a(409961),i=a.n(n),o=a(302467),s=a.n(o);function l(e){return(0,r.isPrimitive)(e)?s()(e,".","[dot]"):e}t.Z=function(e,t,a,r,n){void 0===n&&(n=!1);var o=[],s=r[e];if(!a)return s;if(n){if(i()(t))for(var c=0;c<s.length;c++){var u=s[c],p=Number(a[l(u)]);o.push(p)}else for(var d=r[t],m=0;m<s.length;m++){var f=a[l(s[m])+"-"+l(d[m])];o.push(Number(f))}return o}if(i()(t))for(var h=0;h<s.length;h++){var v=a[l(s[h])];"null"!==v&&"NA"!==v||(v=null),o.push(v)}else for(var g=r[t],E=0;E<s.length;E++){var b=a[l(s[E])+"-"+l(g[E])];o.push(b)}return o}},80674:function(e,t,a){var r=a(676065),n=a.n(r),i=a(309765),o=a(316305),s=a.n(o);t.Z=function(e,t,a){for(var r=[],o=0;o<e.length;o++){var l=void 0,c=e[o];if((0,i.isPrimitive)(c)&&!s()(c))for(var u=0;n()(l);)u>=a.length||c<a[u]?l=t[u]:u+=1;else l=null;r.push(l)}return r}},271743:function(e,t,a){var r=a(198852),n=a(733727),i=a.n(n),o=a(686605),s=a.n(o),l=a(695688),c=a.n(l),u=a(190465),p=a.n(u),d=a(557106),m=a.n(d),f=a(783158),h=a.n(f),v=a(798030),g=a.n(v),E=a(830324),b=a.n(E),y=a(700601),Z=a.n(y),S=a(409961),R=a.n(S),T=a(649985),A=a(519907),P=a(376353),O=a(714785),_=function(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e(a)}},C=[p(),g(),s(),c(),i(),m(),h(),_(A.Z),_(T.Z),_(P.Z)];t.Z=function(e,t){var a=[];for(var n in t)if(Z()(t,n))for(var i=0;i<t[n].length;i++){b()(a[i])||(a[i]={});var o=t[n][i];a[i][n]=R()(o)?NaN:o}for(var s=(0,r.Z)(Function,["datum"].concat(O,[e])),l=new Array(a.length),c=0;c<a.length;c++)l[c]=s.apply(void 0,[a[c]].concat(C));return l}},797209:function(e,t,a){var r=a(202784);t.Z=function(){var e=(0,r.useState)(0)[1];return(0,r.useCallback)((function(){e((function(e){return e+1}))}),[])}},597909:function(e,t){t.Z=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.opacity=0,t.style.pointerEvents="none",document.body.appendChild(t),window.getSelection().removeAllRanges();var a=document.createRange();a.selectNode(t),window.getSelection().addRange(a),document.execCommand("copy"),document.body.removeChild(t)}},705193:function(e,t){t.Z=function e(t,a,r){if(!(r<=0)){var n=(a-t.scrollTop)/r*10;setTimeout((function(){t.scrollTop=t.scrollTop+n,t.scrollTop!==a&&e(t,a,r-10)}),10)}}},211565:function(e,t,a){var r=a(89596),n=a.n(r),i=a(309765);t.Z=function(e,t){var a=n()(t);if(!n()(e))throw new TypeError("invalid input argument. Must provide an array. Value: `"+e+"`.");if(!a&&!(0,i.isPrimitive)(t))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+t+"`.");var r=e.length,o=new Array(r);if(a){if(r!==t.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var s=0;s<r;s++)o[s]=e[s]-t[s]}else for(var l=0;l<r;l++)o[l]=e[l]-t;return o}},714785:function(e){e.exports=JSON.parse('["exp","ln","round","sqrt","power","max","min","mean","stdev","sum"]')}}]);