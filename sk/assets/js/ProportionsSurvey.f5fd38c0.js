"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2723],{569904:function(e,n,t){var r=t(867855),a=t(202784),s=t(213980),l=t.n(s),o=Object.defineProperty,i=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=function(e,n,t){return n in e?o(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t},d=function(e){var n=e,t=n.children,s=function(e,n){var t={};for(var a in e)u.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&i)for(var s,l=(0,r.Z)(i(e));!(s=l()).done;)a=s.value,n.indexOf(a)<0&&c.call(e,a)&&(t[a]=e[a]);return t}(n,["children"]);return a.createElement("div",function(e,n){for(var t in n||(n={}))u.call(n,t)&&p(e,t,n[t]);if(i)for(var a,s=(0,r.Z)(i(n));!(a=s()).done;)t=a.value,c.call(n,t)&&p(e,t,n[t]);return e}({},s),t)};d.defaultProps={className:"",style:{}},d.propTypes={className:l().string,style:l().object},n.Z=d},978298:function(e,n,t){t.r(n);var r=t(202784),a=t(213980),s=t.n(a),l=t(690299),o=t.n(l),i=t(376699),u=t(790817),c=t(312594),p=t(458264),d=t(471275),m=t(1570),f=t.n(m),g=t(24551),b=t(324076),v=t(569904),y=t(750707),h=t(893316),E=t(267682),Z=t(262600),w=t(382617),N=t(376353),P=o()("isle:proportions-survey"),S=(0,g.Z)("proportions-survey"),$=function(e){var n=(0,r.useRef)(e.id||S(e)),t=(0,i.$)("surveys").t,a=(0,r.useContext)(E.Z),s=(0,r.useState)(!1),l=s[0],o=s[1],m=(0,r.useState)(!1),g=m[0],$=m[1],C=e.legends.length,O=(0,r.useState)(new Array(C).fill(100/C)),k=O[0],x=O[1],j=(0,r.useState)({values:null,nResults:0}),z=j[0],R=j[1],A=e.anonymous,T=e.legends,H=e.onSubmit,q=(0,r.useCallback)((function(){P("Sending the data: "+k),a.log({id:n.current,type:w.Pt,value:JSON.stringify(k),anonymous:A},"members"),o(!0),a.addNotification({title:t("submitted"),message:t("answer-submitted"),level:"success"}),H(k)}),[A,H,a,t,k]),J=(0,r.useCallback)((function(e){P("ProportionsSurvey is receiving data: "+JSON.stringify(e));for(var n=new Array(e.length),t=0;t<e.length;t++)n[t]=JSON.parse(e[t]);for(var r=T.length,a=new Array(r).fill(0),s=new Array(r).fill(0),l=0;l<n.length;l++)for(var o=0;o<n[l].length;o++)a[o]+=n[l][o];P("The sum is "+a);for(var i=0;i<r;i++)s[i]=a[i]/n.length;P("The mean is "+s),R({values:s,nResults:n.length})}),[T]),M=l&&!e.allowMultipleAnswers||e.disabled||f()((0,N.Z)(k),100)>.2;return r.createElement(Z.Z,null,r.createElement(d.Z,null,r.createElement(p.Z,null,r.createElement(c.Z,{md:6},r.createElement(u.Z,{body:!0,className:"proportions-survey"},r.createElement("h3",null,e.question,g?r.createElement("i",{className:"fas fa-lock",style:{float:"right"}}):null),r.createElement(b.Z,{legends:T,precision:e.precision,step:e.step,height:e.personalHeight,colors:e.colors,margin:e.margin,onChange:x}),r.createElement(h.Z,{id:n.current,disabled:M,onClick:q,onPaused:$},t(M?"submitted":"submit")))),r.createElement(c.Z,{md:6},r.createElement(u.Z,{body:!0,className:"proportions-survey"},r.createElement("h3",null,e.group),r.createElement(y.Z,{for:[n.current],onData:J}),r.createElement("h4",null,t("number-of-votes"),": ",z.nResults," "),r.createElement(b.Z,{legends:e.legends,precision:e.precision,step:e.step,height:e.groupHeight,colors:e.colors,disabled:!0,margin:e.margin,values:z.values}))))),r.createElement(v.Z,{buttonLabel:t("responses"),id:n.current}))};$.defaultProps={onSubmit:function(){},allowMultipleAnswers:!1,question:"",anonymous:!1,disabled:!1,legends:[],group:"group results",precision:2,step:.25,colors:null,personalHeight:200,groupHeight:100,margin:"40px"},$.propTypes={allowMultipleAnswers:s().bool,anonymous:s().bool,colors:s().array,disabled:s().bool,group:s().string,groupHeight:s().number,legends:s().array,margin:s().string,onSubmit:s().func,personalHeight:s().number,precision:s().number,question:s().oneOfType([s().string,s().node]),step:s().number},n.default=$},893316:function(e,n,t){var r=t(202784),a=t(213980),s=t.n(a),l=t(376699),o=t(822736),i=t(770561),u=t(476709),c=t(267682),p=t(382617),d=t(10206),m=function(e){var n=e.children,t=e.disabled,a=e.id,s=e.size,m=e.variant,f=e.onClick,g=e.onPaused,b=(0,r.useState)(!1),v=b[0],y=b[1],h=(0,l.$)("general").t,E=(0,r.useContext)(c.Z);(0,r.useEffect)((function(){var e;return E&&(e=E.subscribe((function(e,n){e===d.Wh&&n.id===a+"-stoppable-button"&&(n.type===p.rz?(y(!0),g(!0)):n.type===p.nt&&(y(!1),g(!1)))}))),function(){e&&e()}}),[a,E,g]);var Z=(0,r.useCallback)((function(){E.log({id:a+"-stoppable-button",type:v?p.nt:p.rz,value:!0},"members"),y(!v),g&&g(!v)}),[a,v,E,g]);return a?r.createElement("div",{className:"d-grid gap-2"},r.createElement(i.Z,{className:"stoppable-button",size:s,variant:m,onClick:f,disabled:t||v},n),r.createElement(u.Z,{owner:!0,banner:null},r.createElement(i.Z,{size:s,variant:v?"warning":"secondary",onClick:Z},v?r.createElement("span",null,h("resume")):r.createElement("span",null,h("pause"))))):r.createElement(o.Z,{variant:"danger"},h("supply-component-id"))};m.defaultProps={size:"small",variant:"success"},m.propTypes={size:s().oneOf(["small","sm","large","lg"]),variant:s().string},n.Z=m},770561:function(e,n,t){var r=t(72779),a=t.n(r),s=t(202784),l=t(247830),o=t(429658),i=t(552322);const u=s.forwardRef((({as:e,bsPrefix:n,variant:t,size:r,active:s,className:u,...c},p)=>{const d=(0,o.vE)(n,"btn"),[m,{tagName:f}]=(0,l.FT)({tagName:e,...c}),g=f;return(0,i.jsx)(g,{...m,...c,ref:p,className:a()(u,d,s&&"active",t&&`${d}-${t}`,r&&`${d}-${r}`,c.href&&c.disabled&&"disabled")})}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},n.Z=u},471275:function(e,n,t){var r=t(72779),a=t.n(r),s=t(202784),l=t(429658),o=t(552322);const i=s.forwardRef((({bsPrefix:e,fluid:n,as:t="div",className:r,...s},i)=>{const u=(0,l.vE)(e,"container"),c="string"==typeof n?`-${n}`:"-fluid";return(0,o.jsx)(t,{ref:i,...s,className:a()(r,n?`${u}${c}`:u)})}));i.displayName="Container",i.defaultProps={fluid:!1},n.Z=i},458264:function(e,n,t){var r=t(72779),a=t.n(r),s=t(202784),l=t(429658),o=t(552322);const i=s.forwardRef((({bsPrefix:e,className:n,as:t="div",...r},s)=>{const i=(0,l.vE)(e,"row"),u=(0,l.pi)(),c=`${i}-cols`,p=[];return u.forEach((e=>{const n=r[e];let t;delete r[e],null!=n&&"object"==typeof n?({cols:t}=n):t=n;const a="xs"!==e?`-${e}`:"";null!=t&&p.push(`${c}${a}-${t}`)})),(0,o.jsx)(t,{ref:s,...r,className:a()(n,i,...p)})}));i.displayName="Row",n.Z=i}}]);