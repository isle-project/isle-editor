(self.webpackChunk=self.webpackChunk||[]).push([[4669],{123950:function(t){"use strict";t.exports=JSON.parse('["exp","ln","round","sqrt","power","max","min","mean","stdev","sum"]')},612249:function(t,e,a){"use strict";var r,i=a(858255),n=(a(202784),a(213980),a(770561)),o=a(150275),s=function(t){return(0,i.Z)(o.Z,{id:"clear_tooltip",placement:t.tooltipPlacement,tooltip:t.t("data-explorer:delete")},void 0,(0,i.Z)(n.Z,{"aria-label":t.t("data-explorer:delete"),variant:"outline-danger",size:"sm",onClick:t.onClick,style:t.style,disabled:t.disabled},void 0,r||(r=(0,i.Z)("div",{className:"fa fa-times"}))))};s.defaultProps={tooltipPlacement:"bottom",style:{},disabled:!1,t:function(){}},e.Z=s},356692:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Ma}});a(382139),a(95767),a(694882),a(298351);var r=a(607560),i=a(858255),n=a(264659),o=a(904730),s=a(673989),l=a(175663),c=a(750591),u=a(575630),d=a(151119),p=(a(6059),a(850110),a(319371),a(898837),a(798184),a(39115),a(296253),a(856997),a(991181),a(448977),a(627476),a(202784)),f=(a(213980),a(911755)),v=a.n(f),h=a(387612),Z=a(198),g=a(805312),m=a(822736),y=a(770561),b=a(22637),R=a(458264),E=a(312594),S=a(81982),O=a(569862),A=a(260952),P=a(31071),T=a(294565),_=a(838060),k=a.n(_),C=a(308669),w=a.n(C),x=a(195906),D=a.n(x),N=a(830324),L=a.n(N),q=a(588703),I=a.n(q),F=a(287013),H=a.n(F),j=a(623102),M=a.n(j),X=a(409961),V=a.n(X),B=a(151300),z=a.n(B),U=a(241481),Q=a.n(U),G=a(224008),K=a.n(G),J=a(306830),W=a.n(J),Y=a(437069),$=a.n(Y),tt=a(605977),et=a.n(tt),at=a(42111),rt=a(927447),it=a(607615),nt=a(471275),ot=a(730641),st=a.n(ot);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var ct=function(t){(0,l.Z)(a,t);var e=lt(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){for(var t=st()(this.props.children,4),e=0;e<t.length;e++)for(var a=t[e],r=0;r<a.length;r++)a[r]?a[r]=(0,i.Z)(E.Z,{xs:6,md:3},"cell".concat(e).concat(r),a[r]):a[r]=null;return(0,i.Z)(nt.Z,{},void 0,t.map((function(t,e){return(0,i.Z)(R.Z,{},"row".concat(e),t)})))}}]),a}(p.Component),ut=a(589826),dt=a(778886),pt=a(542061),ft=a(292682),vt=a(975249),ht=(0,a(844601).Z)((function(){return Promise.all([a.e(9796),a.e(459)]).then(a.bind(a,515490))})),Zt=a(961274),gt=a(193679),mt=a(799962),yt=a(741319),bt=a(31388),Rt=a(717932);function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var St=function(t){(0,l.Z)(a,t);var e=Et(a);function a(t){return(0,n.Z)(this,a),e.call(this,t)}return(0,o.Z)(a,[{key:"scrollToBottom",value:function(){this.outputPanel&&(0,Rt.Z)(this.outputPanel,this.outputPanel.scrollHeight,1e3)}},{key:"render",value:function(){var t=this,e=this.props,a=e.t,r=e.header,n=e.output;return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)("div",{className:"card-header clearfix"},void 0,(0,i.Z)("h3",{className:"data-explorer-output-header"},void 0,a("output")),r),p.createElement("div",{className:"data-explorer-output-panel",style:{height:.9*window.innerHeight-80},ref:function(e){t.outputPanel=e}},n),(0,i.Z)(y.Z,{size:"sm",variant:"outline-danger",block:!0,onClick:this.props.clearOutput},void 0,a("clear-all")))}}]),a}(p.Component),Ot=a(574315),At=(a(283946),a(976142),a(438802)),Pt=a.n(At),Tt=a(278141),_t=a.n(Tt),kt=a(380408),Ct=a(156562),wt=a(912860),xt=a(435376),Dt=a(203858),Nt=a(175891),Lt=a(109361),qt=a(700601),It=a.n(qt),Ft=a(871199),Ht=a.n(Ft),jt=a(180781),Mt=a.n(jt),Xt=a(402958),Vt=a.n(Xt),Bt=a(5140),zt=a(964909),Ut=a(734150),Qt=a(144292),Gt=a(655421),Kt=a(348355),Jt=a(570664),Wt=a(271768),Yt=a(794589),$t=a(951124),te=a(520915),ee=a(308490),ae=a(920892),re=a(208678),ie=a(894998),ne=a(705286),oe=a(615295),se=a(395846),le=a(464737),ce=a(22049),ue=a(701745),de=a(414438),pe=a(536258),fe=a(423755),ve=a(982349),he=a(42188),Ze=a(83975),ge=a(149969),me=a(361324),ye=a(371152),be=a(65034),Re=a(408219),Ee=a(824626),Se=a(77948),Oe=a(714457),Ae=a(282377),Pe=a(308473);function Te(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function _e(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(a),!0).forEach((function(e){(0,d.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ke=function(t,e){var a,r=_e(_e({},e),t.value);switch(t.type){case"DATA_EXPLORER_SUMMARY_STATISTICS":a=React.createElement(Pe.Z,r);break;case"DATA_EXPLORER_BARCHART":a=React.createElement(Gt.Z,r);break;case"DATA_EXPLORER_BOXPLOT":a=React.createElement(Qt.Z,r);break;case"DATA_EXPLORER_CONTOURPLOT":a=React.createElement(Kt.Z,r);break;case"DATA_EXPLORER_HISTOGRAM":a=React.createElement(Wt.Z,r);break;case"DATA_EXPLORER_HEATMAP":a=React.createElement(Jt.Z,r);break;case"DATA_EXPLORER_LINEPLOT":a=React.createElement(Yt.Z,r);break;case"DATA_EXPLORER_MAP":a=React.createElement($t.Z,r);break;case"DATA_EXPLORER_MOSAIC":a=React.createElement(te.Z,r);break;case"DATA_EXPLORER_PIECHART":a=React.createElement(ee.Z,r);break;case"DATA_EXPLORER_QQPLOT":a=React.createElement(ae.Z,r);break;case"DATA_EXPLORER_SCATTERPLOT":a=React.createElement(ie.Z,r);break;case"DATA_EXPLORER_SPLOM":a=React.createElement(re.Z,r);break;case"DATA_EXPLORER_VIOLINPLOT":a=React.createElement(ne.Z,r);break;case"DATA_EXPLORER_FREQUENCY_TABLE":a=React.createElement(oe.Z,r);break;case"DATA_EXPLORER_CONTINGENCY_TABLE":a=React.createElement(se.Z,r);break;case"DATA_EXPLORER_TESTS_ANOVA":a=React.createElement(le.Z,r);break;case"DATA_EXPLORER_TESTS_KRUSKAL":a=React.createElement(de.Z,r);break;case"DATA_EXPLORER_TESTS_MEAN":a=React.createElement(pe.Z,r);break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_MEAN":a=React.createElement(fe.Z,r);break;case"DATA_EXPLORER_TESTS_CHISQUARE":a=React.createElement(ce.Z,r);break;case"DATA_EXPLORER_TESTS_CORRTEST":a=React.createElement(ue.Z,r);break;case"DATA_EXPLORER_TESTS_PROPTEST":a=React.createElement(ve.Z,r);break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST":a=React.createElement(he.Z,r);break;case"DATA_EXPLORER_KMEANS":a=React.createElement(Oe.Z,r);break;case"DATA_EXPLORER_HIERARCHICAL_CLUSTERING":a=React.createElement(Se.Z,r);break;case"DATA_EXPLORER_DECISION_TREE":a=React.createElement(Ze.Z,r);break;case"DATA_EXPLORER_LASSO_REGRESSION":a=React.createElement(ge.Z,r);break;case"DATA_EXPLORER_LINEAR_REGRESSION":a=React.createElement(Re.Z,r);break;case"DATA_EXPLORER_LOGISTIC_REGRESSION":a=React.createElement(me.Z,r);break;case"DATA_EXPLORER_MULTIPLE_REGRESSION":a=React.createElement(ye.Z,r);break;case"DATA_EXPLORER_NAIVE_BAYES":a=React.createElement(Ae.Z,r);break;case"DATA_EXPLORER_PCA":a=React.createElement(Ee.Z,r);break;case"DATA_EXPLORER_RANDOM_FOREST":a=React.createElement(be.Z,r)}return a},Ce=a(454319);function we(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var xe=function(t){return{label:t,value:t}},De=function(t){(0,l.Z)(a,t);var e=we(a);function a(t){var r;return(0,n.Z)(this,a),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"handleChange",(function(t){r.props.onChange(t),r.setState({value:t})})),(0,d.Z)((0,s.Z)(r),"handleSubmission",(function(){r.props.onSubmit(r.state.value)})),r.state={value:null},r}return(0,o.Z)(a,[{key:"render",value:function(){return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)(Ce.ZP,{inputId:this.props.id,isClearable:this.props.isClearable,onChange:this.handleChange,options:this.props.options.map(xe),placeholder:"Leave note..."}),(0,i.Z)(y.Z,{size:"sm",onClick:this.handleSubmission,style:{marginTop:4}},void 0,this.props.t("submit")))}}]),a}(p.Component);De.defaultProps={options:[],isClearable:!1,onChange:function(){},onSubmit:function(){}};var Ne=De,Le=a(109203),qe=a(26266),Ie=a(10863);function Fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var He=function(t){(0,l.Z)(a,t);var e=Fe(a);function a(){var t;return(0,n.Z)(this,a),t=e.call(this),(0,d.Z)((0,s.Z)(t),"handleSearch",(function(e){t.setState({search:e.target.value}),t.props.onClick(e.target.value)})),t.state={search:""},t}return(0,o.Z)(a,[{key:"render",value:function(){return(0,i.Z)(Ie.Z,{},void 0,(0,i.Z)(Le.Z,{size:"small"},void 0,(0,i.Z)(qe.Z,{"aria-label":"Search",type:"text",placeholder:"Search actions...",onChange:this.handleSearch,onKeyPress:this.handleKeyPress,value:this.state.search})))}}]),a}(p.Component);He.defaultProps={onClick:function(){}};var je,Me,Xe=He;function Ve(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var Be=function(t){var e=(0,p.useState)([]),a=(0,Ot.Z)(e,2),r=a[0],n=a[1],o=(0,p.useState)(["own","others"]),s=(0,Ot.Z)(o,2),l=s[0],c=s[1],u=(0,p.useState)({}),f=(0,Ot.Z)(u,2),v=f[0],h=f[1],Z=(0,p.useContext)(yt.Z),g=(0,Ut.Z)();(0,p.useEffect)((function(){var e;return Z&&(e=Z.subscribe((function(e,a){e===zt.Wh&&a.id===t.explorerID&&g()}))),function(){e&&e()}}));var b=[],R=new RegExp(r[0],"i");if(0!==l.length)for(var E=0;E<t.actions.length;E++){var S=t.actions[E];if(S.type!==Bt.i_&&S.type!==Bt.cp&&S.type!==Bt.Jz){var O=!1;if(S.type.search(R)>-1)O=!0;else if(S.email.search(R)>-1)O=!0;else for(var A in S.value)if(A.search(R)>-1||String(S.value[A]).search(R)>-1){O=!0;break}2!==l.length&&("own"===l[0]?S.email!==Z.user.email&&(O=!1):S.email===Z.user.email&&(O=!1)),O&&b.push(S)}}var P=function(e){var a=b[e];return function(){var e=ke(a,t);t.onCreated(e),t.logAction(a.type,a.value)}};return(0,i.Z)("div",{style:t.style},void 0,(0,i.Z)(Xe,{onClick:function(t){Mt()(t,"")?n([]):n([t])}}),(0,i.Z)("div",{style:{marginLeft:0,overflowY:"scroll",height:.75*window.innerHeight,border:"solid 1px rgba(0,0,0,0.125)"}},void 0,(0,i.Z)(Pt(),{initialIndex:0,itemRenderer:function(e,a){var n=b[e],o=new Date(n.absoluteTime),s="",l=n.value,c="".concat(n.type," | Time: ").concat(o.toLocaleTimeString()," - ").concat(o.toLocaleDateString()," | ").concat(n.email);for(var u in l)if(It()(l,u)&&"showDecision"!==u){var p=l[u];Ht()(p)||"plotId"===u||(s+="".concat(u,": ").concat(Vt()(p)?p:JSON.stringify(p)),s+="\t")}var f=(0,i.Z)(xt.Z,{id:"history-note-popover-".concat(e),style:{width:250}},void 0,(0,i.Z)(Dt.Z,{},void 0,t.t("leave-note")),(0,i.Z)(Nt.Z,{},void 0,(0,i.Z)(Ne,{options:["Did you consider any confounding variables?","You should check model diagnostics"],onSubmit:function(t){var a=t.value,r=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(a),!0).forEach((function(e){(0,d.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ve(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},v);r[e]?r[e]+="\n".concat(a):r[e]=a,h(r)},t:t.t})));return(0,i.Z)(wt.Z,{},void 0,(0,i.Z)("div",{className:"actionNote"},void 0,(0,i.Z)("span",{className:"title"},void 0,(0,i.Z)(_t(),{searchWords:r,autoEscape:!0,textToHighlight:c}))),(0,i.Z)("div",{className:"actionNote"},void 0,(0,i.Z)(_t(),{searchWords:r,autoEscape:!0,textToHighlight:s})),v[e]?(0,i.Z)(m.Z,{variant:"warning"},void 0,v[e]):null,t.instructorFeedback?(0,i.Z)(Lt.Z,{trigger:"click",placement:"left",rootClose:!0,overlay:f},void 0,(0,i.Z)(y.Z,{"aria-label":t.t("leave-feedback"),variant:"info",size:"sm",style:{position:"absolute",top:5,right:45}},void 0,je||(je=(0,i.Z)("i",{className:"fas fa-sticky-note"})))):null,(0,i.Z)(y.Z,{"aria-label":t.t("repeat"),variant:"success",size:"sm",onClick:P(e),style:{position:"absolute",top:5,right:5}},void 0,Me||(Me=(0,i.Z)("i",{className:"fas fa-redo"}))))},length:b.length,type:"simple",pageSize:50,minSize:10})),(0,i.Z)("div",{style:{float:"right",marginRight:20}},void 0,"individual"!==t.reportMode?(0,i.Z)(kt.Z,{name:"options",onChange:c,type:"checkbox",size:"small",value:l,style:{padding:6}},void 0,(0,i.Z)(Ct.Z,{variant:"outline-secondary",value:"own"},void 0,t.t("own-actions")),(0,i.Z)(Ct.Z,{variant:"outline-secondary",value:"others"},void 0,t.t("others-actions"))):null,(0,i.Z)("span",{className:"title"},void 0,b.length," ",t.t("actions"))))};Be.defaultProps={actions:[],instructorFeedback:!1};var ze,Ue=Be,Qe=a(320765),Ge=a(423184),Ke=a(302467),Je=a.n(Ke),We=a(760307),Ye=a(806258),$e=a(612249),ta=a(150275);function ea(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var aa=function(t){(0,l.Z)(a,t);var e=ea(a);function a(){var t;return(0,n.Z)(this,a),t=e.call(this),(0,d.Z)((0,s.Z)(t),"toggleFullscreen",(function(){t.setState({fullscreen:!t.state.fullscreen})})),t.state={fullscreen:!1},t}return(0,o.Z)(a,[{key:"render",value:function(){var t=this.props.t;return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)(ta.Z,{id:"fullscreen_tooltip",placement:"bottom",tooltip:t("toggle-fullscreen")},void 0,(0,i.Z)(y.Z,{"aria-label":t("toggle-fullscreen"),variant:"outline-danger",size:"sm",onClick:this.toggleFullscreen},void 0,ze||(ze=(0,i.Z)("div",{className:"fa fa-window-maximize"})))),(0,i.Z)(S.Z,{show:this.state.fullscreen,onHide:this.toggleFullscreen,dialogClassName:"modal-100w"},void 0,(0,i.Z)(S.Z.Header,{closeButton:!0},void 0,(0,i.Z)(S.Z.Title,{as:"h1"},void 0,this.props.header?this.props.header:t("fullscreen-display"))),(0,i.Z)(S.Z.Body,{className:"data-explorer-fullscreen-output",style:{height:.75*window.innerHeight}},void 0,this.props.body),(0,i.Z)(S.Z.Footer,{},void 0,(0,i.Z)(y.Z,{onClick:this.toggleFullscreen},void 0,t("close")))))}}]),a}(p.Component);aa.defaultProps={header:null};var ra,ia,na=aa,oa=a(454530),sa=a(618245),la=a(188304),ca=a(223444),ua=a(833022),da=a.n(ua),pa=function(t){for(var e=[],a=function(a){var r,n=t.filters[a],o=void 0;if(I()(n.value))o=n.value.map((function(t,e){return(0,i.Z)(ca.Z,{variant:"secondary",style:{marginRight:4}},e,t)}));else if(da()(n.value)){var s=$()(n.value);o=new Array(s.length);for(var l=0;l<s.length;l++){var c=s[l];o[l]=(0,i.Z)(ca.Z,{variant:"secondary",style:{marginRight:4}},c,r||(r=(0,i.Z)("b",{},void 0,c,": ")),n.value[c])}}e.push((0,i.Z)(la.Z.Item,{},a,(0,i.Z)("span",{className:"title"},void 0,n.id,": "),o,t.removeButtons?(0,i.Z)(y.Z,{variant:"danger",size:"sm",style:{float:"right"},onClick:function(){t.onRemove(a)},"aria-label":"remove"},void 0,ra||(ra=(0,i.Z)("i",{className:"fas fa-times"}))):null))},r=0;r<t.filters.length;r++)a(r);return(0,i.Z)(la.Z,{},void 0,e)},fa=["placement","scheduleUpdate","arrowProps"];function va(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Za=function(t){(0,l.Z)(a,t);var e=ha(a);function a(){var t;return(0,n.Z)(this,a),t=e.call(this),(0,d.Z)((0,s.Z)(t),"toggleOverlay",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W();t.setState({show:!t.state.show},e)})),t.state={show:!1},t}return(0,o.Z)(a,[{key:"render",value:function(){var t=this;return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)(ta.Z,{id:"filter_info_tooltip",placement:"bottom",tooltip:this.props.t("show-dataset-info")},void 0,p.createElement(y.Z,{"aria-label":this.props.t("show-dataset-info"),variant:"outline-danger",size:"sm",ref:function(e){t.button=e},style:this.props.style,onClick:function(){t.toggleOverlay((function(){t.state.show?t.timeout=setTimeout(t.toggleOverlay,5e3):t.timeout&&clearTimeout(t.timeout)}))}},ia||(ia=(0,i.Z)("i",{className:"fas fa-info"})))),(0,i.Z)(sa.Z,{target:this.button,show:this.state.show,placement:"left"},void 0,(function(e){e.placement,e.scheduleUpdate,e.arrowProps;var a=(0,oa.Z)(e,fa),n=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?va(Object(a),!0).forEach((function(e){(0,d.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):va(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({backgroundColor:"lightcoral",padding:"10px 10px",marginRight:"5px",borderRadius:3,zIndex:1002},a.style);return t.props.filters?p.createElement("pre",(0,r.Z)({},a,{style:n}),(0,i.Z)(pa,{filters:t.props.filters}),t.props.restoreButton?(0,i.Z)(ta.Z,{tooltip:t.props.t("restore-dataset-tooltip"),placement:"right"},void 0,(0,i.Z)(y.Z,{size:"sm",variant:"danger",onClick:function(){t.props.onActivateFilters(t.props.filters)},style:{marginTop:12}},void 0,t.props.t("restore-dataset"))):null):p.createElement("pre",(0,r.Z)({},a,{style:n}),t.props.t("entire-dataset-used"))})))}}]),a}(p.Component);Za.defaultProps={filters:null,onActivateFilters:function(){},restoreButton:!1,style:{}};var ga=Za,ma=v()("isle:data-explorer"),ya=/<button[\s\S]*<\/button>/,ba=function(t,e,a,r,n,o,s){return(0,i.Z)(Ge.Z,{style:{float:"right",top:"-4px",zIndex:2}},void 0,(0,i.Z)(ga,{filters:n,onActivateFilters:o,t:s}),(0,i.Z)(na,{header:t,body:e,t:s}),(0,i.Z)($e.Z,{onClick:function(){ma("Clear element with ID ".concat(r)),a(r)},t:s}))},Ra=function(t){return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)("button",{draggable:!0,className:"data-explorer-draggable-bar",onDragStart:function(t){var e=t.target.nextSibling.innerHTML;e=Je()(e,ya,""),t.dataTransfer.setData("text/plain",e),t.dataTransfer.setData("text/html",e)},onClick:function(t){var e=t.target.nextSibling.outerHTML;e=Je()(e,ya,""),(0,Ye.Z)(e)}},void 0,Qe.a.t("data-explorer:drag-table")),t)};var Ea,Sa,Oa=function(t,e,a,r,n,o){var s;if(t.type===Qt.Z||t.type===Gt.Z||t.type===Kt.Z||t.type===Jt.Z||t.type===Wt.Z||t.type===We.Z||t.type===Yt.Z||t.type===$t.Z||t.type===te.Z||t.type===ee.Z||t.type===ae.Z||t.type===ie.Z||t.type===re.Z||t.type===ne.Z||t.type===ft.Z){var l=t.props;return l.meta&&!l.meta.filters&&(l.meta.filters=r),(0,i.Z)("div",{},e,(0,i.Z)(Ge.Z,{style:{float:"right",padding:"0.1rem 0.3rem",zIndex:2}},void 0,s||(s=(0,i.Z)(ga,{filters:r,onActivateFilters:n,t:o})),(0,i.Z)($e.Z,{onClick:function(){a(e)},t:o})),(0,i.Z)("div",{style:{position:"relative",height:l.layout&&l.layout.height?l.layout.height:300,marginTop:0,marginBottom:40,marginRight:25}},void 0,t))}return t.type===le.Z||t.type===ue.Z||t.type===ce.Z||t.type===de.Z||t.type===pe.Z||t.type===fe.Z||t.type===ve.Z||t.type===he.Z?(0,i.Z)("pre",{},e,ba(o("output-test"),t,a,e,r,n,o),t):t.type===se.Z||t.type===oe.Z?(0,i.Z)("pre",{},e,ba(o("output-table"),t,a,e,r,n,o),Ra(t)):t.type===Re.Z||t.type===ye.Z||t.type===ge.Z||t.type===me.Z||t.type===Ee.Z||t.type===Oe.Z||t.type===Ae.Z||t.type===be.Z?(0,i.Z)("pre",{},e,ba(o("output-model"),t,a,e,r,n,o),Ra(t)):t.type===Ze.Z||t.type===Se.Z?(0,i.Z)("pre",{},e,(0,i.Z)(Ge.Z,{style:{float:"right",padding:"0.1rem 0.3rem",top:"-1px",zIndex:2}},void 0,(0,i.Z)(ga,{filters:r,onActivateFilters:n,style:{right:55,position:"absolute"},t:o}),(0,i.Z)($e.Z,{onClick:function(){a(e)},style:{right:-5,position:"absolute"},t:o})),(0,i.Z)("div",{style:{marginTop:25}},void 0,t)):t.type===Pe.Z?(0,i.Z)("pre",{},e,ba(o("summary-statistics"),t,a,e,r,n,o),Ra(t)):null},Aa=a(693171),Pa=a(938036),Ta=a(833562),_a=a(432261);function ka(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Ca(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ka(Object(a),!0).forEach((function(e){(0,d.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function wa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var xa=(0,p.lazy)((function(){return Promise.all([a.e(9553),a.e(7209),a.e(5771)]).then(a.bind(a,771212))})),Da=v()("isle:data-explorer"),Na=(0,at.Z)("data-explorer"),La="(Shift+Alt+Q)",qa="(Shift+Alt+H)",Ia="(Shift+Alt+D)",Fa="(Shift+Alt+R)";function Ha(t,e){if(0===e.length)return!0;for(var a=$()(t),r=0;r<e.length;r++)if(!H()(a,String(e[r])))return!1;return!0}var ja=function(t){(0,l.Z)(a,t);var e=wa(a);function a(t){var r;(0,n.Z)(this,a),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"restoreOutputs",(function(t){Da("Restore elements in output pane...");for(var e=[],a=[],i=0;i<t.length;i++){var n=t[i];if(n.type===Bt.i_)break;n.type===Bt.cp&&a.push(n.value),e.push(n)}for(var o=[],s={logAction:r.logAction,session:r.context,data:r.state.data,quantitative:r.state.quantitative,categorical:r.state.categorical},l=e.length-1;l>=0;l--){var c=e.length-1-l;if(!H()(a,c)){var u=ke(e[l],s);if(u){var d=Oa(u,o.length,r.clearOutput,r.state.subsetFilters,r.onFilters,r.props.t);o.push(d)}}}Da("Restored ".concat(o.length," elements.")),r.setState({output:o})})),(0,d.Z)((0,s.Z)(r),"restoreTransformations",(function(t){var e=r.state;Da("Restoring transformations...");for(var a=t.length-1;a>=0;a--){var i=t[a];switch(i.type){case Bt.gx:if(Da("Should add transformed variable ".concat(i.value.name)),!Q()(r.props.data,i.value.name)){var n=(0,Aa.Z)(i.value.code,e.data);e=r.transformVariable(i.value.name,n,e)}break;case Bt.dU:var o=i.value,s=o.name,l=o.variable,c=o.breaks,u=o.categories;if(Da("Should add binned variable ".concat(s)),!Q()(r.props.data,s)){var d=e.data[l],p=(0,Pa.Z)(d,u,c);e=r.transformVariable(s,p,e)}break;case Bt.CS:var f=i.value,v=f.name,h=f.firstVar,Z=f.secondVar,g=f.nameMappings,m=f.castNumeric;if(Da("Should add recoded variable ".concat(v)),!Q()(r.props.data,v)&&e.data[h]){var y=(0,Ta.Z)(h,Z,g,e.data,m);e=r.transformVariable(v,y,e)}break;case Bt.Jz:e=r.deleteVariable(i.value,e)}}e.data=K()(e.data,1),r.setState(e,(function(){r.restoreOutputs(t)}))})),(0,d.Z)((0,s.Z)(r),"resetStorage",(function(){r.context.store.removeItem(r.id),r.setState({data:null,categorical:[],quantitative:[],ready:!1})})),(0,d.Z)((0,s.Z)(r),"shareData",(function(){var t=r.context;if(t.metadata.store[r.id])t.updateMetadata("store",r.id,null),r.forceUpdate();else{var e={data:r.state.data,quantitative:r.state.quantitative,categorical:r.state.categorical},a=new Blob([JSON.stringify(e)],{type:"application/json"}),i=new File([a],"data.json"),n=new FormData;n.append("file",i),t.uploadFile({formData:n,callback:function(e,a){var i=a.filename,n=t.server+"/"+i;t.updateMetadata("store",r.id,n),r.forceUpdate()},showNotification:!1})}})),(0,d.Z)((0,s.Z)(r),"toggleStudentPlots",(function(){r.setState({showStudentPlots:!r.state.showStudentPlots})})),(0,d.Z)((0,s.Z)(r),"clearOutput",(function(t){r.context.log({id:r.id,type:Bt.cp,value:t},"owners");var e=r.state.output.slice();e[t]=null,r.setState({output:e})})),(0,d.Z)((0,s.Z)(r),"clearPlots",(function(){r.setState({studentPlots:[]})})),(0,d.Z)((0,s.Z)(r),"onUserAction",(function(t){var e,a=t.value;switch(z()(a)&&(a=JSON.parse(a)),t.type){case"DATA_EXPLORER_SHARE_BARCHART":e=(0,Gt.G)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_BOXPLOT":e=(0,Qt.I)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_CONTOURCHART":e=(0,Kt.k)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_HEATMAP":e=(0,Jt.L)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_HISTOGRAM":e=(0,Wt.N)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_LINEPLOT":e=(0,Yt.i)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_MAP":e=(0,$t._)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_MOSAIC":e=(0,te.r)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_PIECHART":e=(0,ee.E)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_QQPLOT":e=(0,ae._)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_SCATTERPLOT":e=(0,ie.s)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_SPLOM":e=(0,re.T)(Ca({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_VIOLINPLOT":e=(0,ne.O)(Ca({data:r.state.data},a))}if(e){for(var i=r.state.studentPlots.slice(),n=JSON.stringify(e),o=!1,s=0;s<i.length;s++)if(i[s].config===n){i[s].count+=1,o=!0;break}o||i.push({config:n,count:1}),r.setState({studentPlots:i})}})),(0,d.Z)((0,s.Z)(r),"onFilters",(function(t){r.setState({filters:t},r.onFilterCreate)})),(0,d.Z)((0,s.Z)(r),"addToOutputs",(function(t){var e=r.state.output.slice();if(I()(t))for(var a=0;a<t.length;a++){var i=Oa(t[a],e.length,r.clearOutput,r.state.subsetFilters,r.onFilters,r.props.t);e.push(i)}else{var n=Oa(t,e.length,r.clearOutput,r.state.subsetFilters,r.onFilters,r.props.t);e.push(n)}r.setState({output:e})})),(0,d.Z)((0,s.Z)(r),"transformVariable",(function(t,e,a){var i,n,o,s,l;return Da("Attach transformed variable ".concat(t," to data...")),a?(s=K()(a.data,1),i=a.quantitative.slice(),n=a.categorical.slice(),o=a.groupVars.slice()):(s=K()(r.state.data,1),i=r.state.quantitative.slice(),n=r.state.categorical.slice(),o=r.state.groupVars.slice()),s[t]=e,k()(e)?H()(i,t)||(i.push(t),(l=n.indexOf(t))>0&&(n.splice(l,1),o=n.slice())):(H()(n,t)||(n.push(t),(l=i.indexOf(t))>0&&i.splice(l,1)),o=n.slice()),{data:s,categorical:n,quantitative:i,groupVars:o}})),(0,d.Z)((0,s.Z)(r),"onGenerateTransformedVariable",(function(t,e){var a=r.context;if(I()(t)){for(var i,n=0;n<t.length;n++)i=r.transformVariable(t[n],e[n],i);return a.addNotification({title:r.props.t("variables-created"),message:r.props.t("variables-created-msg",{name:t.join(", ")}),level:"success",position:"tr"}),r.setState(i)}if(Q()(r.props.data,t))return a.addNotification({title:r.props.t("variable-exists"),message:r.props.t("variable-exists-msg"),level:"error",position:"tr"});a.addNotification({title:r.props.t("variable-created"),message:r.props.t("variable-created-msg",{name:t}),level:"success",position:"tr"}),r.setState(Ca({},r.transformVariable(t,e)))})),(0,d.Z)((0,s.Z)(r),"onColumnDelete",(function(t){Da("Should remove variable with name "+t);var e=r.context;r.logAction(Bt.Jz,t),e.addNotification({title:r.props.t("variable-removed"),message:r.props.t("variable-removed-msg",{variable:t}),level:"success",position:"tr"});var a=r.deleteVariable(t);a.data=K()(a.data,1),r.setState(a)})),(0,d.Z)((0,s.Z)(r),"onColumnNameChange",(function(t,e){for(var a=r.state,i=$()(r.state.data),n={},o=0;o<i.length;o++){var s=i[o];s===t?n[e]=r.state.data[t]:n[s]=r.state.data[s]}var l=a.quantitative.map((function(a){return a===t?e:a})),c=a.categorical.map((function(a){return a===t?e:a})),u=a.groupVars.map((function(a){return a===t?e:a}));r.setState({data:n,quantitative:l,categorical:c,groupVars:u})})),(0,d.Z)((0,s.Z)(r),"onColumnDrag",(function(t){var e=r.state,a=function(e,a){return e=t.indexOf(String(e)),a=t.indexOf(String(a)),-1===e||-1===a?0:e<a?-1:e>a?1:0},i=e.quantitative.slice().sort(a),n=e.categorical.slice().sort(a),o=e.groupVars.slice().sort(a);r.setState({quantitative:i,categorical:n,groupVars:o})})),(0,d.Z)((0,s.Z)(r),"deleteVariable",(function(t,e){var a,i=e||r.state;return delete(a=e?e.data:K()(r.state.data,1))[t],{data:a,quantitative:i.quantitative.filter((function(e){return e!==t})),categorical:i.categorical.filter((function(e){return e!==t})),groupVars:i.groupVars.filter((function(e){return e!==t})),filters:(i.filters||[]).filter((function(e){return e.id!==t}))}})),(0,d.Z)((0,s.Z)(r),"onFileUpload",(function(t,e){var a=r.context;if(!t){for(var i={},n=$()(e[0]).filter((function(t){return""!==t})),o=0;o<n.length;o++){var s=n[o];i[s]=new Array(e.length)}for(var l=0;l<e.length;l++)for(var c=0;c<n.length;c++){var u=n[c];i[u][l]=e[l][u]}var d=[],p=[];n.forEach((function(t){k()(i[t])?p.push(t):d.push(t)})),r.setState({quantitative:p,categorical:d,data:i},(function(){a.store.setItem(r.id,{data:r.state.data,quantitative:p,categorical:d})}))}})),(0,d.Z)((0,s.Z)(r),"onFilterCreate",(function(){var t={data:r.filterCreate(r.state.data),oldData:r.state.data,subsetFilters:r.state.filters};r.setState(t)})),(0,d.Z)((0,s.Z)(r),"filterCreate",(function(t){for(var e=new Set,a=0;a<r.state.filters.length;a++){var i=r.state.filters[a],n=t[i.id];if(Q()(i.value,"min")&&Q()(i.value,"max"))for(var o=0;o<n.length;o++)n[o]>=i.value.min&&n[o]<=i.value.max||e.add(o);else for(var s=0;s<n.length;s++)H()(i.value,String(n[s]))||e.add(s)}for(var l=$()(t),c={},u=t[l[0]].length,d=0;d<l.length;d++){c[l[d]]=[]}for(var p=[],f=0;f<u;f++)if(!e.has(f)){for(var v=0;v<l.length;v++){var h=l[v];c[h].push(t[h][f])}t.id?p.push(t.id[f]):p.push(f+1)}return c.id=p,c})),(0,d.Z)((0,s.Z)(r),"onFilterAdd",(function(){var t=r.restoreData(),e={data:r.filterCreate(t),oldData:t,subsetFilters:r.state.filters};r.setState(e)})),(0,d.Z)((0,s.Z)(r),"restoreData",(function(){var t,e,a=$()(r.state.data),i=$()(r.state.oldData);r.props.data?(t=r.props.data,e=K()(r.props.data,1)):(t=r.state.unaltered.data,e=K()(t,1));for(var n=[],o=0;o<r.props.quantitative.length;o++)n.push(String(r.props.quantitative[o]));for(var s=0;s<r.props.categorical.length;s++)n.push(String(r.props.categorical[s]));for(var l=r.state.data.id,c=t[i[0]].length,u=r.state.oldData.id||et()(1,c+1,1),d=0;d<i.length;d++){var p=i[d];if("id"!==p&&!H()(n,p)){e[p]=new Array(c).fill(null);for(var f=0;f<u.length;f++){var v=u[f]-1;e[p][v]=r.state.oldData[p][f]}}}for(var h=0;h<a.length;h++){var Z=a[h];if("id"!==Z&&!H()(n,Z)){Da("Handle inserted variable: "+Z),e[Z]||(e[Z]=new Array(c).fill(null));for(var g=0;g<l.length;g++){var m=l[g]-1;e[Z][m]=r.state.data[Z][g]}}}return e})),(0,d.Z)((0,s.Z)(r),"onPredict",{"decision-tree":function(t,e){var a=K()(r.state.data,1),i=r.state.categorical.slice(),n=r.state.quantitative.slice();if("classification"===t.type){var o=t.predict(a).map((function(t){return String(t)})),s="pred_tree"+e;a[s]=o,H()(i,s)||i.push(s),s="correct_tree"+e;var l=a[t.response];a[s]=o.map((function(t,e){return t===String(l[e])?"Yes":"No"})),H()(i,s)||i.push(s)}else{var c=t.predict(a),u="pred_tree"+e;a[u]=c,H()(n,u)||n.push(u),a[u="resid_tree"+e]=(0,bt.Z)(c,a[t.response]),H()(n,u)||n.push(u)}r.setState({categorical:i,quantitative:n,data:a})},lasso:function(t,e){var a=K()(r.state.data,1),i=r.state.quantitative.slice(),n="pred_lasso"+e,o=t(a),s=o.fitted,l=o.residuals;a[n]=s,H()(i,n)||i.push(n),a[n="resid_lasso"+e]=l,H()(i,n)||i.push(n),r.setState({quantitative:i,data:a})},logistic:function(t,e){var a=K()(r.state.data,1),i=r.state.quantitative.slice(),n=r.state.categorical.slice(),o=t(a),s=o.yhat,l=o.probs,c=o.residuals,u="probs_logis"+e;a[u]=l,H()(i,u)||i.push(u),a[u="pred_logis"+e]=s,H()(n,u)||n.push(u),u="resid_logis"+e,H()(i,u)||i.push(u),a[u]=c,r.setState({categorical:n,quantitative:i,data:a})},"multiple-linear-regression":function(t,e){var a=K()(r.state.data,1),i=r.state.quantitative.slice(),n=t(a),o=n.fitted,s=n.residuals,l="pred_lm"+e;a[l]=o,H()(i,l)||i.push(l),l="resid_lm"+e,H()(i,l)||i.push(l),a[l]=s,r.setState({quantitative:i,data:a})},"random-forest":function(t,e){var a=K()(r.state.data,1),i=r.state.categorical.slice();if("classification"===t.type){var n=t.predict(a).map((function(t){return String(t)})),o="pred_forest"+e;a[o]=n,H()(i,o)||i.push(o),o="correct_forest"+e;var s=r.state.data[t.response];a[o]=n.map((function(t,e){return t===String(s[e])?"Yes":"No"})),H()(i,o)||i.push(o)}r.setState({categorical:i,data:a})},"simple-linear-regression":function(t,e){var a=K()(r.state.data,1),i=t(a),n=i.fitted,o=i.residuals,s=r.state.quantitative.slice(),l="pred_slm"+e;a[l]=n,H()(s,l)||s.push(l),l="resid_slm"+e,H()(s,l)||s.push(l),a[l]=o,r.setState({quantitative:s,data:a})},"naive-bayes":function(t,e){for(var a=K()(r.state.data,1),i=r.state.quantitative.slice(),n=t(a),o=n.fitted,s=n.classProbs,l=Object.keys(s),c=0;c<l.length;c++){var u=l[c];a[u]=s[u],H()(i,u)||i.push(u)}var d="pred_bayes"+e;a[d]=o;var p=r.state.categorical.slice();H()(p,d)||p.push(d),r.setState({categorical:p,quantitative:i,data:a})}}),(0,d.Z)((0,s.Z)(r),"onRestoreData",(function(){var t=r.restoreData();r.setState({data:t,subsetFilters:null,filters:[]})})),(0,d.Z)((0,s.Z)(r),"on2dSelection",(function(t,e){var a=r.state.filters.filter((function(e){return e.id!==t.x&&e.id!==t.y}));a.push({id:t.x,value:{min:e.range.x[0],max:e.range.x[1]}}),a.push({id:t.y,value:{min:e.range.y[0],max:e.range.y[1]}}),r.setState({filters:a})})),(0,d.Z)((0,s.Z)(r),"onQQPlotSelection",(function(t,e){if(e.range&&e.range.y){var a=r.state.filters.filter((function(e){return e.id!==t})),i=e.range.y;a.push({id:t,value:{min:i[0],max:i[1]}}),r.setState({filters:a})}})),(0,d.Z)((0,s.Z)(r),"onBarchartSelection",(function(t,e){var a=r.state.filters.filter((function(e){return e.id!==t}));a.push({id:t,value:e.range.x}),r.setState({filters:a})})),(0,d.Z)((0,s.Z)(r),"onHistogramSelection",(function(t,e){if(e.points&&e.points[0]){var a=e.points[0],i=a.fullData.xbins.size,n=e.points[e.points.length-1],o=r.state.filters.filter((function(e){return e.id!==t}));o.push({id:t,value:{min:a.x-i/2,max:n.x+i/2}}),r.setState({filters:o})}}));var i,o,l,c=t.data;t.data?(i=t.quantitative,o=t.categorical,l=t.categorical.slice()):(i=[],o=[],l=[]);var u=!1,p=!0;return L()(c)&&(i.length>0||o.length>0)&&(u=!0,p=Ha(c,i.concat(o))),r.id=t.id||Na(t),r.state={data:c,quantitative:i,categorical:o,validVariables:p,output:[],groupVars:l,ready:u,showStudentPlots:!1,openedNav:t.opened||(V()(t.questions)?"data":"questions"),studentPlots:[],subsetFilters:null,unaltered:{data:t.data,quantitative:t.quantitative,categorical:t.categorical},filters:[]},r.logAction=function(t,e){r.state.subsetFilters&&(e=Ca(Ca({},e),{},{filters:r.state.subsetFilters}));var a=r.context,i="individual"!==r.props.reportMode?"members":"owners";a.log({id:r.id,type:t,value:e},i)},r}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.context;if(!this.props.data)if(e.metadata.store[this.id]){var a=e.metadata.store[this.id];(0,g.AVB)(a).then((function(e){var a=(e.categorical||[]).slice();t.setState({data:e.data,quantitative:e.quantitative,categorical:e.categorical,groupVars:a,ready:!0,unaltered:{data:e.data,quantitative:e.quantitative,categorical:e.categorical}})}))}else e.store.getItem(this.id).then((function(e){var a=e.quantitative,r=void 0===a?[]:a,i=e.categorical,n=void 0===i?[]:i,o=e.data,s=void 0===o?null:o,l=!1;M()(s)&&(s=null),V()(s)||(l=!0);var c=(n||[]).slice();t.setState({data:s,quantitative:r,categorical:n,groupVars:c,ready:l,unaltered:{data:s,quantitative:r,categorical:n}})})).catch((function(t){Da(t)}));if(e.currentUserActions){var r=e.currentUserActions[this.id];this.props.data&&D()(r)&&this.restoreTransformations(r)}this.unsubscribe=e.subscribe((function(a,r){if(a===zt.u){var i=r[t.id];t.props.data&&D()(i)&&t.restoreTransformations(i)}else if(a===zt.KI){if(e.metadata.store[t.id]){var n=e.metadata.store[t.id];(0,g.AVB)(n).then((function(e){var a=(e.categorical||[]).slice();t.setState({data:e.data,quantitative:e.quantitative,categorical:e.categorical,groupVars:a,ready:!0})}))}}else if(a===zt.Wh){if(r.id!==t.id||r.email===e.user.email||"individual"===t.props.reportMode)return;if("group"===t.props.reportMode){if(!e.group)return;for(var o=e.group.members,s=!1,l=0;l<o.length;l++)if(o[l].email===r.email){s=!0;break}if(!s)return}r.type!==Bt.gx&&r.type!==Bt.dU&&r.type!==Bt.CS&&r.type!==Bt.Jz||t.restoreTransformations([r]),t.context.currentUserActions[t.id].unshift(r)}}))}},{key:"componentDidUpdate",value:function(t,e){Da("Component did update..."),this.state.output!==e.output&&this.outputPanel&&this.outputPanel.scrollToBottom()}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var t=this;if(Da("Render component..."),!this.state.data)return(0,i.Z)(ht,{title:this.props.t("data-explorer"),onUpload:this.onFileUpload});if(!this.state.ready){var e=$()(this.state.data);return(0,i.Z)(A.Z,{},void 0,(0,i.Z)(A.Z.Header,{as:"h3"},void 0,this.props.t("data-explorer")),(0,i.Z)(A.Z.Body,{},void 0,(0,i.Z)("h4",{},void 0,this.props.t("select-quantitative-categorical"),":"),(0,i.Z)(rt.Z,{legend:this.props.t("quantitative"),options:e,defaultValue:this.state.quantitative,multi:!0,onChange:function(e){t.setState({quantitative:e||[]})}}),(0,i.Z)(rt.Z,{legend:this.props.t("categorical"),options:e,defaultValue:this.state.categorical,multi:!0,onChange:function(e){t.setState({categorical:e||[]})}}),(0,i.Z)(y.Z,{disabled:w()(this.state.categorical)&&w()(this.state.quantitative),onClick:function(){t.setState({groupVars:t.state.categorical.slice(),ready:!0},(function(){var e=t.context,a={data:t.state.data,quantitative:t.state.quantitative,categorical:t.state.categorical};e.store.setItem(t.id,a),t.setState({unaltered:a})}))}},void 0,this.props.t("submit")),(0,i.Z)(mt.Z,{data:this.state.data,id:this.id+"_table"})))}if(M()(this.state.data))return(0,i.Z)(m.Z,{variant:"danger"},void 0,this.props.t("data-empty"));if(!this.state.validVariables)return Ea||(Ea=(0,i.Z)(m.Z,{variant:"danger"},void 0,(0,i.Z)(h.c,{i18nKey:"variables-invalid-alert",ns:"DataExplorer"},void 0,"The ",(0,i.Z)("b",{},void 0,"quantitative")," or ",(0,i.Z)("b",{},void 0,"categorical")," data arrays contain variable names not present in the ",(0,i.Z)("b",{},void 0,"data")," object.")));var a=this.context,n=!V()(this.props.questions),o=I()(this.props.questions)?{children:this.props.questions}:this.props.questions,s=this.props.style.height||.9*window.innerHeight-165;return(0,i.Z)(R.Z,{className:"no-gutter data-explorer",style:this.props.style},void 0,(0,i.Z)(E.Z,{xs:6,md:6},void 0,(0,i.Z)(A.Z,{style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},void 0,(0,i.Z)(b.Z,{className:"data-explorer-navbar",value:this.state.openedNav,onSelect:function(e){return t.setState({openedNav:e})}},void 0,(0,i.Z)(O.Z,{},void 0,n?(0,i.Z)(O.Z.Item,{className:"explorer-data-nav"},void 0,(0,i.Z)(O.Z.Link,{title:"".concat(this.props.t("questions")," ").concat(La),eventKey:"questions",active:"questions"===this.state.openedNav},void 0,this.props.t("questions"))):null,this.props.dataTable?(0,i.Z)(O.Z.Item,{className:"explorer-data-nav"},void 0,(0,i.Z)(O.Z.Link,{title:"".concat(this.props.t("data")," ").concat(Ia),eventKey:"data",active:"data"===this.state.openedNav},void 0,this.props.t("data"))):null,this.props.editor?(0,i.Z)(O.Z.Item,{className:"explorer-editor-nav"},void 0,(0,i.Z)(O.Z.Link,{title:"".concat(this.props.editorTitle?this.props.editorTitle:this.props.t("report")," ").concat(Fa),active:"editor"===this.state.openedNav,eventKey:"editor"},void 0,this.props.editorTitle?this.props.editorTitle:this.props.t("report"))):null,this.props.history?(0,i.Z)(O.Z.Item,{className:"explorer-editor-nav"},void 0,(0,i.Z)(O.Z.Link,{title:"".concat(this.props.t("history")," ").concat(qa),active:"history"===this.state.openedNav,eventKey:"history"},void 0,this.props.t("history"))):null,this.props.tabs.length>0?this.props.tabs.map((function(e,a){return(0,i.Z)(O.Z.Item,{className:"explorer-tabs-nav"},a,(0,i.Z)(O.Z.Link,{active:t.state.openedNav===e.title,eventKey:e.title},void 0,e.title))})):null),(0,i.Z)(p.Suspense,{fallback:Sa||(Sa=(0,i.Z)(y.Z,{variant:"secondary",size:"sm",className:"hide-toolbox-button",disabled:!0},void 0,"Loading..."))},void 0,(0,i.Z)(xa,{id:"".concat(this.id,"-toolbox"),models:this.props.models,tables:this.props.tables,statistics:this.props.statistics,plots:this.props.plots,tests:this.props.tests,quantitative:this.state.quantitative,originalQuantitative:this.props.quantitative,categorical:this.state.categorical,logAction:this.logAction,onCreated:this.addToOutputs,data:this.state.data,showTestDecisions:this.props.showTestDecisions,onPlotDone:this.outputPanel?this.outputPanel.scrollToBottom:W(),groupingVariables:this.state.groupVars,on2dSelection:this.on2dSelection,onQQPlotSelection:this.onQQPlotSelection,transformer:this.props.transformer,onBarchartSelection:this.onBarchartSelection,showHistogramDensityOption:this.props.histogramDensities,onGenerateTransformedVariable:this.onGenerateTransformedVariable,onHistogramSelection:this.onHistogramSelection,onCategoricalGenerate:function(e,a){var r=e.slice();t.setState({categorical:e,groupVars:r,data:a})},onQuantitativeGenerate:function(e,a){t.setState({quantitative:e,data:a})},onTutorialStart:this.props.onTutorialStart,onTutorialCompletion:this.props.onTutorialCompletion,onPredict:this.onPredict}))),(0,i.Z)(A.Z.Body,{style:{overflowY:"auto"}},void 0,n?p.createElement(ut.Z,(0,r.Z)({id:this.id+"_questions",height:s,className:"data-explorer-questions",style:{display:"questions"!==this.state.openedNav?"none":null}},o)):null,(0,i.Z)("div",{style:{display:"data"!==this.state.openedNav?"none":null}},void 0,this.props.data||a.metadata.store[this.id]?null:(0,i.Z)(y.Z,{size:"small",onClick:this.resetStorage,style:{position:"absolute",top:"80px",zIndex:2}},void 0,this.props.t("clear-data")),this.props.data?null:(0,i.Z)(dt.Z,{owner:!0},void 0,(0,i.Z)(y.Z,{size:"small",onClick:this.shareData,style:{position:"absolute",top:"80px",left:"140px",zIndex:2}},void 0,a.metadata.store[this.id]?this.props.t("unshare"):this.props.t("share"))),p.createElement(mt.Z,(0,r.Z)({},this.props.dataTableProps,{data:this.state.data,dataInfo:this.props.dataInfo,undeletableVars:$()(this.props.data),filters:this.state.filters,onFilteredChange:function(e){Da("Filters have changed..."),t.setState({filters:e})},onColumnDelete:this.onColumnDelete,onColumnNameChange:this.onColumnNameChange,onColumnDrag:this.onColumnDrag,deletable:!0,id:this.id+"_table"})),(0,i.Z)(R.Z,{},void 0,(0,i.Z)(E.Z,{md:4},void 0,this.state.filters.length>0&&this.state.subsetFilters!==this.state.filters?(0,i.Z)(vt.Z,{placement:"top",overlay:(0,i.Z)(P.Z,{},void 0,this.props.t("create-filtered-dataset-tooltip"))},void 0,(0,i.Z)(y.Z,{onClick:function(){t.state.subsetFilters?t.onFilterAdd():t.onFilterCreate()},variant:"secondary",size:"xsmall",style:{float:"left"}},void 0,this.props.t("create-filtered-dataset"))):null),(0,i.Z)(E.Z,{md:8},void 0,this.state.subsetFilters?(0,i.Z)("div",{className:"data-explorer-subset-filter-display"},void 0,(0,i.Z)("p",{},void 0,(0,i.Z)("span",{style:{color:"white",paddingLeft:2}},void 0,this.props.t("filtered"),":"),this.state.subsetFilters?(0,i.Z)(vt.Z,{placement:"top",overlay:(0,i.Z)(P.Z,{},void 0,this.props.t("restore-original-dataset-tooltip"))},void 0,(0,i.Z)(y.Z,{onClick:this.onRestoreData,variant:"secondary",size:"small",style:{float:"right"}},void 0,this.props.t("restore-original-dataset"))):null),(0,i.Z)(pa,{filters:this.state.subsetFilters,removeButtons:!0,onRemove:function(e){Da("Removing filter at position "+e);var a=t.state.subsetFilters.slice();a.splice(e,1),a.length>0?t.setState({data:t.state.oldData,filters:a},t.onFilterCreate):t.onRestoreData()}})):null))),this.props.history&&"history"===this.state.openedNav?(0,i.Z)(Ue,{explorerID:this.id,actions:this.context.currentUserActions[this.id],onCreated:this.addToOutputs,logAction:this.logAction,session:this.context,data:this.state.data,quantitative:this.state.quantitative,categorical:this.state.categorical,t:this.props.t,reportMode:this.props.reportMode}):null,this.props.editor?p.createElement(it.Z,(0,r.Z)({},this.props.editorProps,{mode:this.props.reportMode,id:this.id+"_editor",style:{display:"editor"!==this.state.openedNav?"none":null},submitButton:!0})):null,this.props.tabs.map((function(e,a){return t.state.openedNav===e.title?e.content:null}))))),(0,i.Z)(E.Z,{xs:6,md:6},void 0,(0,i.Z)("div",{className:"card card-default",style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},void 0,p.createElement(St,{output:this.state.output,ref:function(e){t.outputPanel=e},session:this.context,header:(0,i.Z)(dt.Z,{owner:!0},void 0,(0,i.Z)(S.Z,{show:this.state.showStudentPlots,onHide:this.toggleStudentPlots,dialogClassName:"modal-100w"},void 0,(0,i.Z)(S.Z.Header,{closeButton:!0},void 0,(0,i.Z)(S.Z.Title,{},void 0,this.props.t("plots"))),(0,i.Z)(S.Z.Body,{style:{height:.8*window.innerHeight,overflowY:"scroll"}},void 0,this.state.studentPlots.length>0?(0,i.Z)(ct,{},void 0,this.state.studentPlots.map((function(e,a){var r=JSON.parse(e.config);return(0,i.Z)("div",{style:{height:"450px"}},a,(0,T.isPrimitive)(r)?(0,i.Z)(Zt.Z,{code:r,libraries:["MASS"]}):(0,i.Z)(ft.Z,{data:r.data,layout:r.layout,removeButtons:!0}),(0,i.Z)("span",{},void 0,(0,i.Z)("b",{},void 0,t.props.t("count"),": "),e.count))}))):(0,i.Z)(A.Z,{body:!0,className:"bg-light"},void 0,this.props.t("no-plots-yet"))),(0,i.Z)(S.Z.Footer,{},void 0,(0,i.Z)(y.Z,{variant:"danger",onClick:this.clearPlots},void 0,this.props.t("clear-plots")),(0,i.Z)(y.Z,{onClick:this.toggleStudentPlots},void 0,this.props.t("close")))),(0,i.Z)(y.Z,{variant:"secondary",size:"sm",style:{float:"right"},onClick:this.toggleStudentPlots},void 0,this.props.t("open-shared-plots")),(0,i.Z)(pt.Z,{returnFullObject:!0,for:[this.id],onDatum:this.onUserAction})),clearOutput:function(){a.log({id:t.id,type:Bt.i_,value:null},"owners"),t.setState({output:[]})},reportMode:this.props.reportMode,t:this.props.t}),(0,i.Z)(gt.Z,{actions:{"shift+alt+r":function(){return t.setState({openedNav:"editor"})},"shift+alt+h":function(){return t.setState({openedNav:"history"})},"shift+alt+d":function(){return t.setState({openedNav:"data"})},"shift+alt+q":function(){return t.setState({openedNav:"questions"})}}}))))}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(!t.data)return null;var a={};return t.data!==e.unaltered.data&&(a.data=t.data),t.quantitative!==e.unaltered.quantitative&&(a.quantitative=t.quantitative),t.categorical!==e.unaltered.categorical&&(a.categorical=t.categorical),a.validVariables=Ha(t.data,t.quantitative.concat(t.categorical)),M()(a)?null:(a.unaltered={data:t.data,quantitative:t.quantitative,categorical:t.categorical},a)}}]),a}(p.Component);ja.defaultProps={data:{},dataInfo:{info:"",name:"",variables:null,showOnStartup:!1},dataTable:!0,dataTableProps:{},history:!0,tabs:[],questions:null,transformer:!0,statistics:["Mean","Median","Min","Max","Range","Interquartile Range","Standard Deviation","Variance","Correlation","Correlation Matrix","Skewness","Excess Kurtosis","First Quartile","Third Quartile","Quantile","Five-Number Summary"],plots:["Bar Chart","Pie Chart","Mosaic Plot","Histogram","Interval Plot","Box Plot","Line Plot","Scatterplot","Scatterplot Matrix","Heat Map","Contour Chart","Violin Plot","QQ Plot"],tables:["Frequency Table","Contingency Table"],tests:["One-Sample Mean Test","Two-Sample Mean Test","One-Way ANOVA","One-Sample Proportion Test","Two-Sample Proportion Test","Correlation Test","Chi-squared Independence Test","Kruskal-Wallis Test"],models:["Simple Linear Regression","Multiple Linear Regression","LASSO","Decision Tree","Random Forest","Logistic Regression","Naive Bayes","PCA","Hierarchical Clustering","kmeans"],opened:null,categorical:[],quantitative:[],editor:!0,editorProps:null,editorTitle:null,reportMode:"individual",histogramDensities:!0,showTestDecisions:!0,onTutorialCompletion:function(){},onTutorialStart:function(){},style:{}},ja.contextType=yt.Z;var Ma=(0,Z.Z)("data-explorer")((0,_a.W)(ja))},833562:function(t,e,a){"use strict";a(111246);var r=a(294565),i=a(409961),n=a.n(i),o=a(302467),s=a.n(o);function l(t){return(0,r.isPrimitive)(t)?s()(t,".","[dot]"):t}e.Z=function(t,e,a,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[],s=r[t];if(!a)return s;if(i){if(n()(e))for(var c=0;c<s.length;c++){var u=s[c],d=Number(a[l(u)]);o.push(d)}else for(var p=r[e],f=0;f<s.length;f++){var v=l(s[f]),h=l(p[f]),Z=a[v+"-"+h];o.push(Number(Z))}return o}if(n()(e))for(var g=0;g<s.length;g++){var m=s[g],y=a[l(m)];"null"!==y&&"NA"!==y||(y=null),o.push(y)}else for(var b=r[e],R=0;R<s.length;R++){var E=l(s[R]),S=l(b[R]),O=a[E+"-"+S];o.push(O)}return o}},938036:function(t,e,a){"use strict";var r=a(676065),i=a.n(r),n=a(309765),o=a(316305),s=a.n(o);e.Z=function(t,e,a){for(var r=[],o=0;o<t.length;o++){var l=void 0,c=t[o];if((0,n.isPrimitive)(c)&&!s()(c))for(var u=0;i()(l);)u>=a.length||c<a[u]?l=e[u]:u+=1;else l=null;r.push(l)}return r}},693171:function(t,e,a){"use strict";var r=a(217626),i=a(711746),n=a(733727),o=a.n(n),s=a(686605),l=a.n(s),c=a(695688),u=a.n(c),d=a(190465),p=a.n(d),f=a(557106),v=a.n(f),h=a(783158),Z=a.n(h),g=a(798030),m=a.n(g),y=a(830324),b=a.n(y),R=a(700601),E=a.n(R),S=a(409961),O=a.n(S),A=a(243644),P=a(821337),T=a(242995),_=a(123950),k=function(t){return function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t(a)}},C=[p(),m(),l(),u(),o(),v(),Z(),k(P.Z),k(A.Z),k(T.Z)];e.Z=function(t,e){var a=[];for(var n in e)if(E()(e,n))for(var o=0;o<e[n].length;o++){b()(a[o])||(a[o]={});var s=e[n][o];a[o][n]=O()(s)?NaN:s}for(var l=(0,r.Z)(Function,["datum"].concat((0,i.Z)(_),[t])),c=new Array(a.length),u=0;u<a.length;u++)c[u]=l.apply(void 0,[a[u]].concat(C));return c}},734150:function(t,e,a){"use strict";var r=a(574315),i=a(202784);e.Z=function(){var t=(0,i.useState)(0),e=(0,r.Z)(t,2)[1];return(0,i.useCallback)((function(){e((function(t){return t+1}))}),[])}},806258:function(t,e){"use strict";e.Z=function(t){var e=document.createElement("div");e.innerHTML=t,e.style.position="fixed",e.style.opacity=0,e.style.pointerEvents="none",document.body.appendChild(e),window.getSelection().removeAllRanges();var a=document.createRange();a.selectNode(e),window.getSelection().addRange(a),document.execCommand("copy"),document.body.removeChild(e)}},717932:function(t,e){"use strict";e.Z=function t(e,a,r){if(!(r<=0)){var i=(a-e.scrollTop)/r*10;setTimeout((function(){e.scrollTop=e.scrollTop+i,e.scrollTop!==a&&t(e,a,r-10)}),10)}}},31388:function(t,e,a){"use strict";var r=a(89596),i=a.n(r),n=a(309765);e.Z=function(t,e){var a=i()(e);if(!i()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!a&&!(0,n.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var r=t.length,o=new Array(r);if(a){if(r!==e.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var s=0;s<r;s++)o[s]=t[s]-e[s]}else for(var l=0;l<r;l++)o[l]=t[l]-e;return o}}}]);