(self.webpackChunk=self.webpackChunk||[]).push([[83182],{583182:function(e,t,n){"use strict";n.d(t,{ZP:function(){return vc}});var r={};n.r(r),n.d(r,{FILE:function(){return zn},HTML:function(){return Un},TEXT:function(){return Fn},URL:function(){return An}});var o=n(202784),i=n(373463),a=n.n(i),s=n(298357),c=n.n(s),u=n(588225),l=Object.defineProperty,d=Object.defineProperties,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&v(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&v(e,n,t[n]);return e};const y=(e,t,n)=>Math.floor(Math.min(t,Math.max(e,n))),b=e=>({x:t,w:n,y:r,h:o},i)=>{const a=Math.min(n/2,e);if(i.x>=t&&i.x<=t+n&&i.y>=r&&i.y<=r+o){if(i.x<t+a)return(i.x-t-a)/a;if(i.x>t+n-a)return-(t+n-i.x-a)/a}return 0},I=e=>({y:t,h:n,x:r,w:o},i)=>{const a=Math.min(n/2,e);if(i.y>=t&&i.y<=t+n&&i.x>=r&&i.x<=r+o){if(i.y<t+a)return(i.y-t-a)/a;if(i.y>t+n-a)return-(t+n-i.y-a)/a}return 0},w=b(150),S={onScrollChange:()=>{},verticalStrength:I(150),horizontalStrength:w,strengthMultiplier:30},T=e=>a()((t=>{let n;t=m(m({},S),t);const r=(0,o.createRef)();let i,a=0,s=0,u=!1,l=!1;const d=c()((e=>{const{left:r,top:o,width:c,height:u}=n.getBoundingClientRect(),l={x:r,y:o,w:c,h:u},d=(e=>"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY})(e);a=t.horizontalStrength(l,d),s=t.verticalStrength(l,d),i||!a&&!s||I()}),100,{trailing:!1});(0,o.useEffect)((()=>{n=r.current,n&&"function"==typeof n.addEventListener&&n.addEventListener("dragover",f),window.document.body.addEventListener("touchmove",f);const e=t.dragDropManager.getMonitor().subscribeToStateChange((()=>v()));return()=>{n&&"function"==typeof n.removeEventListener&&n.removeEventListener("dragover",f),window.document.body.removeEventListener("touchmove",f),e(),w()}}),[]);const f=e=>{l&&!u&&(b(),d(e))},v=()=>{const e=t.dragDropManager.getMonitor().isDragging();!l&&e?l=!0:l&&!e&&(l=!1,w())},b=()=>{u=!0,window.document.body.addEventListener("dragover",d),window.document.body.addEventListener("touchmove",d)},I=()=>{let e=0;const r=()=>{if(0!==t.strengthMultiplier&&a+s!==0){if(e+=1,e%2){const{scrollLeft:e,scrollTop:r,scrollWidth:o,scrollHeight:i,clientWidth:c,clientHeight:u}=n,l=a?n.scrollLeft=y(0,o-c,e+a*t.strengthMultiplier):e,d=s?n.scrollTop=y(0,i-u,r+s*t.strengthMultiplier):r;t.onScrollChange(l,d)}i=requestAnimationFrame(r)}else w()};r()},w=()=>{u=!1,window.document.body.removeEventListener("dragover",d),window.document.body.removeEventListener("touchmove",d),a=0,s=0,i&&(cancelAnimationFrame(i),i=void 0)},T=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["strengthMultiplier","verticalStrength","horizontalStrength","onScrollChange"]);return o.createElement(e,m({ref:r},T))}),e),C=e=>{const t=T(e);return e=>o.createElement(u.L.Consumer,null,(({dragDropManager:n})=>{return void 0===n?void 0:o.createElement(t,(r=m({},e),d(r,f({dragDropManager:n}))));var r}))};var x=n(633958),D=n.n(x);function O(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}function E(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}function k(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}function P(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function R(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,o.isValidElement)(t)){var r=t;return e(r,n),r}var i=t;P(i);var a=n?function(t){return e(t,n)}:e;return j(i,a)}}(r);t[n]=function(){return i}}})),t}function N(e,t){"function"==typeof e?e(t):e.current=t}function j(e,t){var n=e.ref;return O("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,o.cloneElement)(e,{ref:function(e){N(n,e),N(t,e)}}):(0,o.cloneElement)(e,{ref:t})}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function H(e){return null!==e&&"object"===M(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function _(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(o=n?n.call(r,l,d,u):void 0)||void 0===o&&l!==d)return!1}return!0}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,"hooks",R({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,H(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,H(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),B(this,"handlerId",null),B(this,"dragSourceRef",null),B(this,"dragSourceNode",void 0),B(this,"dragSourceOptionsInternal",null),B(this,"dragSourceUnsubscribe",void 0),B(this,"dragPreviewRef",null),B(this,"dragPreviewNode",void 0),B(this,"dragPreviewOptionsInternal",null),B(this,"dragPreviewUnsubscribe",void 0),B(this,"lastConnectedHandlerId",null),B(this,"lastConnectedDragSource",null),B(this,"lastConnectedDragSourceOptions",null),B(this,"lastConnectedDragPreview",null),B(this,"lastConnectedDragPreviewOptions",null),B(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!_(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!_(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&L(t.prototype,n),r&&L(t,r),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=!1,K=!1,V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,"internalMonitor",void 0),F(this,"sourceId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){O(!U,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return U=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{U=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;O(!K,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return K=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{K=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&A(t.prototype,n),r&&A(t,r),e}();function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function G(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function q(e){return"function"==typeof e}function Y(){}function X(e){if(!function(e){return"object"===W(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $(e,t){return"string"==typeof e||"symbol"===W(e)||!!t&&Array.isArray(e)&&e.every((function(e){return $(e,!1)}))}var Q=n(552322),Z=(0,o.createContext)({dragDropManager:void 0});function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(){function e(t){J(this,e),ne(this,"isDisposed",!1),ne(this,"action",void 0),this.action=q(t)?t:Y}return te(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&q(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();ne(re,"empty",{dispose:Y});var oe=function(){function e(){J(this,e),ne(this,"isDisposed",!1),ne(this,"disposables",void 0);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return te(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),ie=function(){function e(){J(this,e),ne(this,"isDisposed",!1),ne(this,"current",void 0)}return te(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eo){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,i=e.createConnector,s=e.registerHandler,c=e.containerDisplayName,u=e.getType,l=e.collect,d=e.options.arePropsEqual,f=void 0===d?_:d,h=t,g=t.displayName||t.name||"Component",p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(p,e);var t,a,c,d=de(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),pe(he(t=d.call(this,e)),"decoratedRef",(0,o.createRef)()),pe(he(t),"handlerId",void 0),pe(he(t),"manager",void 0),pe(he(t),"handlerMonitor",void 0),pe(he(t),"handlerConnector",void 0),pe(he(t),"handler",void 0),pe(he(t),"disposable",void 0),pe(he(t),"currentType",void 0),pe(he(t),"handleChange",(function(){var e=t.getCurrentState();_(e,t.state)||t.setState(e)})),t.disposable=new ie,t.receiveProps(e),t.dispose(),t}return t=p,(a=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return O(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!f(e,this.props)||!_(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new ie,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){f(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(u(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=se(s(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new oe(new re(o),new re(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?l(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return(0,Q.jsx)(Z.Consumer,{children:function(t){var n,r,o=t.dragDropManager;return e.receiveDragDropManager(o),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),(0,Q.jsx)(h,Object.assign({},e.props,e.getCurrentState(),{ref:(n=h,(r=n)&&r.prototype&&"function"==typeof r.prototype.render||function(e){var t,n=e;return"Symbol(react.forward_ref)"===(null==n||null===(t=n.$$typeof)||void 0===t?void 0:t.toString())}(n)?e.decoratedRef:null)}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(O(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",g,g),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=i(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&ue(t.prototype,a),c&&ue(t,c),p}(o.Component);return pe(p,"DecoratedComponent",t),pe(p,"displayName","".concat(c,"(").concat(g,")")),a()(p,t)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=["canDrag","beginDrag","isDragging","endDrag"],Ie=["beginDrag"],we=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ye(this,"props",null),ye(this,"spec",void 0),ye(this,"monitor",void 0),ye(this,"ref",void 0),ye(this,"beginDrag",(function(){if(o.props)return o.spec.beginDrag(o.props,o.monitor,o.ref.current)})),this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,G(this.ref))}}])&&me(t.prototype,n),r&&me(t,r),e}();function Se(e){return Object.keys(e).forEach((function(t){O(be.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',be.join(", "),t),O("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),Ie.forEach((function(t){O("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new we(e,t,n)}}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=!1,De=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,"internalMonitor",void 0),Ce(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;O(!xe,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return xe=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{xe=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ee(this,"hooks",R({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,H(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),Ee(this,"handlerId",null),Ee(this,"dropTargetRef",null),Ee(this,"dropTargetNode",void 0),Ee(this,"dropTargetOptionsInternal",null),Ee(this,"unsubscribeDropTarget",void 0),Ee(this,"lastConnectedHandlerId",null),Ee(this,"lastConnectedDropTarget",null),Ee(this,"lastConnectedDropTargetOptions",null),Ee(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!_(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&Oe(t.prototype,n),r&&Oe(t,r),e}();function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=["canDrop","hover","drop"],je=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Re(this,"props",null),Re(this,"spec",void 0),Re(this,"monitor",void 0),Re(this,"ref",void 0),this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,G(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&Pe(t.prototype,n),r&&Pe(t,r),e}();function Me(e){return Object.keys(e).forEach((function(t){O(Ne.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',Ne.join(", "),t),O("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new je(e,t,n)}}function He(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(O($(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),o=function(){return e}),O(X(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var i=Me(t);return O("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),O(X(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return ve({containerDisplayName:"DropTarget",createHandler:i,registerHandler:E,createMonitor:function(e){return new De(e)},createConnector:function(e){return new ke(e)},DecoratedComponent:e,getType:o,collect:n,options:r})}}var _e="dnd-core/INIT_COORDS",Le="dnd-core/BEGIN_DRAG",Be="dnd-core/PUBLISH_DRAG_SOURCE",ze="dnd-core/HOVER",Ae="dnd-core/DROP",Fe="dnd-core/END_DRAG";function Ue(e,t){return{type:_e,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Ve(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function We(e,t){return e.filter((function(e){return e!==t}))}function Ge(e){return"object"===Ke(e)}function qe(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o}var Ye={type:_e,payload:{clientOffset:null,sourceClientOffset:null}};function Xe(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,o=void 0===r||r,i=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(Ue(i)),$e(t,s,c);var u=Je(t,s);if(null!==u){var l=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");Qe(a),l=a(u)}e.dispatch(Ue(i,l));var d=c.getSource(u),f=d.beginDrag(s,u);if(null!=f){Ze(f),c.pinSource(u);var h=c.getSourceType(u);return{type:Le,payload:{itemType:h,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!o}}}}else e.dispatch(Ye)}}function $e(e,t,n){O(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){O(n.getSource(e),"Expected sourceIds to be registered.")}))}function Qe(e){O("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function Ze(e){O(Ge(e),"Item must be an object.")}function Je(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function et(e){return function(){if(e.getMonitor().isDragging())return{type:Be}}}function tt(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function nt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;rt(t);var o=t.slice(0),i=e.getMonitor(),a=e.getRegistry();ot(o,i,a);var s=i.getItemType();return it(o,a,s),at(o,i,a),{type:ze,payload:{targetIds:o,clientOffset:r||null}}}}function rt(e){O(Array.isArray(e),"Expected targetIds to be an array.")}function ot(e,t,n){O(t.isDragging(),"Cannot call hover while not dragging."),O(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];O(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array."),O(n.getTarget(o),"Expected targetIds to be registered.")}}function it(e,t,n){for(var r=e.length-1;r>=0;r--){var o=e[r];tt(t.getTargetType(o),n)||e.splice(r,1)}}function at(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();dt(n);var o=ht(n);o.forEach((function(o,i){var a=ft(o,i,r,n),s={type:Ae,payload:{dropResult:ct(ct({},t),a)}};e.dispatch(s)}))}}function dt(e){O(e.isDragging(),"Cannot call drop while not dragging."),O(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ft(e,t,n,r){var o=n.getTarget(e),i=o?o.drop(r,e):void 0;return function(e){O(void 0===e||Ge(e),"Drop result must either be an object or undefined.")}(i),void 0===i&&(i=0===t?{}:r.getDropResult()),i}function ht(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function gt(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){O(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:Fe}}}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vt(this,"store",void 0),vt(this,"monitor",void 0),vt(this,"backend",void 0),vt(this,"isSetUp",!1),vt(this,"handleRefCountChange",(function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))})),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:Xe(e),publishDragSource:et(e),hover:nt(e),drop:lt(e),endDrag:gt(e)}}(this);return Object.keys(n).reduce((function(r,o){var i,a=n[o];return r[o]=(i=a,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=i.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&pt(t.prototype,n),r&&pt(t,r),e}(),yt=n(118717),bt=function(e,t){return e===t};function It(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function wt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case _e:case Le:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ze:return It(e.clientOffset,n.clientOffset)?e:Tt(Tt({},e),{},{clientOffset:n.clientOffset});case Fe:case Ae:return xt;default:return e}}var Ot="dnd-core/ADD_SOURCE",Et="dnd-core/ADD_TARGET",kt="dnd-core/REMOVE_SOURCE",Pt="dnd-core/REMOVE_TARGET";function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mt={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Le:return Nt(Nt({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Be:return Nt(Nt({},e),{},{isSourcePublic:!0});case ze:return Nt(Nt({},e),{},{targetIds:n.targetIds});case Pt:return-1===e.targetIds.indexOf(n.targetId)?e:Nt(Nt({},e),{},{targetIds:We(e.targetIds,n.targetId)});case Ae:return Nt(Nt({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Fe:return Nt(Nt({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:case Et:return e+1;case kt:case Pt:return e-1;default:return e}}var Lt=[],Bt=[];function zt(e,t){return e!==Lt&&(e===Bt||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function At(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ze:break;case Ot:case Et:case Pt:case kt:return Lt;default:return Bt}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,o=t.prevTargetIds,i=void 0===o?[]:o,a=qe(r,i),s=a.length>0||!wt(r,i);if(!s)return Lt;var c=i[i.length-1],u=r[r.length-1];return c!==u&&(c&&a.push(c),u&&a.push(u)),a}function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:At(e.dirtyHandlerIds,{type:t.type,payload:Kt(Kt({},t.payload),{},{prevTargetIds:Ve(e,"dragOperation.targetIds",[])})}),dragOffset:Dt(e.dragOffset,t),refCount:_t(e.refCount,t),dragOperation:Ht(e.dragOperation,t),stateId:Ft(e.stateId)}}function Gt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lt.__IS_NONE__=!0,Bt.__IS_ALL__=!0;var Xt,$t=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yt(this,"store",void 0),Yt(this,"registry",void 0),this.store=t,this.registry=n}var t,n,r;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;O("function"==typeof e,"listener must be a function."),O(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,i=function(){var n=t.store.getState(),i=n.stateId;try{i===o||i===o+1&&!zt(n.dirtyHandlerIds,r)||e()}finally{o=i}};return this.store.subscribe(i)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;O("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return O(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return O(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&tt(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return O(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!tt(r,o))return!1;var i=this.getTargetIds();if(!i.length)return!1;var a=i.indexOf(e);return n?a===i.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,r=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset,r&&o&&i?Gt((n=i,{x:(t=r).x+n.x,y:t.y+n.y}),o):null;var e,t,n,r,o,i}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?Gt(t,n):null;var e,t,n}}],n&&qt(t.prototype,n),r&&qt(t,r),e}(),Qt=0;function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Jt(e,t){t&&Array.isArray(e)?e.forEach((function(e){return Jt(e,!1)})):O("string"==typeof e||"symbol"===Zt(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Xt||(Xt={}));const en="undefined"!=typeof global?global:self,tn=en.MutationObserver||en.WebKitMutationObserver;function nn(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const rn="function"==typeof tn?function(e){let t=1;const n=new tn(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:nn;class on{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const an=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=rn(this.flush),this.requestErrorThrow=nn((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},sn=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new on(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(an.registerPendingError);function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fn(e){var t=(Qt++).toString();switch(e){case Xt.SOURCE:return"S".concat(t);case Xt.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function hn(e){switch(e[0]){case"S":return Xt.SOURCE;case"T":return Xt.TARGET;default:O(!1,"Cannot parse handler ID: ".concat(e))}}function gn(e,t){var n=e.entries(),r=!1;do{var o=n.next(),i=o.done;if(ln(o.value,2)[1]===t)return!0;r=!!i}while(!r);return!1}var pn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),un(this,"types",new Map),un(this,"dragSources",new Map),un(this,"dropTargets",new Map),un(this,"pinnedSourceId",null),un(this,"pinnedSource",null),un(this,"store",void 0),this.store=t}var t,n,r;return t=e,n=[{key:"addSource",value:function(e,t){Jt(e),function(e){O("function"==typeof e.canDrag,"Expected canDrag to be a function."),O("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),O("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(Xt.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Ot,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Jt(e,!0),function(e){O("function"==typeof e.canDrop,"Expected canDrop to be a function."),O("function"==typeof e.hover,"Expected hover to be a function."),O("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(Xt.TARGET,e,t);return this.store.dispatch(function(e){return{type:Et,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return gn(this.dragSources,e)||gn(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return O(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return hn(e)===Xt.SOURCE}},{key:"isTargetId",value:function(e){return hn(e)===Xt.TARGET}},{key:"removeSource",value:function(e){var t,n=this;O(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:kt,payload:{sourceId:e}}}(e)),t=function(){n.dragSources.delete(e),n.types.delete(e)},an.enqueueTask(sn.create(t))}},{key:"removeTarget",value:function(e){O(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Pt,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);O(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){O(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=fn(e);return this.types.set(r,t),e===Xt.SOURCE?this.dragSources.set(r,n):e===Xt.TARGET&&this.dropTargets.set(r,n),r}}],n&&cn(t.prototype,n),r&&cn(t,r),e}();function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=mn(r),i=new $t(o,new pn(o)),a=new mt(o,i),s=e(a,t,n);return a.receiveBackend(s),a}function mn(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,yt.MT)(Wt,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var yn=["children"];function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Sn=0,Tn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Cn=(0,o.memo)((function(e){var t=e.children,n=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xn(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[Tn]||(o[Tn]={dragDropManager:vn(e,t,n,r)});return o[Tn]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(wn(e,yn)),r=bn(n,2),i=r[0],a=r[1];return(0,o.useEffect)((function(){if(a){var e=xn();return++Sn,function(){0==--Sn&&(e[Tn]=null)}}}),[]),(0,Q.jsx)(Z.Provider,Object.assign({value:i},{children:t}),void 0)}));function xn(){return void 0!==n.g?n.g:window}function Dn(e){var t=null;return function(){return null==t&&(t=e()),t}}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),En(this,"entered",[]),En(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&On(t.prototype,n),r&&On(t,r),e}(),Pn=Dn((function(){return/firefox/i.test(navigator.userAgent)})),Rn=Dn((function(){return Boolean(window.safari)}));function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jn(this,"xs",void 0),jn(this,"ys",void 0),jn(this,"c1s",void 0),jn(this,"c2s",void 0),jn(this,"c3s",void 0);for(var r=t.length,o=[],i=0;i<r;i++)o.push(i);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,c=[],u=[],l=[],d=0;d<r-1;d++)a=t[d+1]-t[d],s=n[d+1]-n[d],u.push(a),c.push(s),l.push(s/a);for(var f=[l[0]],h=0;h<u.length-1;h++){var g=l[h],p=l[h+1];if(g*p<=0)f.push(0);else{a=u[h];var v=u[h+1],m=a+v;f.push(3*m/((m+v)/g+(m+a)/p))}}f.push(l[l.length-1]);for(var y,b=[],I=[],w=0;w<f.length-1;w++){y=l[w];var S=f[w],T=1/u[w],C=S+f[w+1]-y-y;b.push((y-S-C)*T),I.push(C*T*T)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=b,this.c3s=I}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,c=0,u=i.length-1;c<=u;){var l=t[s=Math.floor(.5*(c+u))];if(l<e)c=s+1;else{if(!(l>e))return n[s];u=s-1}}var d=e-t[a=Math.max(0,u)],f=d*d;return n[a]+r[a]*d+o[a]*f+i[a]*d*f}}])&&Nn(t.prototype,n),r&&Nn(t,r),e}();function Hn(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function _n(e){return{x:e.clientX,y:e.clientY}}function Ln(e,t,n,r,o){var i,a,s,c="IMG"===(i=t).nodeName&&(Pn()||!(null!==(a=document.documentElement)&&void 0!==a&&a.contains(i))),u=Hn(c?e:t),l={x:n.x-u.x,y:n.y-u.y},d=e.offsetWidth,f=e.offsetHeight,h=r.anchorX,g=r.anchorY,p=function(e,t,n,r){var o=e?t.width:n,i=e?t.height:r;return Rn()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(c,t,d,f),v=p.dragPreviewWidth,m=p.dragPreviewHeight,y=o.offsetX,b=o.offsetY,I=0===b||b;return{x:0===y||y?y:new Mn([0,.5,1],[l.x,l.x/d*v,l.x+v-d]).interpolate(h),y:I?b:(s=new Mn([0,.5,1],[l.y,l.y/f*m,l.y+m-f]).interpolate(g),Rn()&&c&&(s+=(window.devicePixelRatio-1)*m),s)}}var Bn,zn="__NATIVE_FILE__",An="__NATIVE_URL__",Fn="__NATIVE_TEXT__",Un="__NATIVE_HTML__";function Kn(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=(Vn(Bn={},zn,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),Vn(Bn,Un,{exposeProperties:{html:function(e,t){return Kn(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),Vn(Bn,An,{exposeProperties:{urls:function(e,t){return Kn(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),Vn(Bn,Fn,{exposeProperties:{text:function(e,t){return Kn(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),Bn);function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qn(this,"item",void 0),qn(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&Gn(t.prototype,n),r&&Gn(t,r),e}();function Xn(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Wn).filter((function(e){return Wn[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qn(this,"ownerDocument",null),Qn(this,"globalContext",void 0),Qn(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&$n(t.prototype,n),r&&$n(t,r),e}();function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nr(this,"options",void 0),nr(this,"actions",void 0),nr(this,"monitor",void 0),nr(this,"registry",void 0),nr(this,"enterLeaveCounter",void 0),nr(this,"sourcePreviewNodes",new Map),nr(this,"sourcePreviewNodeOptions",new Map),nr(this,"sourceNodes",new Map),nr(this,"sourceNodeOptions",new Map),nr(this,"dragStartSourceIds",null),nr(this,"dropTargetIds",[]),nr(this,"dragEnterTargetIds",[]),nr(this,"currentNativeSource",null),nr(this,"currentNativeHandle",null),nr(this,"currentDragSourceNode",null),nr(this,"altKeyPressed",!1),nr(this,"mouseMoveTimeoutTimer",null),nr(this,"asyncEndDragFrameId",null),nr(this,"dragOverTargetIds",null),nr(this,"lastClientOffset",null),nr(this,"hoverRafId",null),nr(this,"getSourceClientOffset",(function(e){var t=o.sourceNodes.get(e);return t&&Hn(t)||null})),nr(this,"endDragNativeItem",(function(){o.isDraggingNativeItem()&&(o.actions.endDrag(),o.currentNativeHandle&&o.registry.removeSource(o.currentNativeHandle),o.currentNativeHandle=null,o.currentNativeSource=null)})),nr(this,"isNodeInDocument",(function(e){return Boolean(e&&o.document&&o.document.body&&o.document.body.contains(e))})),nr(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=o.currentDragSourceNode;null==e||o.isNodeInDocument(e)||o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()})),nr(this,"handleTopDragStartCapture",(function(){o.clearCurrentDragSourceNode(),o.dragStartSourceIds=[]})),nr(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=o.dragStartSourceIds;o.dragStartSourceIds=null;var n=_n(e);o.monitor.isDragging()&&o.actions.endDrag(),o.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:o.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,i=Xn(r);if(o.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var a=o.monitor.getSourceId(),s=o.sourceNodes.get(a),c=o.sourcePreviewNodes.get(a)||s;if(c){var u=o.getCurrentSourcePreviewNodeOptions(),l=Ln(s,c,n,{anchorX:u.anchorX,anchorY:u.anchorY},{offsetX:u.offsetX,offsetY:u.offsetY});r.setDragImage(c,l.x,l.y)}}try{null==r||r.setData("application/json",{})}catch(d){}o.setCurrentDragSourceNode(e.target),o.getCurrentSourcePreviewNodeOptions().captureDraggingState?o.actions.publishDragSource():setTimeout((function(){return o.actions.publishDragSource()}),0)}else if(i)o.beginDragNativeItem(i);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),nr(this,"handleTopDragEndCapture",(function(){o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()})),nr(this,"handleTopDragEnterCapture",(function(e){if(o.dragEnterTargetIds=[],o.enterLeaveCounter.enter(e.target)&&!o.monitor.isDragging()){var t=e.dataTransfer,n=Xn(t);n&&o.beginDragNativeItem(n,t)}})),nr(this,"handleTopDragEnter",(function(e){var t=o.dragEnterTargetIds;(o.dragEnterTargetIds=[],o.monitor.isDragging())&&(o.altKeyPressed=e.altKey,t.length>0&&o.actions.hover(t,{clientOffset:_n(e)}),t.some((function(e){return o.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())))})),nr(this,"handleTopDragOverCapture",(function(){o.dragOverTargetIds=[]})),nr(this,"handleTopDragOver",(function(e){var t=o.dragOverTargetIds;if(o.dragOverTargetIds=[],!o.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));o.altKeyPressed=e.altKey,o.lastClientOffset=_n(e),null===o.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(o.hoverRafId=requestAnimationFrame((function(){o.monitor.isDragging()&&o.actions.hover(t||[],{clientOffset:o.lastClientOffset}),o.hoverRafId=null}))),(t||[]).some((function(e){return o.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())):o.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),nr(this,"handleTopDragLeaveCapture",(function(e){o.isDraggingNativeItem()&&e.preventDefault(),o.enterLeaveCounter.leave(e.target)&&o.isDraggingNativeItem()&&setTimeout((function(){return o.endDragNativeItem()}),0)})),nr(this,"handleTopDropCapture",(function(e){var t;(o.dropTargetIds=[],o.isDraggingNativeItem())?(e.preventDefault(),null===(t=o.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Xn(e.dataTransfer)&&e.preventDefault();o.enterLeaveCounter.reset()})),nr(this,"handleTopDrop",(function(e){var t=o.dropTargetIds;o.dropTargetIds=[],o.actions.hover(t,{clientOffset:_n(e)}),o.actions.drop({dropEffect:o.getCurrentDropEffect()}),o.isDraggingNativeItem()?o.endDragNativeItem():o.monitor.isDragging()&&o.actions.endDrag()})),nr(this,"handleSelectStart",(function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new Zn(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new kn(this.isNodeInDocument)}var t,n,o;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return er({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return er({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new Yn(Wn[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&tr(t.prototype,n),o&&tr(t,o),e}(),or=function(e,t,n){return new rr(e,t,n)};function ir(e,t){return function(n){return e(t(n))}}function ar(e,t){return t(e)}function sr(e,t){return function(n){return e(t,n)}}function cr(e,t){return function(){return e(t)}}function ur(e){return function(t){return t[e]}}function lr(e,t){return t(e),e}function dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function fr(e){e()}function hr(e){return function(){return e}}function gr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.map(fr)}}function pr(){}function vr(e,t){return e(1,t)}function mr(e,t){e(0,t)}function yr(e){e(2)}function br(e){return e(4)}function Ir(e,t){return vr(e,sr(t,0))}function wr(e,t){var n=e(1,(function(e){n(),t(e)}));return n}function Sr(){var e=[];return function(t,n){switch(t){case 2:return void e.splice(0,e.length);case 1:return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)};case 0:return void e.slice().forEach((function(e){e(n)}));default:throw new Error("unrecognized action "+t)}}}function Tr(e){var t=e,n=Sr();return function(e,r){switch(e){case 1:r(t);break;case 0:t=r;break;case 4:return t}return n(e,r)}}function Cr(e){return lr(Sr(),(function(t){return Ir(e,t)}))}function xr(e,t){return lr(Tr(t),(function(t){return Ir(e,t)}))}function Dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(ar,e)}}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Dr.apply(void 0,n);return function(t,n){switch(t){case 1:return vr(e,o(n));case 2:return void yr(e);default:throw new Error("unrecognized action "+t)}}}function Er(e,t){return e===t}function kr(e){var t;return void 0===e&&(e=Er),function(n){return function(r){e(t,r)||(t=r,n(r))}}}function Pr(e){return function(t){return function(n){e(n)&&t(n)}}}function Rr(e){return function(t){return ir(t,e)}}function Nr(e){return function(t){return function(){return t(e)}}}function jr(e,t){return function(n){return function(r){return n(t=e(t,r))}}}function Mr(e){return function(t){return function(n){e>0?e--:t(n)}}}function Hr(e){var t,n;return function(r){return function(o){t=o,n||(n=setTimeout((function(){n=void 0,r(t)}),e))}}}function _r(e){var t,n;return function(r){return function(o){t=o,n&&clearTimeout(n),n=setTimeout((function(){r(t)}),e)}}}function Lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Array(t.length),o=0,i=null,a=Math.pow(2,t.length)-1;return t.forEach((function(e,t){var n=Math.pow(2,t);vr(e,(function(e){var s=o;o|=n,r[t]=e,s!==a&&o===a&&i&&(i(),i=null)}))})),function(e){return function(t){var n=function(){return e([t].concat(r))};o===a?n():i=n}}}function Br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){switch(e){case 1:return gr.apply(void 0,t.map((function(e){return vr(e,n)})));case 2:return;default:throw new Error("unrecognized action "+e)}}}function zr(e,t){return void 0===t&&(t=Er),Or(e,kr(t))}function Ar(){for(var e=Sr(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=new Array(n.length),i=0,a=Math.pow(2,n.length)-1;return n.forEach((function(t,n){var r=Math.pow(2,n);vr(t,(function(t){o[n]=t,(i|=r)===a&&mr(e,o)}))})),function(t,n){switch(t){case 1:return i===a&&n(o),vr(e,n);case 2:return yr(e);default:throw new Error("unrecognized action "+t)}}}function Fr(e,t,n){void 0===t&&(t=[]);var r=(void 0===n?{singleton:!0}:n).singleton;return{id:Ur(),constructor:e,dependencies:t,singleton:r}}var Ur=function(){return Symbol()};function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Wr=["children"];var Gr="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function qr(e,t,n){var r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),c=(0,o.createContext)({});function u(e,n){e.propsReady&&mr(e.propsReady,!1);for(var o,a=Vr(r);!(o=a()).done;){var s=o.value;mr(e[t.required[s]],n[s])}for(var c,u=Vr(i);!(c=u()).done;){var l=c.value;if(l in n)mr(e[t.optional[l]],n[l])}e.propsReady&&mr(e.propsReady,!0)}function l(e){return s.reduce((function(n,r){var o,i,a,s;return n[r]=(o=e[t.events[r]],s=function(){return i&&i()},function(e,t){switch(e){case 1:if(t){if(a===t)return;return s(),a=t,i=vr(o,t)}return s(),pr;case 2:return s(),void(a=null);default:throw new Error("unrecognized action "+e)}}),n}),{})}var d=(0,o.forwardRef)((function(d,f){var h=d.children,g=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(d,Wr),p=(0,o.useState)((function(){return lr(function(e){var t=new Map;return function e(n){var r=n.id,o=n.constructor,i=n.dependencies,a=n.singleton;if(a&&t.has(r))return t.get(r);var s=o(i.map((function(t){return e(t)})));return a&&t.set(r,s),s}(e)}(e),(function(e){return u(e,g)}))})),v=p[0],m=(0,o.useState)(cr(l,v))[0];return Gr((function(){for(var e,t=Vr(s);!(e=t()).done;){var n=e.value;n in g&&vr(m[n],g[n])}return function(){Object.values(m).map(yr)}}),[g,m,v]),Gr((function(){u(v,g)})),(0,o.useImperativeHandle)(f,hr(function(e){return a.reduce((function(n,r){return n[r]=function(n){mr(e[t.methods[r]],n)},n}),{})}(v))),(0,o.createElement)(c.Provider,{value:v},n?(0,o.createElement)(n,function(e,t){for(var n={},r={},o=0,i=e.length;o<i;)r[e[o]]=1,o+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}([].concat(r,i,s),g),h):h)}));return{Component:d,usePublisher:function(e){return(0,o.useCallback)(sr(mr,(0,o.useContext)(c)[e]),[e])},useEmitterValue:function(e){var t=(0,o.useContext)(c)[e],n=(0,o.useState)(cr(br,t)),r=n[0],i=n[1];return Gr((function(){return vr(t,(function(e){e!==r&&i(hr(e))}))}),[t,r]),r},useEmitter:function(e,t){var n=(0,o.useContext)(c)[e];Gr((function(){return vr(n,t)}),[t,n])}}}function Yr(){return Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yr.apply(this,arguments)}function Xr(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Zr,Jr,eo,to="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;(eo=Jr||(Jr={}))[eo.DEBUG=0]="DEBUG",eo[eo.INFO=1]="INFO",eo[eo.WARN=2]="WARN",eo[eo.ERROR=3]="ERROR";var no=((Zr={})[Jr.DEBUG]="debug",Zr[Jr.INFO]="log",Zr[Jr.WARN]="warn",Zr[Jr.ERROR]="error",Zr),ro=Fr((function(){var e=Tr(Jr.ERROR);return{log:Tr((function(t,n,r){var o;void 0===r&&(r=Jr.INFO),r>=(null!=(o=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:br(e))&&console[no[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)})),logLevel:e}}),[],{singleton:!0});function oo(e,t){void 0===t&&(t=!0);var n=(0,o.useRef)(null),r=function(e){};if("undefined"!=typeof ResizeObserver){var i=new ResizeObserver((function(t){var n=t[0].target;null!==n.offsetParent&&e(n)}));r=function(e){e&&t?(i.observe(e),n.current=e):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function io(e,t){return void 0===t&&(t=!0),oo(e,t).callbackRef}function ao(e,t,n,r,o,i){return oo((function(n){for(var a=function(e,t,n,r){var o=e.length;if(0===o)return null;for(var i=[],a=0;a<o;a++){var s=e.item(a);if(s&&void 0!==s.dataset.index){var c=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),l=t(s,"offsetHeight");if(0===l&&r("Zero-sized element, this should not happen",{child:s},Jr.ERROR),l!==u){var d=i[i.length-1];0===i.length||d.size!==l||d.endIndex!==c-1?i.push({startIndex:c,endIndex:c,size:l}):i[i.length-1].endIndex++}}}return i}(n.children,t,0,o),s=n.parentElement;!s.dataset.virtuosoScroller;)s=s.parentElement;var c=i?i.scrollTop:"window"===s.firstElementChild.dataset.viewportType?window.pageYOffset||document.documentElement.scrollTop:s.scrollTop;r({scrollTop:Math.max(c,0),scrollHeight:(null!=i?i:s).scrollHeight,viewportHeight:(null!=i?i:s).offsetHeight}),null!==a&&e(a)}),n)}function so(e,t){return Math.round(e.getBoundingClientRect()[t])}function co(e,t,n,r,i){void 0===r&&(r=pr);var a=(0,o.useRef)(null),s=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,o.useCallback)((function(n){var r=n.target,o=r===window||r===document?window.pageYOffset||document.documentElement.scrollTop:r.scrollTop,i=r===window?document.documentElement.scrollHeight:r.scrollHeight,a=r===window?window.innerHeight:r.offsetHeight;e({scrollTop:Math.max(o,0),scrollHeight:i,viewportHeight:a}),null!==s.current&&(o===s.current||o<=0||o===r.scrollHeight-so(r,"height"))&&(s.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))}),[e,t]);return(0,o.useEffect)((function(){var e=i||a.current;return r(i||a.current),u({target:e}),e.addEventListener("scroll",u,{passive:!0}),function(){r(null),e.removeEventListener("scroll",u)}}),[a,u,n,r,i]),{scrollerRef:a,scrollByCallback:function(e){a.current.scrollBy(e)},scrollToCallback:function(n){var r=a.current;if(r&&(!("offsetHeight"in r)||0!==r.offsetHeight)){var o,i,u,l="smooth"===n.behavior;if(r===window?(i=Math.max(so(document.documentElement,"height"),document.documentElement.scrollHeight),o=window.innerHeight,u=document.documentElement.scrollTop):(i=r.scrollHeight,o=so(r,"height"),u=r.scrollTop),n.top=Math.ceil(Math.max(Math.min(i-o,n.top),0)),Math.abs(o-i)<1.01||n.top===u)return e({scrollTop:u,scrollHeight:i,viewportHeight:o}),void(l&&t(!0));l?(s.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout((function(){c.current=null,s.current=null,t(!0)}),1e3)):s.current=null,r.scrollTo(n)}}}}var uo=Fr((function(){var e=Sr(),t=Sr(),n=Tr(0),r=Sr(),o=Tr(0),i=Sr(),a=Sr(),s=Tr(0),c=Tr(0),u=Tr(0),l=Sr(),d=Sr(),f=Tr(!1),h=Tr(!1);return Ir(Or(e,Rr((function(e){return e.scrollTop}))),t),Ir(Or(e,Rr((function(e){return e.scrollHeight}))),a),Ir(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,fixedHeaderHeight:c,footerHeight:u,scrollHeight:a,smoothScrollTargetReached:r,react18ConcurrentRendering:h,scrollTo:l,scrollBy:d,statefulScrollTop:o,deviation:n,scrollingInProgress:f}}),[],{singleton:!0}),lo={lvl:0};function fo(e,t,n,r,o){return void 0===r&&(r=lo),void 0===o&&(o=lo),{k:e,v:t,lvl:n,l:r,r:o}}function ho(e){return e===lo}function go(){return lo}function po(e,t){if(ho(e))return lo;var n=e.k,r=e.l,o=e.r;if(t===n){if(ho(r))return o;if(ho(o))return r;var i=Io(r);return Co(So(e,{k:i[0],v:i[1],l:wo(r)}))}return Co(So(e,t<n?{l:po(r,t)}:{r:po(o,t)}))}function vo(e,t,n){if(void 0===n&&(n="k"),ho(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var r=vo(e.r,t,n);return-1/0===r[0]?[e.k,e.v]:r}return vo(e.l,t,n)}function mo(e,t,n){return ho(e)?fo(t,n,1):t===e.k?So(e,{k:t,v:n}):function(e){return Oo(Eo(e))}(So(e,t<e.k?{l:mo(e.l,t,n)}:{r:mo(e.r,t,n)}))}function yo(e,t,n){if(ho(e))return[];var r=e.k,o=e.v,i=e.r,a=[];return r>t&&(a=a.concat(yo(e.l,t,n))),r>=t&&r<=n&&a.push({k:r,v:o}),r<=n&&(a=a.concat(yo(i,t,n))),a}function bo(e){return ho(e)?[]:[].concat(bo(e.l),[{k:e.k,v:e.v}],bo(e.r))}function Io(e){return ho(e.r)?[e.k,e.v]:Io(e.r)}function wo(e){return ho(e.r)?e.l:Co(So(e,{r:wo(e.r)}))}function So(e,t){return fo(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function To(e){return ho(e)||e.lvl>e.r.lvl}function Co(e){var t=e.l,n=e.r,r=e.lvl;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(To(t))return Eo(So(e,{lvl:r-1}));if(ho(t)||ho(t.r))throw new Error("Unexpected empty nodes");return So(t.r,{l:So(t,{r:t.r.l}),r:So(e,{l:t.r.r,lvl:r-1}),lvl:r})}if(To(e))return Oo(So(e,{lvl:r-1}));if(ho(n)||ho(n.l))throw new Error("Unexpected empty nodes");var o=n.l,i=To(o)?n.lvl-1:n.lvl;return So(o,{l:So(e,{r:o.l,lvl:r-1}),r:Oo(So(n,{l:o.r,lvl:i})),lvl:o.lvl+1})}function xo(e,t,n){return ho(e)?[]:Do(yo(e,vo(e,t)[0],n),(function(e){return{index:e.k,value:e.v}}))}function Do(e,t){var n=e.length;if(0===n)return[];for(var r=t(e[0]),o=r.index,i=r.value,a=[],s=1;s<n;s++){var c=t(e[s]),u=c.index,l=c.value;a.push({start:o,end:u-1,value:i}),o=u,i=l}return a.push({start:o,end:1/0,value:i}),a}function Oo(e){var t=e.r,n=e.lvl;return ho(t)||ho(t.r)||t.lvl!==n||t.r.lvl!==n?e:So(t,{l:So(e,{r:t.l}),lvl:n+1})}function Eo(e){var t=e.l;return ho(t)||t.lvl!==e.lvl?e:So(t,{r:So(e,{l:t.r})})}function ko(e,t,n,r){void 0===r&&(r=0);for(var o=e.length-1;r<=o;){var i=Math.floor((r+o)/2),a=n(e[i],t);if(0===a)return i;if(-1===a){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function Po(e,t,n){return e[ko(e,t,n)]}function Ro(e){var t=e.size,n=e.startIndex,r=e.endIndex;return function(e){return e.start===n&&(e.end===r||1/0===e.end)&&e.value===t}}function No(e,t){var n=e.index;return t===n?0:t<n?-1:1}function jo(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function Mo(e){return{index:e.index,value:e}}function Ho(e,t,n){var r=e,o=0,i=0,a=0,s=0;if(0!==t){a=r[s=ko(r,t-1,No)].offset;var c=vo(n,t-1);o=c[0],i=c[1],r.length&&r[s].size===vo(n,t)[1]&&(s-=1),r=r.slice(0,s+1)}else r=[];for(var u,l=Qr(xo(n,t,1/0));!(u=l()).done;){var d=u.value,f=d.start,h=d.value,g=(f-o)*i+a;r.push({offset:g,size:h,index:f}),o=f,a=g,i=h}return{offsetTree:r,lastIndex:o,lastOffset:a,lastSize:i}}function _o(e,t){var n=t[0],r=t[1];n.length>0&&(0,t[2])("received item sizes",n,Jr.DEBUG);var o=e.sizeTree,i=o,a=0;if(r.length>0&&ho(o)&&2===n.length){var s=n[0].size,c=n[1].size;i=r.reduce((function(e,t){return mo(mo(e,t,s),t+1,c)}),i)}else{var u=function(e,t){for(var n,r=ho(e)?0:1/0,o=Qr(t);!(n=o()).done;){var i=n.value,a=i.size,s=i.startIndex,c=i.endIndex;if(r=Math.min(r,s),ho(e))e=mo(e,0,a);else{var u=xo(e,s-1,c+1);if(!u.some(Ro(i))){for(var l,d=!1,f=!1,h=Qr(u);!(l=h()).done;){var g=l.value,p=g.start,v=g.end,m=g.value;d?(c>=p||a===m)&&(e=po(e,p)):(f=m!==a,d=!0),v>c&&c>=p&&m!==a&&(e=mo(e,c+1,m))}f&&(e=mo(e,s,a))}}}return[e,r]}(i,n);i=u[0],a=u[1]}if(i===o)return e;var l=Ho(e.offsetTree,a,i),d=l.offsetTree;return{sizeTree:i,offsetTree:d,lastIndex:l.lastIndex,lastOffset:l.lastOffset,lastSize:l.lastSize,groupOffsetTree:r.reduce((function(e,t){return mo(e,t,Lo(t,d))}),go()),groupIndices:r}}function Lo(e,t){if(0===t.length)return 0;var n=Po(t,e,No);return n.size*(e-n.index)+n.offset}function Bo(e,t,n){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;var r=zo("LAST"===e.index?n-1:e.index,t);return Math.max(0,r,Math.min(n,r))}function zo(e,t){if(!Ao(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function Ao(e){return!ho(e.groupOffsetTree)}var Fo={offsetHeight:"height",offsetWidth:"width"},Uo=Fr((function(e){var t=e[0].log,n=Sr(),r=Sr(),o=xr(r,0),i=Sr(),a=Sr(),s=Tr(0),c=Tr([]),u=Tr(void 0),l=Tr(void 0),d=Tr((function(e,t){return so(e,Fo[t])})),f=Tr(void 0),h={offsetTree:[],sizeTree:go(),groupOffsetTree:go(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},g=xr(Or(n,Lr(c,t),jr(_o,h),kr()),h);Ir(Or(c,Pr((function(e){return e.length>0})),Lr(g),Rr((function(e){var t=e[0],n=e[1],r=t.reduce((function(e,t,r){return mo(e,t,Lo(t,n.offsetTree)||r)}),go());return Yr({},n,{groupIndices:t,groupOffsetTree:r})}))),g),Ir(Or(r,Lr(g),Pr((function(e){return e[0]<e[1].lastIndex})),Rr((function(e){var t=e[1];return[{startIndex:e[0],endIndex:t.lastIndex,size:t.lastSize}]}))),n),Ir(u,l);var p=xr(Or(u,Rr((function(e){return void 0===e}))),!0);Ir(Or(l,Pr((function(e){return void 0!==e&&ho(br(g).sizeTree)})),Rr((function(e){return[{startIndex:0,endIndex:0,size:e}]}))),n);var v=Cr(Or(n,Lr(g),jr((function(e,t){var n=t[1];return{changed:n!==e.sizes,sizes:n}}),{changed:!1,sizes:h}),Rr((function(e){return e.changed}))));vr(Or(s,jr((function(e,t){return{diff:e.prev-t,prev:t}}),{diff:0,prev:0}),Rr((function(e){return e.diff}))),(function(e){e>0?mr(i,e):e<0&&mr(a,e)})),vr(Or(s,Lr(t)),(function(e){e[0]<0&&(0,e[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Jr.ERROR)}));var m=Cr(i);Ir(Or(i,Lr(g),Rr((function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return bo(n.sizeTree).reduce((function(e,n){var r=n.k,o=n.v;return{ranges:[].concat(e.ranges,[{startIndex:e.prevIndex,endIndex:r+t-1,size:e.prevSize}]),prevIndex:r+t,prevSize:o}}),{ranges:[],prevIndex:0,prevSize:n.lastSize}).ranges}))),n);var y=Cr(Or(a,Lr(g),Rr((function(e){return Lo(-e[0],e[1].offsetTree)}))));return Ir(Or(a,Lr(g),Rr((function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var r=bo(n.sizeTree).reduce((function(e,n){var r=n.v;return mo(e,Math.max(0,n.k+t),r)}),go());return Yr({},n,{sizeTree:r},Ho(n.offsetTree,0,r))}))),g),{data:f,totalCount:r,sizeRanges:n,groupIndices:c,defaultItemSize:l,fixedItemSize:u,unshiftWith:i,shiftWith:a,shiftWithOffset:y,beforeUnshiftWith:m,firstItemIndex:s,sizes:g,listRefresh:v,statefulTotalCount:o,trackItemSizes:p,itemSize:d}}),dr(ro),{singleton:!0}),Ko="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function Vo(e){var t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Ko||(t.behavior="auto"),t.offset||(t.offset=0),t}var Wo=Fr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=t.listRefresh,i=e[1],a=i.scrollingInProgress,s=i.viewportHeight,c=i.scrollTo,u=i.smoothScrollTargetReached,l=i.headerHeight,d=i.footerHeight,f=e[2].log,h=Sr(),g=Tr(0),p=null,v=null,m=null;function y(){p&&(p(),p=null),m&&(m(),m=null),v&&(clearTimeout(v),v=null),mr(a,!1)}return Ir(Or(h,Lr(n,s,r,g,l,d,f),Rr((function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],c=e[5],l=e[6],d=e[7],f=Vo(t),g=f.align,b=f.behavior,I=f.offset,w=i-1,S=Bo(f,n,w),T=Lo(S,n.offsetTree)+c;"end"===g?(T=T-r+vo(n.sizeTree,S)[1],S===w&&(T+=l)):"center"===g?T=T-r/2+vo(n.sizeTree,S)[1]/2:T-=s,I&&(T+=I);var C=function(e){y(),e?(d("retrying to scroll to",{location:t},Jr.DEBUG),mr(h,t)):d("list did not change, scroll successful",{},Jr.DEBUG)};if(y(),"smooth"===b){var x=!1;m=vr(o,(function(e){x=x||e})),p=wr(u,(function(){C(x)}))}else p=wr(Or(o,(function(e){var t=setTimeout((function(){e(!1)}),50);return function(n){n&&(e(!0),clearTimeout(t))}})),C);return v=setTimeout((function(){y()}),1200),mr(a,!0),d("scrolling from index to",{index:S,top:T,behavior:b},Jr.DEBUG),{top:T,behavior:b}}))),c),{scrollToIndex:h,topListHeight:g}}),dr(Uo,uo,ro),{singleton:!0}),Go="up",qo={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Yo=Fr((function(e){var t=e[0],n=t.scrollContainerState,r=t.scrollTop,o=t.viewportHeight,i=t.headerHeight,a=t.footerHeight,s=t.scrollBy,c=Tr(!1),u=Tr(!0),l=Sr(),d=Sr(),f=Tr(4),h=Tr(0),g=Cr(Or(Br(Or(zr(r),Mr(1),Nr(!0)),Or(zr(r),Mr(1),Nr(!1),_r(100))),kr())),p=xr(Or(Br(Or(s,Nr(!0)),Or(s,Nr(!1),_r(200))),kr()),!1);Ir(Or(Ar(zr(r),zr(h)),Rr((function(e){return e[0]<=e[1]})),kr()),u),Ir(Or(u,Hr(50)),d);var v=Cr(Or(Ar(n,zr(o),zr(i),zr(a),zr(f)),jr((function(e,t){var n,r,o=t[0],i=o.scrollTop,a=o.scrollHeight,s=t[1],c={viewportHeight:s,scrollTop:i,scrollHeight:a};return i+s-a>-t[4]?(i>e.state.scrollTop?(n="SCROLLED_DOWN",r=e.state.scrollTop-i):(n="SIZE_DECREASED",r=e.state.scrollTop-i||e.scrollTopDelta),{atBottom:!0,state:c,atBottomBecause:n,scrollTopDelta:r}):{atBottom:!1,notAtBottomBecause:c.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":s<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":i<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:c}}),qo),kr((function(e,t){return e&&e.atBottom===t.atBottom})))),m=xr(Or(n,jr((function(e,t){var n=t.scrollTop,r=t.scrollHeight;return e.scrollHeight!==r?e.scrollTop!==n&&n===r-t.viewportHeight?{scrollHeight:r,scrollTop:n,jump:e.scrollTop-n,changed:!0}:{scrollHeight:r,scrollTop:n,jump:0,changed:!0}:{scrollTop:n,scrollHeight:r,jump:0,changed:!1}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Pr((function(e){return e.changed})),Rr((function(e){return e.jump}))),0);Ir(Or(v,Rr((function(e){return e.atBottom}))),c),Ir(Or(c,Hr(50)),l);var y=Tr("down");Ir(Or(n,Rr((function(e){return e.scrollTop})),kr(),jr((function(e,t){return br(p)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Go:"down",prevScrollTop:t}}),{direction:"down",prevScrollTop:0}),Rr((function(e){return e.direction}))),y),Ir(Or(n,Hr(50),Nr("none")),y);var b=Tr(0);return Ir(Or(g,Pr((function(e){return!e})),Nr(0)),b),Ir(Or(r,Hr(100),Lr(g),Pr((function(e){return!!e[1]})),jr((function(e,t){return[e[1],t[0]]}),[0,0]),Rr((function(e){return e[1]-e[0]}))),b),{isScrolling:g,isAtTop:u,isAtBottom:c,atBottomState:v,atTopStateChange:d,atBottomStateChange:l,scrollDirection:y,atBottomThreshold:f,atTopThreshold:h,scrollVelocity:b,lastJumpDueToItemResize:m}}),dr(uo)),Xo=Fr((function(e){var t=e[0].log,n=Tr(!1),r=Cr(Or(n,Pr((function(e){return e})),kr()));return vr(n,(function(e){e&&br(t)("props updated",{},Jr.DEBUG)})),{propsReady:n,didMount:r}}),dr(ro),{singleton:!0}),$o=Fr((function(e){var t=e[0],n=t.sizes,r=t.listRefresh,o=t.defaultItemSize,i=e[1].scrollTop,a=e[2].scrollToIndex,s=e[3].didMount,c=Tr(!0),u=Tr(0);return Ir(Or(s,Lr(u),Pr((function(e){return!!e[1]})),Nr(!1)),c),vr(Or(Ar(r,s),Lr(c,n,o),Pr((function(e){var t=e[1],n=e[3];return e[0][1]&&(!ho(e[2].sizeTree)||void 0!==n)&&!t})),Lr(u)),(function(e){var t=e[1];setTimeout((function(){wr(i,(function(){mr(c,!0)})),mr(a,t)}))})),{scrolledToInitialItem:c,initialTopMostItemIndex:u}}),dr(Uo,uo,Wo,Xo),{singleton:!0});function Qo(e){return!!e&&("smooth"===e?"smooth":"auto")}var Zo=Fr((function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,o=e[1],i=o.isAtBottom,a=o.atBottomState,s=e[2].scrollToIndex,c=e[3].scrolledToInitialItem,u=e[4],l=u.propsReady,d=u.didMount,f=e[5].log,h=e[6].scrollingInProgress,g=Tr(!1),p=null;function v(e){mr(s,{index:"LAST",align:"end",behavior:e})}return vr(Or(Ar(Or(zr(n),Mr(1)),d),Lr(zr(g),i,c,h),Rr((function(e){var t=e[0],n=t[0],r=t[1]&&e[3],o="auto";return r&&(o=function(e,t){return"function"==typeof e?Qo(e(t)):t&&Qo(e)}(e[1],e[2]||e[4]),r=r&&!!o),{totalCount:n,shouldFollow:r,followOutputBehavior:o}})),Pr((function(e){return e.shouldFollow}))),(function(e){var t=e.totalCount,n=e.followOutputBehavior;p&&(p(),p=null),p=wr(r,(function(){br(f)("following output to ",{totalCount:t},Jr.DEBUG),v(n),p=null}))})),vr(Or(Ar(zr(g),n,l),Pr((function(e){return e[0]&&e[2]})),jr((function(e,t){var n=t[1];return{refreshed:e.value===n,value:n}}),{refreshed:!1,value:0}),Pr((function(e){return e.refreshed})),Lr(g,n)),(function(e){var t=e[1],n=wr(a,(function(e){!t||e.atBottom||"SIZE_INCREASED"!==e.notAtBottomBecause||p||(br(f)("scrolling to bottom due to increased size",{},Jr.DEBUG),v("auto"))}));setTimeout(n,100)})),vr(Ar(zr(g),a),(function(e){var t=e[1];e[0]&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&v("auto")})),{followOutput:g}}),dr(Uo,Yo,Wo,$o,Xo,ro,uo));function Jo(e){return e.reduce((function(e,t){return e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e}),{totalCount:0,groupIndices:[]})}var ei=Fr((function(e){var t=e[0],n=t.totalCount,r=t.groupIndices,o=t.sizes,i=e[1],a=i.scrollTop,s=i.headerHeight,c=Sr(),u=Sr(),l=Cr(Or(c,Rr(Jo)));return Ir(Or(l,Rr(ur("totalCount"))),n),Ir(Or(l,Rr(ur("groupIndices"))),r),Ir(Or(Ar(a,o,s),Pr((function(e){return Ao(e[1])})),Rr((function(e){return vo(e[1].groupOffsetTree,Math.max(e[0]-e[2],0),"v")[0]})),kr(),Rr((function(e){return[e]}))),u),{groupCounts:c,topItemsIndexes:u}}),dr(Uo,uo));function ti(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function ni(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function ri(e,t,n){return"number"==typeof e?n===Go&&"top"===t||"down"===n&&"bottom"===t?e:0:n===Go?"top"===t?e.main:e.reverse:"bottom"===t?e.main:e.reverse}function oi(e,t){return"number"==typeof e?e:e[t]||0}var ii=Fr((function(e){var t=e[0],n=t.scrollTop,r=t.viewportHeight,o=t.deviation,i=t.headerHeight,a=t.fixedHeaderHeight,s=Sr(),c=Tr(0),u=Tr(0),l=Tr(0),d=xr(Or(Ar(zr(n),zr(r),zr(i),zr(s,ti),zr(l),zr(c),zr(a),zr(o),zr(u)),Rr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=o[0],a=o[1],s=e[4],c=e[6],u=e[7],l=e[8],d=t-u,f=e[5]+c,h=Math.max(r-d,0),g="none",p=oi(l,"top"),v=oi(l,"bottom");return i-=u,a+=r+c,(i+=r+c)>t+f-p&&(g=Go),(a-=u)<t-h+n+v&&(g="down"),"none"!==g?[Math.max(d-r-ri(s,"top",g)-p,0),d-h-c+n+ri(s,"bottom",g)+v]:null})),Pr((function(e){return null!=e})),kr(ti)),[0,0]);return{listBoundary:s,overscan:l,topListHeight:c,increaseViewportBy:u,visibleRange:d}}),dr(uo),{singleton:!0}),ai={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0};function si(e,t,n){if(0===e.length)return[];if(!Ao(t))return e.map((function(e){return Yr({},e,{index:e.index+n,originalIndex:e.index})}));for(var r,o=[],i=xo(t.groupOffsetTree,e[0].index,e[e.length-1].index),a=void 0,s=0,c=Qr(e);!(r=c()).done;){var u=r.value;(!a||a.end<u.index)&&(a=i.shift(),s=t.groupIndices.indexOf(a.start)),o.push(Yr({},u.index===a.start?{type:"group",index:s}:{index:u.index-(s+1)+n,groupIndex:s},{size:u.size,offset:u.offset,originalIndex:u.index,data:u.data}))}return o}function ci(e,t,n,r,o){var i=0,a=0;if(e.length>0){i=e[0].offset;var s=e[e.length-1];a=s.offset+s.size}var c=i,u=r.lastOffset+(n-r.lastIndex)*r.lastSize-a;return{items:si(e,r,o),topItems:si(t,r,o),topListHeight:t.reduce((function(e,t){return t.size+e}),0),offsetTop:i,offsetBottom:u,top:c,bottom:a,totalCount:n}}var ui,li,di,fi=Fr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=t.data,i=t.firstItemIndex,a=e[1],s=e[2],c=s.visibleRange,u=s.listBoundary,l=s.topListHeight,d=e[3],f=d.scrolledToInitialItem,h=d.initialTopMostItemIndex,g=e[4].topListHeight,p=e[5],v=e[6].didMount,m=Tr([]),y=Sr();Ir(a.topItemsIndexes,m);var b=xr(Or(Ar(v,zr(c),zr(r),zr(n),zr(h),f,zr(m),zr(i),o),Pr((function(e){return e[0]})),Rr((function(e){var t=e[1],n=t[0],r=t[1],o=e[2],i=e[4],a=e[5],s=e[6],c=e[7],u=e[8],l=e[3],d=l.sizeTree,f=l.offsetTree;if(0===o||0===n&&0===r)return ai;if(ho(d))return ci(function(e,t,n){if(Ao(t)){var r=zo(e,t);return[{index:vo(t.groupOffsetTree,r)[0],size:0,offset:0},{index:r,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}(function(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}(i,o),l,u),[],o,l,c);var h=[];if(s.length>0)for(var g,p=s[0],v=s[s.length-1],m=0,y=Qr(xo(d,p,v));!(g=y()).done;)for(var b=g.value,I=b.value,w=Math.max(b.start,p),S=Math.min(b.end,v),T=w;T<=S;T++)h.push({index:T,size:I,offset:m,data:u&&u[T]}),m+=I;if(!a)return ci([],h,o,l,c);var C=s.length>0?s[s.length-1]+1:0,x=function(e,t,n,r){return void 0===r&&(r=0),r>0&&(t=Math.max(t,Po(e,r,No).offset)),Do((i=n,s=ko(o=e,t,a=jo),c=ko(o,i,a,s),o.slice(s,c+1)),Mo);var o,i,a,s,c}(f,n,r,C);if(0===x.length)return null;var D=o-1;return ci(lr([],(function(e){for(var t,o=Qr(x);!(t=o()).done;){var i=t.value,a=i.value,s=a.offset,c=i.start,l=a.size;a.offset<n&&(s+=((c+=Math.floor((n-a.offset)/l))-i.start)*l),c<C&&(s+=(C-c)*l,c=C);for(var d=Math.min(i.end,D),f=c;f<=d&&!(s>=r);f++)e.push({index:f,size:l,offset:s,data:u&&u[f]}),s+=l}})),h,o,l,c)})),Pr((function(e){return null!==e})),kr()),ai);return Ir(Or(o,Pr((function(e){return void 0!==e})),Rr((function(e){return e.length}))),r),Ir(Or(b,Rr(ur("topListHeight"))),g),Ir(g,l),Ir(Or(b,Rr((function(e){return[e.top,e.bottom]}))),u),Ir(Or(b,Rr((function(e){return e.items}))),y),Yr({listState:b,topItemsIndexes:m,endReached:Cr(Or(b,Pr((function(e){return e.items.length>0})),Lr(r,o),Pr((function(e){var t=e[0].items;return t[t.length-1].originalIndex===e[1]-1})),Rr((function(e){return[e[1]-1,e[2]]})),kr(ti),Rr((function(e){return e[0]})))),startReached:Cr(Or(b,Hr(200),Pr((function(e){var t=e.items;return t.length>0&&t[0].originalIndex===e.topItems.length})),Rr((function(e){return e.items[0].index})),kr())),rangeChanged:Cr(Or(b,Pr((function(e){return e.items.length>0})),Rr((function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}})),kr(ni))),itemsRendered:y},p)}),dr(Uo,ei,ii,$o,Wo,Yo,Xo),{singleton:!0}),hi=Fr((function(e){var t=e[0],n=t.sizes,r=t.firstItemIndex,o=t.data,i=e[1].listState,a=e[2].didMount,s=Tr(0);return Ir(Or(a,Lr(s),Pr((function(e){return 0!==e[1]})),Lr(n,r,o),Rr((function(e){var t=e[0][1],n=e[1],r=e[2],o=e[3],i=void 0===o?[]:o,a=0;if(n.groupIndices.length>0)for(var s,c=Qr(n.groupIndices);!((s=c()).done||s.value-a>=t);)a++;var u=t+a;return ci(Array.from({length:u}).map((function(e,t){return{index:t,size:0,offset:0,data:i[t]}})),[],u,n,r)}))),i),{initialItemCount:s}}),dr(Uo,fi,Xo),{singleton:!0}),gi=Fr((function(e){var t=e[0].scrollVelocity,n=Tr(!1),r=Sr(),o=Tr(!1);return Ir(Or(t,Lr(o,n,r),Pr((function(e){return!!e[1]})),Rr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=n.enter;if(r){if((0,n.exit)(t,o))return!1}else if(i(t,o))return!0;return r})),kr()),n),vr(Or(Ar(n,t,r),Lr(o)),(function(e){var t=e[0],n=e[1];return t[0]&&n&&n.change&&n.change(t[1],t[2])})),{isSeeking:n,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:r}}),dr(Yo),{singleton:!0}),pi=Fr((function(e){var t=e[0].topItemsIndexes,n=Tr(0);return Ir(Or(n,Pr((function(e){return e>0})),Rr((function(e){return Array.from({length:e}).map((function(e,t){return t}))}))),t),{topItemCount:n}}),dr(fi)),vi=Fr((function(e){var t=e[0],n=t.footerHeight,r=t.headerHeight,o=t.fixedHeaderHeight,i=e[1].listState,a=Sr(),s=xr(Or(Ar(n,r,o,i),Rr((function(e){var t=e[3];return e[0]+e[1]+e[2]+t.offsetBottom+t.bottom}))),0);return Ir(zr(s),a),{totalListHeight:s,totalListHeightChanged:a}}),dr(uo,fi),{singleton:!0}),mi=Fr((function(e){var t=e[0],n=t.scrollBy,r=t.scrollTop,o=t.deviation,i=t.scrollingInProgress,a=e[1],s=a.isScrolling,c=a.isAtBottom,u=a.atBottomState,l=a.scrollDirection,d=e[3],f=d.beforeUnshiftWith,h=d.shiftWithOffset,g=d.sizes,p=e[4].log,v=Cr(Or(e[2].listState,Lr(a.lastJumpDueToItemResize),jr((function(e,t){var n=e[1],r=t[0],o=r.items,i=r.totalCount,a=r.bottom+r.offsetBottom,s=0;return e[2]===i&&n.length>0&&o.length>0&&(0===o[0].originalIndex&&0===n[0].originalIndex||0!=(s=a-e[3])&&(s+=t[1])),[s,o,i,a]}),[0,[],0,0]),Pr((function(e){return 0!==e[0]})),Lr(r,l,i,p,c,u),Pr((function(e){return!e[3]&&0!==e[1]&&e[2]===Go})),Rr((function(e){var t=e[0][0];return(0,e[4])("Upward scrolling compensation",{amount:t},Jr.DEBUG),t}))));return Ir(Or(v,Lr(o),Rr((function(e){return e[1]-e[0]}))),o),vr(Or(Ar(xr(s,!1),o),Pr((function(e){return!e[0]&&0!==e[1]})),Rr((function(e){return e[1]})),Hr(1)),(function(e){e>0?(mr(n,{top:-e,behavior:"auto"}),mr(o,0)):(mr(o,0),mr(n,{top:-e,behavior:"auto"}))})),Ir(Or(h,Rr((function(e){return{top:-e}}))),n),Ir(Or(f,Lr(g),Rr((function(e){return e[0]*e[1].lastSize}))),v),{deviation:o}}),dr(uo,Yo,fi,Uo,ro)),yi=Fr((function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,o=Tr(0);return vr(Or(n,Lr(o),Pr((function(e){return 0!==e[1]})),Rr((function(e){return{top:e[1]}}))),(function(e){wr(Or(t,Pr((function(e){return 0!==e}))),(function(){setTimeout((function(){mr(r,e)}))}))})),{initialScrollTop:o}}),dr(vi,Xo,uo),{singleton:!0}),bi=Fr((function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=Tr(!1);return{alignToBottom:r,paddingTopAddition:xr(Or(Ar(r,t,n),Pr((function(e){return e[0]})),Rr((function(e){return Math.max(0,e[1]-e[2])})),kr()),0)}}),dr(uo,vi),{singleton:!0}),Ii=Fr((function(e){var t=e[0],n=t.scrollTo,r=t.scrollContainerState,o=Sr(),i=Sr(),a=Sr(),s=Tr(!1),c=Tr(void 0);return Ir(Or(Ar(o,i),Rr((function(e){var t=e[0],n=t.viewportHeight,r=t.scrollHeight;return{scrollTop:Math.max(0,t.scrollTop-e[1].offsetTop),scrollHeight:r,viewportHeight:n}}))),r),Ir(Or(n,Lr(i),Rr((function(e){var t=e[0];return Yr({},t,{top:t.top+e[1].offsetTop})}))),a),{useWindowScroll:s,customScrollParent:c,windowScrollContainerState:o,windowViewportRect:i,windowScrollTo:a}}),dr(uo)),wi=["done","behavior"],Si=Fr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=e[1],i=o.scrollTop,a=o.viewportHeight,s=o.headerHeight,c=o.scrollingInProgress,u=e[2].scrollToIndex,l=Sr();return Ir(Or(l,Lr(n,a,r,s,i),Rr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=t.done,u=t.behavior,l=Xr(t,wi),d=null,f=Bo(t,n,o-1),h=Lo(f,n.offsetTree)+i;return h<a?d=Yr({},l,{behavior:u,align:"start"}):h+vo(n.sizeTree,f)[1]>a+r&&(d=Yr({},l,{behavior:u,align:"end"})),d?s&&wr(Or(c,Mr(1),Pr((function(e){return!1===e}))),s):s&&s(),d})),Pr((function(e){return null!==e}))),u),{scrollIntoView:l}}),dr(Uo,uo,Wo,fi,ro),{singleton:!0}),Ti=["listState","topItemsIndexes"],Ci=Fr((function(e){return Yr({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}),dr(ii,hi,Xo,gi,vi,yi,bi,Ii,Si)),xi=Fr((function(e){var t=e[0],n=t.totalCount,r=t.sizeRanges,o=t.fixedItemSize,i=t.defaultItemSize,a=t.trackItemSizes,s=t.itemSize,c=t.data,u=t.firstItemIndex,l=t.groupIndices,d=t.statefulTotalCount,f=e[1],h=f.initialTopMostItemIndex,g=f.scrolledToInitialItem,p=e[2],v=e[3],m=e[4],y=m.listState,b=m.topItemsIndexes,I=Xr(m,Ti),w=e[5].scrollToIndex,S=e[7].topItemCount,T=e[8].groupCounts,C=e[9],x=e[10];return Ir(I.rangeChanged,C.scrollSeekRangeChanged),Ir(Or(C.windowViewportRect,Rr(ur("visibleHeight"))),p.viewportHeight),Yr({totalCount:n,data:c,firstItemIndex:u,sizeRanges:r,initialTopMostItemIndex:h,scrolledToInitialItem:g,topItemsIndexes:b,topItemCount:S,groupCounts:T,fixedItemHeight:o,defaultItemHeight:i},v,{statefulTotalCount:d,listState:y,scrollToIndex:w,trackItemSizes:a,itemSize:s,groupIndices:l},I,C,p,x)}),dr(Uo,$o,uo,Zo,fi,Wo,mi,pi,ei,Ci,ro)),Di=(ui=function(){if("undefined"==typeof document)return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky","-webkit-sticky"===e.style.position?"-webkit-sticky":"sticky"},di=!1,function(){return di||(di=!0,li=ui()),li});function Oi(e,t){var n=(0,o.useRef)(null),r=(0,o.useCallback)((function(r){if(null!==r){var o,i,a=r.getBoundingClientRect(),s=a.width;if(t){var c=t.getBoundingClientRect(),u=a.top-c.top;o=c.height-Math.max(0,u),i=u+t.scrollTop}else o=window.innerHeight-Math.max(0,a.top),i=a.top+window.pageYOffset;n.current={offsetTop:i,visibleHeight:o,visibleWidth:s},e(n.current)}}),[e,t]),i=oo(r),a=i.callbackRef,s=i.ref,c=(0,o.useCallback)((function(){r(s.current)}),[r,s]);return(0,o.useEffect)((function(){if(t){t.addEventListener("scroll",c);var e=new ResizeObserver(c);return e.observe(t),function(){t.removeEventListener("scroll",c),e.unobserve(t)}}return window.addEventListener("scroll",c),window.addEventListener("resize",c),function(){window.removeEventListener("scroll",c),window.removeEventListener("resize",c)}}),[c,t]),a}var Ei=["placeholder"],ki=["style","children"],Pi=["style","children"];function Ri(e){return e}var Ni=Fr((function(){var e=Tr((function(e){return"Item "+e})),t=Tr(null),n=Tr((function(e){return"Group "+e})),r=Tr({}),o=Tr(Ri),i=Tr("div"),a=Tr(pr),s=function(e,t){return void 0===t&&(t=null),xr(Or(r,Rr((function(t){return t[e]})),kr()),t)};return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:o,headerFooterTag:i,scrollerRef:a,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}));function ji(e,t){var n=Sr();return vr(n,(function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")})),Ir(n,e),n}var Mi=Fr((function(e){var t=e[0],n=e[1],r={item:ji(n.itemContent,"Rename the %citem%c prop to %citemContent."),group:ji(n.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:ji(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:ji(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:ji(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:Sr(),maxHeightCacheSize:Sr(),footer:Sr(),header:Sr(),HeaderContainer:Sr(),FooterContainer:Sr(),ItemContainer:Sr(),ScrollContainer:Sr(),GroupContainer:Sr(),ListContainer:Sr(),emptyComponent:Sr(),scrollSeek:Sr()};function o(e,t,r){Ir(Or(e,Lr(n.components),Rr((function(e){var n,o=e[0],i=e[1];return console.warn("react-virtuoso: "+r+" property is deprecated. Pass components."+t+" instead."),Yr({},i,((n={})[t]=o,n))}))),n.components)}return vr(r.adjustForPrependedItems,(function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")})),vr(r.maxHeightCacheSize,(function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")})),vr(r.HeaderContainer,(function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")})),vr(r.FooterContainer,(function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")})),vr(r.scrollSeek,(function(e){var r=e.placeholder,o=Xr(e,Ei);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),mr(n.components,Yr({},br(n.components),{ScrollSeekPlaceholder:r})),mr(t.scrollSeekConfiguration,o)})),o(r.footer,"Footer","footer"),o(r.header,"Header","header"),o(r.ItemContainer,"Item","ItemContainer"),o(r.ListContainer,"List","ListContainer"),o(r.ScrollContainer,"Scroller","ScrollContainer"),o(r.emptyComponent,"EmptyPlaceholder","emptyComponent"),o(r.GroupContainer,"Group","GroupContainer"),Yr({},t,n,r)}),dr(xi,Ni)),Hi=function(e){return o.createElement("div",{style:{height:e.height}})},_i={position:Di(),zIndex:1,overflowAnchor:"none"},Li={overflowAnchor:"none"},Bi=o.memo((function(e){var t=e.showTopList,n=void 0!==t&&t,r=Ji("listState"),i=Zi("sizeRanges"),a=Ji("useWindowScroll"),s=Ji("customScrollParent"),c=Zi("windowScrollContainerState"),u=Zi("scrollContainerState"),l=s||a?c:u,d=Ji("itemContent"),f=Ji("context"),h=Ji("groupContent"),g=Ji("trackItemSizes"),p=ao(i,Ji("itemSize"),g,n?pr:l,Ji("log"),s),v=p.callbackRef,m=p.ref,y=o.useState(0),b=y[0],I=y[1];ea("deviation",(function(e){b!==e&&(m.current.style.marginTop=e+"px",I(e))}));var w=Ji("EmptyPlaceholder"),S=Ji("ScrollSeekPlaceholder")||Hi,T=Ji("ListComponent"),C=Ji("ItemComponent"),x=Ji("GroupComponent"),D=Ji("computeItemKey"),O=Ji("isSeeking"),E=Ji("groupIndices").length>0,k=Ji("paddingTopAddition"),P=Ji("firstItemIndex"),R=Ji("statefulTotalCount"),N=n?{}:{boxSizing:"border-box",paddingTop:r.offsetTop+k,paddingBottom:r.offsetBottom,marginTop:b};return!n&&0===R&&w?(0,o.createElement)(w,Ui(w,f)):(0,o.createElement)(T,Yr({},Ui(T,f),{ref:v,style:N,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?r.topItems:r.items).map((function(e){var t=e.originalIndex,n=D(t+P,e.data,f);return O?(0,o.createElement)(S,Yr({},Ui(S,f),{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?(0,o.createElement)(x,Yr({},Ui(x,f),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:_i}),h(e.index)):(0,o.createElement)(C,Yr({},Ui(C,f),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:Li}),E?d(e.index,e.groupIndex,e.data,f):d(e.index,e.data,f))})))})),zi={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ai={width:"100%",height:"100%",position:"absolute",top:0},Fi={width:"100%",position:Di(),top:0};function Ui(e,t){if("string"!=typeof e)return{context:t}}var Ki=o.memo((function(){var e=Ji("HeaderComponent"),t=Zi("headerHeight"),n=Ji("headerFooterTag"),r=io((function(e){return t(so(e,"height"))})),i=Ji("context");return e?(0,o.createElement)(n,{ref:r},(0,o.createElement)(e,Ui(e,i))):null})),Vi=o.memo((function(){var e=Ji("FooterComponent"),t=Zi("footerHeight"),n=Ji("headerFooterTag"),r=io((function(e){return t(so(e,"height"))})),i=Ji("context");return e?(0,o.createElement)(n,{ref:r},(0,o.createElement)(e,Ui(e,i))):null}));function Wi(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return o.memo((function(e){var i=e.style,a=e.children,s=Xr(e,ki),c=t("scrollContainerState"),u=r("ScrollerComponent"),l=t("smoothScrollTargetReached"),d=r("scrollerRef"),f=r("context"),h=co(c,l,u,d),g=h.scrollerRef,p=h.scrollByCallback;return n("scrollTo",h.scrollToCallback),n("scrollBy",p),(0,o.createElement)(u,Yr({ref:g,style:Yr({},zi,i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},s,Ui(u,f)),a)}))}function Gi(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return o.memo((function(e){var i=e.style,a=e.children,s=Xr(e,Pi),c=t("windowScrollContainerState"),u=r("ScrollerComponent"),l=t("smoothScrollTargetReached"),d=r("totalListHeight"),f=r("deviation"),h=r("customScrollParent"),g=r("context"),p=co(c,l,u,pr,h),v=p.scrollerRef,m=p.scrollByCallback,y=p.scrollToCallback;return to((function(){return v.current=h||window,function(){v.current=null}}),[v,h]),n("windowScrollTo",y),n("scrollBy",m),(0,o.createElement)(u,Yr({style:Yr({position:"relative"},i,0!==d?{height:d+f}:{}),"data-virtuoso-scroller":!0},s,Ui(u,g)),a)}))}var qi=function(e){var t=e.children,n=io(ir(Zi("viewportHeight"),(function(e){return so(e,"height")})));return o.createElement("div",{style:Ai,ref:n,"data-viewport-type":"element"},t)},Yi=function(e){var t=e.children,n=Oi(Zi("windowViewportRect"),Ji("customScrollParent"));return o.createElement("div",{ref:n,style:Ai,"data-viewport-type":"window"},t)},Xi=function(e){var t=e.children,n=Ji("TopItemListComponent"),r=Ji("headerHeight"),i=Yr({},Fi,{marginTop:r+"px"}),a=Ji("context");return(0,o.createElement)(n||"div",{style:i,context:a},t)},$i=qr(Mi,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo((function(e){var t=Ji("useWindowScroll"),n=Ji("topItemsIndexes").length>0,r=Ji("customScrollParent"),i=r||t?Yi:qi;return o.createElement(r||t?na:ta,Yr({},e),o.createElement(i,null,o.createElement(Ki,null),o.createElement(Bi,null),o.createElement(Vi,null)),n&&o.createElement(Xi,null,o.createElement(Bi,{showTopList:!0})))}))),Qi=$i.Component,Zi=$i.usePublisher,Ji=$i.useEmitterValue,ea=$i.useEmitter,ta=Wi({usePublisher:Zi,useEmitterValue:Ji,useEmitter:ea}),na=Gi({usePublisher:Zi,useEmitterValue:Ji,useEmitter:ea}),ra={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},oa={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},ia=Math.round,aa=Math.ceil,sa=Math.floor,ca=Math.min,ua=Math.max;function la(e,t){return Array.from({length:t-e+1}).map((function(t,n){return{index:n+e}}))}var da=Fr((function(e){var t=e[0],n=t.overscan,r=t.visibleRange,o=t.listBoundary,i=e[1],a=i.scrollTop,s=i.viewportHeight,c=i.scrollBy,u=i.scrollTo,l=i.smoothScrollTargetReached,d=i.scrollContainerState,f=e[2],h=e[3],g=e[4],p=g.propsReady,v=g.didMount,m=e[5],y=m.windowViewportRect,b=m.windowScrollTo,I=m.useWindowScroll,w=m.customScrollParent,S=m.windowScrollContainerState,T=Tr(0),C=Tr(0),x=Tr(ra),D=Tr({height:0,width:0}),O=Tr({height:0,width:0}),E=Sr(),k=Sr(),P=Tr(0);Ir(Or(v,Lr(C),Pr((function(e){return 0!==e[1]})),Rr((function(e){return{items:la(0,e[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}}))),x),Ir(Or(Ar(zr(T),r,zr(O,(function(e,t){return e&&e.width===t.width&&e.height===t.height}))),Lr(D),Rr((function(e){var t=e[0],n=t[0],r=t[1],o=r[0],i=r[1],a=t[2],s=e[1],c=a.height,u=a.width,l=s.width;if(0===n||0===l)return ra;if(0===u)return oa;var d=ga(l,u),f=d*sa(o/c),h=d*aa(i/c)-1;h=ua(0,ca(n-1,h));var g=la(f=ca(h,ua(0,f)),h),p=fa(s,a,g),v=p.top,m=p.bottom;return{items:g,offsetTop:v,offsetBottom:aa(n/d)*c-m,top:v,bottom:m,itemHeight:c,itemWidth:u}}))),x),Ir(Or(D,Rr((function(e){return e.height}))),s),Ir(Or(Ar(D,O,x),Rr((function(e){var t=fa(e[0],e[1],e[2].items);return[t.top,t.bottom]})),kr(ti)),o);var R=Cr(Or(zr(x),Pr((function(e){return e.items.length>0})),Lr(T),Pr((function(e){var t=e[0].items;return t[t.length-1].index===e[1]-1})),Rr((function(e){return e[1]-1})),kr())),N=Cr(Or(zr(x),Pr((function(e){var t=e.items;return t.length>0&&0===t[0].index})),Nr(0),kr())),j=Cr(Or(zr(x),Pr((function(e){return e.items.length>0})),Rr((function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}})),kr(ni)));Ir(j,h.scrollSeekRangeChanged),Ir(Or(E,Lr(D,O,T),Rr((function(e){var t=e[1],n=e[2],r=e[3],o=Vo(e[0]),i=o.align,a=o.behavior,s=o.offset,c=o.index;"LAST"===c&&(c=r-1);var u=ha(t,n,c=ua(0,c,ca(r-1,c)));return"end"===i?u=ia(u-t.height+n.height):"center"===i&&(u=ia(u-t.height/2+n.height/2)),s&&(u+=s),{top:u,behavior:a}}))),u);var M=xr(Or(x,Rr((function(e){return e.offsetBottom+e.bottom}))),0);return Ir(Or(y,Rr((function(e){return{width:e.visibleWidth,height:e.visibleHeight}}))),D),Yr({totalCount:T,viewportDimensions:D,itemDimensions:O,scrollTop:a,scrollHeight:k,overscan:n,scrollBy:c,scrollTo:u,scrollToIndex:E,smoothScrollTargetReached:l,windowViewportRect:y,windowScrollTo:b,useWindowScroll:I,customScrollParent:w,windowScrollContainerState:S,deviation:P,scrollContainerState:d,initialItemCount:C},h,{gridState:x,totalListHeight:M},f,{startReached:N,endReached:R,rangeChanged:j,propsReady:p})}),dr(ii,uo,Yo,gi,Xo,Ii));function fa(e,t,n){var r=t.height;return void 0===r||0===n.length?{top:0,bottom:0}:{top:ha(e,t,n[0].index),bottom:ha(e,t,n[n.length-1].index)+r}}function ha(e,t,n){var r=ga(e.width,t.width);return sa(n/r)*t.height}function ga(e,t){return ua(1,sa(e/t))}var pa=["placeholder"],va=Fr((function(){var e=Tr((function(e){return"Item "+e})),t=Tr({}),n=Tr(null),r=Tr("virtuoso-grid-item"),o=Tr("virtuoso-grid-list"),i=Tr(Ri),a=Tr(pr),s=function(e,n){return void 0===n&&(n=null),xr(Or(t,Rr((function(t){return t[e]})),kr()),n)};return{context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:r,listClassName:o,scrollerRef:a,ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}})),ma=Fr((function(e){var t=e[0],n=e[1],r={item:ji(n.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:Sr(),ScrollContainer:Sr(),ListContainer:Sr(),emptyComponent:Sr(),scrollSeek:Sr()};function o(e,t,r){Ir(Or(e,Lr(n.components),Rr((function(e){var n,o=e[0],i=e[1];return console.warn("react-virtuoso: "+r+" property is deprecated. Pass components."+t+" instead."),Yr({},i,((n={})[t]=o,n))}))),n.components)}return vr(r.scrollSeek,(function(e){var r=e.placeholder,o=Xr(e,pa);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),mr(n.components,Yr({},br(n.components),{ScrollSeekPlaceholder:r})),mr(t.scrollSeekConfiguration,o)})),o(r.ItemContainer,"Item","ItemContainer"),o(r.ListContainer,"List","ListContainer"),o(r.ScrollContainer,"Scroller","ScrollContainer"),Yr({},t,n,r)}),dr(da,va)),ya=o.memo((function(){var e=Ta("gridState"),t=Ta("listClassName"),n=Ta("itemClassName"),r=Ta("itemContent"),i=Ta("computeItemKey"),a=Ta("isSeeking"),s=Sa("scrollHeight"),c=Ta("ItemComponent"),u=Ta("ListComponent"),l=Ta("ScrollSeekPlaceholder"),d=Ta("context"),f=Sa("itemDimensions"),h=io((function(e){s(e.parentElement.parentElement.scrollHeight);var t=e.firstChild;t&&f(t.getBoundingClientRect())}));return(0,o.createElement)(u,Yr({ref:h,className:t},Ui(u,d),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map((function(t){var s=i(t.index);return a?(0,o.createElement)(l,Yr({key:s},Ui(l,d),{index:t.index,height:e.itemHeight,width:e.itemWidth})):(0,o.createElement)(c,Yr({},Ui(c,d),{className:n,"data-index":t.index,key:s}),r(t.index,d))})))})),ba=function(e){var t=e.children,n=Sa("viewportDimensions"),r=io((function(e){n(e.getBoundingClientRect())}));return o.createElement("div",{style:Ai,ref:r},t)},Ia=function(e){var t=e.children,n=Oi(Sa("windowViewportRect"),Ta("customScrollParent"));return o.createElement("div",{ref:n,style:Ai},t)},wa=qr(ma,{optional:{totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},o.memo((function(e){var t=Yr({},e),n=Ta("useWindowScroll"),r=Ta("customScrollParent"),i=r||n?Ia:ba;return o.createElement(r||n?Da:xa,Yr({},t),o.createElement(i,null,o.createElement(ya,null)))}))),Sa=(wa.Component,wa.usePublisher),Ta=wa.useEmitterValue,Ca=wa.useEmitter,xa=Wi({usePublisher:Sa,useEmitterValue:Ta,useEmitter:Ca}),Da=Gi({usePublisher:Sa,useEmitterValue:Ta,useEmitter:Ca}),Oa=Fr((function(){var e=Tr((function(e){return o.createElement("td",null,"Item $",e)})),t=Tr(null),n=Tr(null),r=Tr({}),i=Tr(Ri),a=Tr(pr),s=function(e,t){return void 0===t&&(t=null),xr(Or(r,Rr((function(t){return t[e]})),kr()),t)};return{context:t,itemContent:e,fixedHeaderContent:n,components:r,computeItemKey:i,scrollerRef:a,TableComponent:s("Table","table"),TableHeadComponent:s("TableHead","thead"),TableBodyComponent:s("TableBody","tbody"),TableRowComponent:s("TableRow","tr"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),FillerRow:s("FillerRow")}})),Ea=Fr((function(e){return Yr({},e[0],e[1])}),dr(xi,Oa)),ka=function(e){return o.createElement("tr",null,o.createElement("td",{style:{height:e.height}}))},Pa=function(e){return o.createElement("tr",null,o.createElement("td",{style:{height:e.height,padding:0,border:0}}))},Ra=o.memo((function(){var e=_a("listState"),t=Ha("sizeRanges"),n=_a("useWindowScroll"),r=_a("customScrollParent"),i=Ha("windowScrollContainerState"),a=Ha("scrollContainerState"),s=r||n?i:a,c=_a("itemContent"),u=_a("trackItemSizes"),l=ao(t,_a("itemSize"),u,s,_a("log"),r),d=l.callbackRef,f=l.ref,h=o.useState(0),g=h[0],p=h[1];La("deviation",(function(e){g!==e&&(f.current.style.marginTop=e+"px",p(e))}));var v=_a("EmptyPlaceholder"),m=_a("ScrollSeekPlaceholder")||ka,y=_a("FillerRow")||Pa,b=_a("TableBodyComponent"),I=_a("TableRowComponent"),w=_a("computeItemKey"),S=_a("isSeeking"),T=_a("paddingTopAddition"),C=_a("firstItemIndex"),x=_a("statefulTotalCount"),D=_a("context");if(0===x&&v)return(0,o.createElement)(v,Ui(v,D));var O=e.offsetTop+T+g,E=e.offsetBottom,k=O>0?o.createElement(y,{height:O,key:"padding-top"}):null,P=E>0?o.createElement(y,{height:E,key:"padding-bottom"}):null,R=e.items.map((function(e){var t=e.originalIndex,n=w(t+C,e.data,D);return S?(0,o.createElement)(m,Yr({},Ui(m,D),{key:n,index:e.index,height:e.size,type:e.type||"item"})):(0,o.createElement)(I,Yr({},Ui(I,D),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:{overflowAnchor:"none"}}),c(e.index,e.data,D))}));return(0,o.createElement)(b,Yr({ref:d,"data-test-id":"virtuoso-item-list"},Ui(b,D)),[k].concat(R,[P]))})),Na=function(e){var t=e.children,n=io(ir(Ha("viewportHeight"),(function(e){return so(e,"height")})));return o.createElement("div",{style:Ai,ref:n,"data-viewport-type":"element"},t)},ja=function(e){var t=e.children,n=Oi(Ha("windowViewportRect"),_a("customScrollParent"));return o.createElement("div",{ref:n,style:Ai,"data-viewport-type":"window"},t)},Ma=qr(Ea,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo((function(e){var t=_a("useWindowScroll"),n=_a("customScrollParent"),r=Ha("fixedHeaderHeight"),i=_a("fixedHeaderContent"),a=_a("context"),s=io(ir(r,(function(e){return so(e,"height")}))),c=n||t?za:Ba,u=n||t?ja:Na,l=_a("TableComponent"),d=_a("TableHeadComponent"),f=i?o.createElement(d,Yr({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:s},Ui(d,a)),i()):null;return o.createElement(c,Yr({},e),o.createElement(u,null,o.createElement(l,Yr({style:{borderSpacing:0}},Ui(l,a)),[f,o.createElement(Ra,{key:"TableBody"})])))}))),Ha=(Ma.Component,Ma.usePublisher),_a=Ma.useEmitterValue,La=Ma.useEmitter,Ba=Wi({usePublisher:Ha,useEmitterValue:_a,useEmitter:La}),za=Gi({usePublisher:Ha,useEmitterValue:_a,useEmitter:La}),Aa=Qi;const Fa=e=>"string"==typeof e?e:void 0===e||"object"!=typeof e||!e.props||!e.props.children||"string"!=typeof e.props.children&&"object"!=typeof e.props.children?"":"string"==typeof e.props.children?e.props.children:e.props.children.map((e=>Fa(e))).join(""),Ua=(e,t,n,r,o)=>"function"==typeof n[e]?String(n[e]({node:n,path:r,treeIndex:o})).includes(t):"object"==typeof n[e]?Fa(n[e]).includes(t):n[e]&&String(n[e]).includes(t),Ka=({node:e,path:t,treeIndex:n,searchQuery:r})=>Ua("title",r,e,t,n)||Ua("subtitle",r,e,t,n);var Va=Object.defineProperty,Wa=Object.defineProperties,Ga=Object.getOwnPropertyDescriptors,qa=Object.getOwnPropertySymbols,Ya=Object.prototype.hasOwnProperty,Xa=Object.prototype.propertyIsEnumerable,$a=(e,t,n)=>t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qa=(e,t)=>{for(var n in t||(t={}))Ya.call(t,n)&&$a(e,n,t[n]);if(qa)for(var n of qa(t))Xa.call(t,n)&&$a(e,n,t[n]);return e},Za=(e,t)=>Wa(e,Ga(t));const Ja=({targetIndex:e,node:t,currentIndex:n,getNodeKey:r,path:o=[],lowerSiblingCounts:i=[],ignoreCollapsed:a=!0,isPseudoRoot:s=!1})=>{const c=s?[]:[...o,r({node:t,treeIndex:n})];if(n===e)return{node:t,lowerSiblingCounts:i,path:c};if(!t.children||a&&!0!==t.expanded)return{nextIndex:n+1};let u=n+1;const l=t.children.length;for(let d=0;d<l;d+=1){const n=Ja({ignoreCollapsed:a,getNodeKey:r,targetIndex:e,node:t.children[d],currentIndex:u,lowerSiblingCounts:[...i,l-d-1],path:c});if(n.node)return n;u=n.nextIndex}return{nextIndex:u}},es=({node:e,ignoreCollapsed:t=!0})=>Ja({getNodeKey:()=>{},ignoreCollapsed:t,node:e,currentIndex:0,targetIndex:-1}).nextIndex-1,ts=({callback:e,getNodeKey:t,ignoreCollapsed:n,isPseudoRoot:r=!1,node:o,parentNode:i,currentIndex:a,path:s=[],lowerSiblingCounts:c=[]})=>{const u=r?[]:[...s,t({node:o,treeIndex:a})];if(!r){if(!1===e(r?void 0:{node:o,parentNode:i,path:u,lowerSiblingCounts:c,treeIndex:a}))return!1}if(!o.children||!0!==o.expanded&&n&&!r)return a;let l=a;const d=o.children.length;if("function"!=typeof o.children)for(let f=0;f<d;f+=1)if(l=ts({callback:e,getNodeKey:t,ignoreCollapsed:n,node:o.children[f],parentNode:r?void 0:o,currentIndex:l+1,lowerSiblingCounts:[...c,d-f-1],path:u}),!1===l)return!1;return l},ns=({callback:e,getNodeKey:t,ignoreCollapsed:n,isPseudoRoot:r=!1,node:o,parentNode:i,currentIndex:a,path:s=[],lowerSiblingCounts:c=[]})=>{const u=Qa({},o),l=r?[]:[...s,t({node:u,treeIndex:a})],d={node:u,parentNode:i,path:l,lowerSiblingCounts:c,treeIndex:a};if(!u.children||!0!==u.expanded&&n&&!r)return{treeIndex:a,node:e(d)};let f=a;const h=u.children.length;return"function"!=typeof u.children&&(u.children=u.children.map(((o,i)=>{const a=ns({callback:e,getNodeKey:t,ignoreCollapsed:n,node:o,parentNode:r?void 0:u,currentIndex:f+1,lowerSiblingCounts:[...c,h-i-1],path:l});return f=a.treeIndex,a.node}))),{node:e(d),treeIndex:f}},rs=({treeData:e,getNodeKey:t,callback:n,ignoreCollapsed:r=!0})=>{e&&0!==e.length&&ts({callback:n,getNodeKey:t,ignoreCollapsed:r,isPseudoRoot:!0,node:{children:e},currentIndex:-1,path:[],lowerSiblingCounts:[]})},os=({treeData:e,getNodeKey:t,callback:n,ignoreCollapsed:r=!0})=>e&&0!==e.length?ns({callback:n,getNodeKey:t,ignoreCollapsed:r,isPseudoRoot:!0,node:{children:e},currentIndex:-1,path:[],lowerSiblingCounts:[]}).node.children:[],is=({treeData:e,expanded:t=!0})=>os({treeData:e,callback:({node:e})=>Za(Qa({},e),{expanded:t}),getNodeKey:({treeIndex:e})=>e,ignoreCollapsed:!1}),as=({treeData:e,path:t,newNode:n,getNodeKey:r,ignoreCollapsed:o=!0})=>{const i="RESULT_MISS",a=({isPseudoRoot:e=!1,node:s,currentTreeIndex:c,pathIndex:u})=>{if(!e&&r({node:s,treeIndex:c})!==t[u])return i;if(u>=t.length-1)return"function"==typeof n?n({node:s,treeIndex:c}):n;if(!s.children)throw new Error("Path referenced children of node with no children.");let l=c+1;for(let t=0;t<s.children.length;t+=1){const e=a({node:s.children[t],currentTreeIndex:l,pathIndex:u+1});if(e!==i)return Za(Qa({},s),e?{children:[...s.children.slice(0,t),e,...s.children.slice(t+1)]}:{children:[...s.children.slice(0,t),...s.children.slice(t+1)]});l+=1+es({node:s.children[t],ignoreCollapsed:o})}return i},s=a({node:{children:e},currentTreeIndex:-1,pathIndex:-1,isPseudoRoot:!0});if(s===i)throw new Error("No node found at the given path.");return s.children},ss=({targetDepth:e,minimumTreeIndex:t,newNode:n,ignoreCollapsed:r,expandParent:o,isPseudoRoot:i=!1,isLastChild:a,node:s,currentIndex:c,currentDepth:u,getNodeKey:l,path:d=[]})=>{const f=e=>i?[]:[...d,l({node:e,treeIndex:c})];if(c>=t-1||a&&!(s.children&&s.children.length>0)){if("function"==typeof s.children)throw new TypeError("Cannot add to children defined by a function");{const e=o?{expanded:!0}:{},t=Za(Qa(Qa({},s),e),{children:s.children?[n,...s.children]:[n]});return{node:t,nextIndex:c+2,insertedTreeIndex:c+1,parentPath:f(t),parentNode:i?void 0:t}}}if(u>=e-1){if(!s.children||"function"==typeof s.children||!0!==s.expanded&&r&&!i)return{node:s,nextIndex:c+1};let e,o,u=c+1;for(let n=0;n<s.children.length;n+=1){if(u>=t){e=u,o=n;break}u+=1+es({node:s.children[n],ignoreCollapsed:r})}if(null==o){if(u<t&&!a)return{node:s,nextIndex:u};e=u,o=s.children.length}const l=Za(Qa({},s),{children:[...s.children.slice(0,o),n,...s.children.slice(o)]});return{node:l,nextIndex:u,insertedTreeIndex:e,parentPath:f(l),parentNode:i?void 0:l}}if(!s.children||"function"==typeof s.children||!0!==s.expanded&&r&&!i)return{node:s,nextIndex:c+1};let h,g,p,v=c+1,m=s.children;"function"!=typeof m&&(m=m.map(((i,s)=>{if(null!=h)return i;const c=ss({targetDepth:e,minimumTreeIndex:t,newNode:n,ignoreCollapsed:r,expandParent:o,isLastChild:a&&s===m.length-1,node:i,currentIndex:v,currentDepth:u+1,getNodeKey:l,path:[]});return"insertedTreeIndex"in c&&({insertedTreeIndex:h,parentNode:p,parentPath:g}=c),v=c.nextIndex,c.node})));const y=Za(Qa({},s),{children:m}),b={node:y,nextIndex:v};return null!=h&&(b.insertedTreeIndex=h,b.parentPath=[...f(y),...g],b.parentNode=p),b},cs=({treeData:e,depth:t,minimumTreeIndex:n,newNode:r,getNodeKey:o,ignoreCollapsed:i=!0,expandParent:a=!1})=>{if(!e&&0===t)return{treeData:[r],treeIndex:0,path:[o({node:r,treeIndex:0})],parentNode:void 0};const s=ss({targetDepth:t,minimumTreeIndex:n,newNode:r,ignoreCollapsed:i,expandParent:a,getNodeKey:o,isPseudoRoot:!0,isLastChild:!0,node:{children:e},currentIndex:-1,currentDepth:-1});if(!("insertedTreeIndex"in s))throw new Error("No suitable position found to insert.");const c=s.insertedTreeIndex;return{treeData:s.node.children,treeIndex:c,path:[...s.parentPath,o({node:r,treeIndex:c})],parentNode:s.parentNode}},us=(e,t)=>!!e.children&&"function"!=typeof e.children&&e.children.some((e=>e===t||us(e,t))),ls=(e,t=0)=>e.children?"function"==typeof e.children?t+1:e.children.reduce(((e,n)=>Math.max(e,ls(n,t+1))),t):t,ds=(...e)=>e.filter(Boolean).join(" ");var fs=Object.defineProperty,hs=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable,vs=(e,t,n)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ms=(e,t)=>{for(var n in t||(t={}))gs.call(t,n)&&vs(e,n,t[n]);if(hs)for(var n of hs(t))ps.call(t,n)&&vs(e,n,t[n]);return e};const ys={isSearchMatch:!1,isSearchFocus:!1,canDrag:!1,toggleChildrenVisibility:void 0,buttons:[],className:"",style:{},parentNode:void 0,draggedNode:void 0,canDrop:!1,title:void 0,subtitle:void 0,rowDirection:"ltr"};var bs=function(e){const t=e=ms(ms({},ys),e),{scaffoldBlockPxWidth:n,toggleChildrenVisibility:r,connectDragPreview:i,connectDragSource:a,isDragging:s,canDrop:c,canDrag:u,node:l,title:d,subtitle:f,draggedNode:h,path:g,treeIndex:p,isSearchMatch:v,isSearchFocus:m,buttons:y,className:b,style:I,didDrop:w,treeId:S,isOver:T,parentNode:C,rowDirection:x}=t,D=((e,t)=>{var n={};for(var r in e)gs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hs)for(var r of hs(e))t.indexOf(r)<0&&ps.call(e,r)&&(n[r]=e[r]);return n})(t,["scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","node","title","subtitle","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","buttons","className","style","didDrop","treeId","isOver","parentNode","rowDirection"]),O=d||l.title,E=f||l.subtitle,k="rtl"===x?"rst__rtl":void 0;let P;u&&(P="function"==typeof l.children&&l.expanded?o.createElement("div",{className:"rst__loadingHandle"},o.createElement("div",{className:"rst__loadingCircle"},[...Array.from({length:12})].map(((e,t)=>o.createElement("div",{key:t,className:ds("rst__loadingCirclePoint",k??"")}))))):a(o.createElement("div",{className:"rst__moveHandle"}),{dropEffect:"copy"}));const R=h&&us(h,l),N=!w&&s;let j={left:-.5*n,right:0};return"rtl"===x&&(j={right:-.5*n,left:0}),o.createElement("div",ms({style:{height:"100%"}},D),r&&l.children&&(l.children.length>0||"function"==typeof l.children)&&o.createElement("div",null,o.createElement("button",{type:"button","aria-label":l.expanded?"Collapse":"Expand",className:ds(l.expanded?"rst__collapseButton":"rst__expandButton",k??""),style:j,onClick:()=>r({node:l,path:g,treeIndex:p})}),l.expanded&&!s&&o.createElement("div",{style:{width:n},className:ds("rst__lineChildren",k??"")})),o.createElement("div",{className:ds("rst__rowWrapper",k??"")},i(o.createElement("div",{className:ds("rst__row",N?"rst__rowLandingPad":"",N&&!c?"rst__rowCancelPad":"",v?"rst__rowSearchMatch":"",m?"rst__rowSearchFocus":"",k??"",b??""),style:ms({opacity:R?.5:1},I)},P,o.createElement("div",{className:ds("rst__rowContents",u?"":"rst__rowContentsDragDisabled",k??"")},o.createElement("div",{className:ds("rst__rowLabel",k??"")},o.createElement("span",{className:ds("rst__rowTitle",l.subtitle?"rst__rowTitleWithSubtitle":"")},"function"==typeof O?O({node:l,path:g,treeIndex:p}):O),E&&o.createElement("span",{className:"rst__rowSubtitle"},"function"==typeof E?E({node:l,path:g,treeIndex:p}):E)),o.createElement("div",{className:"rst__rowToolbar"},null==y?void 0:y.map(((e,t)=>o.createElement("div",{key:t,className:"rst__toolbarButton"},e)))))))))},Is=Object.defineProperty,ws=Object.getOwnPropertySymbols,Ss=Object.prototype.hasOwnProperty,Ts=Object.prototype.propertyIsEnumerable,Cs=(e,t,n)=>t in e?Is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xs=(e,t)=>{for(var n in t||(t={}))Ss.call(t,n)&&Cs(e,n,t[n]);if(ws)for(var n of ws(t))Ts.call(t,n)&&Cs(e,n,t[n]);return e};const Ds={isOver:!1,canDrop:!1};var Os=function(e){e=xs(xs({},Ds),e);const{canDrop:t,isOver:n}=e;return o.createElement("div",{className:ds("rst__placeholder",t?"rst__placeholderLandingPad":"",t&&!n?"rst__placeholderCancelPad":"")})},Es=Object.defineProperty,ks=Object.defineProperties,Ps=Object.getOwnPropertyDescriptors,Rs=Object.getOwnPropertySymbols,Ns=Object.prototype.hasOwnProperty,js=Object.prototype.propertyIsEnumerable,Ms=(e,t,n)=>t in e?Es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hs=(e,t)=>{for(var n in t||(t={}))Ns.call(t,n)&&Ms(e,n,t[n]);if(Rs)for(var n of Rs(t))js.call(t,n)&&Ms(e,n,t[n]);return e};const _s={swapFrom:void 0,swapDepth:void 0,swapLength:void 0,canDrop:!1,draggedNode:void 0,rowDirection:"ltr"};class Ls extends o.Component{render(){const e=Hs(Hs({},_s),this.props),{children:t,listIndex:n,swapFrom:r,swapLength:i,swapDepth:a,scaffoldBlockPxWidth:s,lowerSiblingCounts:c,connectDropTarget:u,isOver:l,draggedNode:d,canDrop:f,treeIndex:h,rowHeight:g,treeId:p,getPrevRow:v,node:m,path:y,rowDirection:b}=e,I=((e,t)=>{var n={};for(var r in e)Ns.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Rs)for(var r of Rs(e))t.indexOf(r)<0&&js.call(e,r)&&(n[r]=e[r]);return n})(e,["children","listIndex","swapFrom","swapLength","swapDepth","scaffoldBlockPxWidth","lowerSiblingCounts","connectDropTarget","isOver","draggedNode","canDrop","treeIndex","rowHeight","treeId","getPrevRow","node","path","rowDirection"]),w="rtl"===b?"rst__rtl":void 0,S=c.length,T=[];for(const[E,k]of c.entries()){let e="";if(k>0?e=0===n?"rst__lineHalfHorizontalRight rst__lineHalfVerticalBottom":E===S-1?"rst__lineHalfHorizontalRight rst__lineFullVertical":"rst__lineFullVertical":0===n?e="rst__lineHalfHorizontalRight":E===S-1&&(e="rst__lineHalfVerticalTop rst__lineHalfHorizontalRight"),T.push(o.createElement("div",{key:`pre_${1+E}`,style:{width:s},className:ds("rst__lineBlock",e,w??"")})),h!==n&&E===a){let e="";e=n===r+i-1?"rst__highlightBottomLeftCorner":h===r?"rst__highlightTopLeftCorner":"rst__highlightLineVertical";const t="rtl"===b?{width:s,right:s*E}:{width:s,left:s*E};T.push(o.createElement("div",{key:E,style:t,className:ds("rst__absoluteLineBlock",e,w??"")}))}}const C="rtl"===b?{right:s*S}:{left:s*S};let x=g;return"function"==typeof g&&(x=g(h,m,y)),u(o.createElement("div",(D=Hs({},I),O={style:{height:`${x}px`},className:ds("rst__node",w??""),ref:e=>this.node=e},ks(D,Ps(O))),T,o.createElement("div",{className:"rst__nodeContent",style:C},o.Children.map(t,(e=>(0,o.cloneElement)(e,{isOver:l,canDrop:f,draggedNode:d}))))));var D,O}}var Bs=Ls,zs=Object.defineProperty,As=Object.getOwnPropertySymbols,Fs=Object.prototype.hasOwnProperty,Us=Object.prototype.propertyIsEnumerable,Ks=(e,t,n)=>t in e?zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vs=(e,t)=>{for(var n in t||(t={}))Fs.call(t,n)&&Ks(e,n,t[n]);if(As)for(var n of As(t))Us.call(t,n)&&Ks(e,n,t[n]);return e};const Ws={canDrop:!1,draggedNode:void 0};var Gs=e=>{const t=e=Vs(Vs({},Ws),e),{children:n,connectDropTarget:r,treeId:i,drop:a}=t,s=((e,t)=>{var n={};for(var r in e)Fs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&As)for(var r of As(e))t.indexOf(r)<0&&Us.call(e,r)&&(n[r]=e[r]);return n})(t,["children","connectDropTarget","treeId","drop"]);return r(o.createElement("div",null,o.Children.map(n,(e=>(0,o.cloneElement)(e,Vs({},s))))))};let qs=0;const Ys=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),didDrop:t.didDrop()}),Xs=(e,t,n,r)=>function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(O($(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),o=function(){return e}),O(X(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var i=Se(t);return O("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),O(X(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return ve({containerDisplayName:"DragSource",createHandler:i,registerHandler:k,createConnector:function(e){return new z(e)},createMonitor:function(e){return new V(e)},DecoratedComponent:e,getType:o,collect:n,options:r})}}(r,{beginDrag:e=>(t(e),{node:e.node,parentNode:e.parentNode,path:e.path,treeIndex:e.treeIndex,treeId:e.treeId}),endDrag:(e,t)=>{n(t.getDropResult())},isDragging:(e,t)=>{const n=t.getItem().node;return e.node===n}},Ys)(e),$s=(e,t)=>{const n=t.getItem();return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedNode:n?n.node:void 0}},Qs=(e,t,n,r,o,i)=>{let a=0;const s=e.getPrevRow();if(s){const{node:t}=s;let{path:n}=s;!r(t)&&(n=n.slice(0,-1)),a=Math.min(n.length,e.path.length)}let c,u=(t.getItem().path||[]).length;if(t.getItem().treeId!==o)if(u=0,n){const r=n.node.getBoundingClientRect(),o=t.getSourceClientOffset().x-r.left;c=Math.round(o/e.scaffoldBlockPxWidth)}else c=e.path.length;else{const n="rtl"===e.rowDirection?-1:1;c=Math.round(n*t.getDifferenceFromInitialOffset().x/e.scaffoldBlockPxWidth)}let l=Math.min(a,Math.max(0,u+c-1));if(void 0!==i&&void 0!==i){const e=t.getItem().node,n=ls(e);l=Math.max(0,Math.min(l,i-n-1))}return l},Zs=(e,t,n,r,o,i,a,s,c,u,l)=>{const d={drop:(e,o,a)=>{const s={node:o.getItem().node,path:o.getItem().path,treeIndex:o.getItem().treeIndex,treeId:n,minimumTreeIndex:e.treeIndex,depth:Qs(e,o,a,t,n,r)};return i(s),s},hover:(e,o,i)=>{const s=Qs(e,o,i,t,n,r),c=o.getItem().node;(e.node!==c||s!==e.path.length-1)&&(cancelAnimationFrame(qs),qs=requestAnimationFrame((()=>{const t=o.getItem();t&&o.isOver()&&a({node:c,path:t.path,minimumTreeIndex:e.listIndex,depth:s})})))},canDrop:(e,i)=>((e,t,n,r,o,i,a,s,c)=>{if(!t.isOver())return!1;const u=e.getPrevRow(),l=u?u.path:[],d=u?u.node:{};if(Qs(e,t,void 0,n,r,o)>=l.length&&"function"==typeof d.children)return!1;if("function"==typeof i){const{node:n}=t.getItem();return i({node:n,prevPath:t.getItem().path,prevParent:t.getItem().parentNode,prevTreeIndex:t.getItem().treeIndex,nextPath:e.children.props.path,nextParent:e.children.props.parentNode,nextTreeIndex:e.children.props.treeIndex})}return!0})(e,i,t,n,r,o)};return He(s,d,$s)(e)},Js=e=>{let t,n=[],r=[];return o=>{const i=Object.keys(o).sort(),a=i.map((e=>o[e]));return(a.length!==n.length||a.some(((e,t)=>e!==n[t]))||i.some(((e,t)=>e!==r[t])))&&(n=a,r=i,t=e(o)),t}},ec=Js(cs),tc=Js((({treeData:e,getNodeKey:t,ignoreCollapsed:n=!0})=>{if(!e||0===e.length)return[];const r=[];return rs({treeData:e,getNodeKey:t,ignoreCollapsed:n,callback:e=>{r.push(e)}}),r})),nc=Js(es);var rc=Object.defineProperty,oc=Object.defineProperties,ic=Object.getOwnPropertyDescriptors,ac=Object.getOwnPropertySymbols,sc=Object.prototype.hasOwnProperty,cc=Object.prototype.propertyIsEnumerable,uc=(e,t,n)=>t in e?rc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lc=(e,t)=>{for(var n in t||(t={}))sc.call(t,n)&&uc(e,n,t[n]);if(ac)for(var n of ac(t))cc.call(t,n)&&uc(e,n,t[n]);return e},dc=(e,t)=>oc(e,ic(t));let fc=1;const hc=e=>{const t=dc(lc({},e),{style:lc(lc({},e.theme.style),e.style),innerStyle:lc(lc({},e.theme.innerStyle),e.innerStyle)}),n={nodeContentRenderer:bs,placeholderRenderer:Os,scaffoldBlockPxWidth:44,slideRegionSize:100,rowHeight:62,treeNodeRenderer:Bs};for(const r of Object.keys(n))void 0===e[r]&&(t[r]=void 0!==e.theme[r]?e.theme[r]:n[r]);return t};class gc extends o.Component{constructor(e){super(e),this.startDrag=({path:e})=>{this.setState((t=>{const{treeData:n,node:r,treeIndex:o}=(({treeData:e,path:t,getNodeKey:n,ignoreCollapsed:r=!0})=>{let o,i;return{treeData:as({treeData:e,path:t,getNodeKey:n,ignoreCollapsed:r,newNode:({node:e,treeIndex:t})=>{o=e,i=t}}),node:o,treeIndex:i}})({treeData:t.instanceProps.treeData,path:e,getNodeKey:this.props.getNodeKey});return{draggingTreeData:n,draggedNode:r,draggedDepth:e.length-1,draggedMinimumTreeIndex:o,dragging:!0}}))},this.dragHover=({node:e,depth:t,minimumTreeIndex:n})=>{this.state.draggedDepth===t&&this.state.draggedMinimumTreeIndex===n||this.setState((({draggingTreeData:r,instanceProps:o})=>{const i=r||o.treeData,a=ec({treeData:i,newNode:e,depth:t,minimumTreeIndex:n,expandParent:!0,getNodeKey:this.props.getNodeKey}),s=this.getRows(a.treeData)[a.treeIndex].path;return{draggedNode:e,draggedDepth:t,draggedMinimumTreeIndex:n,draggingTreeData:as({treeData:i,path:s.slice(0,-1),newNode:({node:e})=>dc(lc({},e),{expanded:!0}),getNodeKey:this.props.getNodeKey}),searchFocusTreeIndex:void 0,dragging:!0}}))},this.endDrag=e=>{const{instanceProps:t}=this.state;if(e){if(e.treeId!==this.treeId){const{node:n,path:r,treeIndex:o}=e;let i=this.props.shouldCopyOnOutsideDrop;"function"==typeof i&&(i=i({node:n,prevTreeIndex:o,prevPath:r}));let a=this.state.draggingTreeData||t.treeData;i&&(a=as({treeData:t.treeData,path:r,newNode:({node:e})=>lc({},e),getNodeKey:this.props.getNodeKey})),this.props.onChange(a),this.props.onMoveNode({treeData:a,node:n,treeIndex:void 0,path:void 0,nextPath:void 0,nextTreeIndex:void 0,prevPath:r,prevTreeIndex:o})}}else this.setState({draggingTreeData:void 0,draggedNode:void 0,draggedMinimumTreeIndex:void 0,draggedDepth:void 0,dragging:!1})},this.drop=e=>{this.moveNode(e)},this.canNodeHaveChildren=e=>{const{canNodeHaveChildren:t}=this.props;return!t||t(e)},this.listRef=o.createRef();const{dndType:t,nodeContentRenderer:n,treeNodeRenderer:r,slideRegionSize:i}=hc(e);this.treeId=`rst__${fc}`,fc+=1,this.dndType=t||this.treeId,this.nodeContentRenderer=Xs(n,this.startDrag,this.endDrag,this.dndType),this.treePlaceholderRenderer=((e,t,n,r)=>He(r,{drop:(e,r)=>{const{node:o,path:i,treeIndex:a}=r.getItem(),s={node:o,path:i,treeIndex:a,treeId:t,minimumTreeIndex:0,depth:0};return n(s),s}},$s)(e))(Gs,this.treeId,this.drop,this.dndType),this.scrollZoneVirtualList=(T||C)(o.forwardRef(((e,t)=>{const n=((e,t)=>{var n={};for(var r in e)sc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ac)for(var r of ac(e))t.indexOf(r)<0&&cc.call(e,r)&&(n[r]=e[r]);return n})(e,["dragDropManager","rowHeight"]);return o.createElement(Aa,lc({ref:this.listRef},n))}))),this.vStrength=I(i),this.hStrength=b(i),this.state={draggingTreeData:void 0,draggedNode:void 0,draggedMinimumTreeIndex:void 0,draggedDepth:void 0,searchMatches:[],searchFocusTreeIndex:void 0,dragging:!1,instanceProps:{treeData:[],ignoreOneTreeUpdate:!1,searchQuery:void 0,searchFocusOffset:void 0}},this.treeNodeRenderer=Zs(r,this.canNodeHaveChildren,this.treeId,this.props.maxDepth,this.props.canDrop,this.drop,this.dragHover,this.dndType,this.state.draggingTreeData,this.props.treeData,this.props.getNodeKey),this.toggleChildrenVisibility=this.toggleChildrenVisibility.bind(this),this.moveNode=this.moveNode.bind(this),this.startDrag=this.startDrag.bind(this),this.dragHover=this.dragHover.bind(this),this.endDrag=this.endDrag.bind(this),this.drop=this.drop.bind(this),this.handleDndMonitorChange=this.handleDndMonitorChange.bind(this)}static search(e,t,n,r,o){const{onChange:i,getNodeKey:a,searchFinishCallback:s,searchQuery:c,searchMethod:u,searchFocusOffset:l,onlyExpandSearchedNodes:d}=e,{instanceProps:f}=t;if(!c&&!u)return s&&s([]),{searchMatches:[]};const h={instanceProps:{}},{treeData:g,matches:p}=(({getNodeKey:e,treeData:t,searchQuery:n,searchMethod:r,searchFocusOffset:o,expandAllMatchPaths:i=!1,expandFocusMatchPaths:a=!0})=>{let s=0;const c=({isPseudoRoot:t=!1,node:u,currentIndex:l,path:d=[]})=>{let f=[],h=!1,g=!1;const p=t?[]:[...d,e({node:u,treeIndex:l})],v=t?void 0:{path:p,treeIndex:l},m=u.children&&"function"!=typeof u.children&&u.children.length>0;!t&&r(Za(Qa({},v),{node:u,searchQuery:n}))&&(s===o&&(g=!0),s+=1,h=!0);let y=l;const b=Qa({},u);return m&&(b.children=b.children.map((e=>{const t=c({node:e,currentIndex:y+1,path:p});return t.node.expanded?y=t.treeIndex:y+=1,(t.matches.length>0||t.hasFocusMatch)&&(f=[...f,...t.matches],t.hasFocusMatch&&(g=!0),(i&&t.matches.length>0||(i||a)&&t.hasFocusMatch)&&(b.expanded=!0)),t.node}))),t||b.expanded||(f=f.map((e=>Za(Qa({},e),{treeIndex:void 0})))),h&&(f=[Za(Qa({},v),{node:b}),...f]),{node:f.length>0?b:u,matches:f,hasFocusMatch:g,treeIndex:y}},u=c({node:{children:t},isPseudoRoot:!0,currentIndex:-1});return{matches:u.matches,treeData:u.node.children}})({getNodeKey:a,treeData:d?is({treeData:f.treeData,expanded:!1}):f.treeData,searchQuery:c,searchMethod:u||Ka,searchFocusOffset:l,expandAllMatchPaths:r&&!o,expandFocusMatchPaths:!!r});let v;return r&&(h.instanceProps.ignoreOneTreeUpdate=!0,i(g)),s&&s(p),n&&void 0!==l&&l<p.length&&(v=p[l].treeIndex),h.searchMatches=p,h.searchFocusTreeIndex=v,h}static loadLazyChildren(e,t){const{instanceProps:n}=t;rs({treeData:n.treeData,getNodeKey:e.getNodeKey,callback:({node:t,path:r,lowerSiblingCounts:o,treeIndex:i})=>{t.children&&"function"==typeof t.children&&(t.expanded||e.loadCollapsedLazyChildren)&&t.children({node:t,path:r,lowerSiblingCounts:o,treeIndex:i,done:o=>e.onChange(as({treeData:n.treeData,path:r,newNode:({node:e})=>e===t?dc(lc({},e),{children:o}):e,getNodeKey:e.getNodeKey}))})}})}componentDidMount(){gc.loadLazyChildren(this.props,this.state);const e=gc.search(this.props,this.state,!0,!0,!1);this.setState(e),this.clearMonitorSubscription=this.props.dragDropManager.getMonitor().subscribeToStateChange(this.handleDndMonitorChange)}static getDerivedStateFromProps(e,t){const{instanceProps:n}=t,r={},o=D()(n.treeData,e.treeData);return n.treeData=e.treeData,o?D()(n.searchQuery,e.searchQuery)?n.searchFocusOffset!==e.searchFocusOffset&&Object.assign(r,gc.search(e,t,!0,!0,!0)):Object.assign(r,gc.search(e,t,!0,!0,!1)):(n.ignoreOneTreeUpdate?n.ignoreOneTreeUpdate=!1:(r.searchFocusTreeIndex=void 0,gc.loadLazyChildren(e,t),Object.assign(r,gc.search(e,t,!1,!1,!1))),r.draggingTreeData=void 0,r.draggedNode=void 0,r.draggedMinimumTreeIndex=void 0,r.draggedDepth=void 0,r.dragging=!1),n.searchQuery=e.searchQuery,n.searchFocusOffset=e.searchFocusOffset,r.instanceProps=lc(lc({},n),r.instanceProps),r}componentDidUpdate(e,t){this.state.dragging!==t.dragging&&this.props.onDragStateChanged&&this.props.onDragStateChanged({isDragging:this.state.dragging,draggedNode:this.state.draggedNode})}componentWillUnmount(){this.clearMonitorSubscription()}handleDndMonitorChange(){!this.props.dragDropManager.getMonitor().isDragging()&&this.state.draggingTreeData&&setTimeout((()=>{this.endDrag()}))}getRows(e){return tc({ignoreCollapsed:!0,getNodeKey:this.props.getNodeKey,treeData:e})}toggleChildrenVisibility({node:e,path:t}){const{instanceProps:n}=this.state,r=as({treeData:n.treeData,path:t,newNode:({node:e})=>dc(lc({},e),{expanded:!e.expanded}),getNodeKey:this.props.getNodeKey});this.props.onChange(r),this.props.onVisibilityToggle({treeData:r,node:e,expanded:!e.expanded,path:t})}moveNode({node:e,path:t,treeIndex:n,depth:r,minimumTreeIndex:o}){const{treeData:i,treeIndex:a,path:s,parentNode:c}=cs({treeData:this.state.draggingTreeData,newNode:e,depth:r,minimumTreeIndex:o,expandParent:!0,getNodeKey:this.props.getNodeKey});this.props.onChange(i),this.props.onMoveNode({treeData:i,node:e,treeIndex:a,path:s,nextPath:s,nextTreeIndex:a,prevPath:t,prevTreeIndex:n,nextParentNode:c})}renderRow(e,{listIndex:t,style:n,getPrevRow:r,matchKeys:i,swapFrom:a,swapDepth:s,swapLength:c}){const{node:u,parentNode:l,path:d,lowerSiblingCounts:f,treeIndex:h}=e,{canDrag:g,generateNodeProps:p,scaffoldBlockPxWidth:v,searchFocusOffset:m,rowDirection:y,rowHeight:b}=hc(this.props),I=this.treeNodeRenderer,w=this.nodeContentRenderer,S=d[d.length-1],T=S in i,C=T&&i[S]===m,x={node:u,parentNode:l,path:d,lowerSiblingCounts:f,treeIndex:h,isSearchMatch:T,isSearchFocus:C},D=p?p(x):{},O="function"!=typeof g?g:g(x),E={treeIndex:h,scaffoldBlockPxWidth:v,node:u,path:d,treeId:this.treeId,rowDirection:y};return o.createElement(I,lc({style:n,rowHeight:b,key:S,listIndex:t,getPrevRow:r,lowerSiblingCounts:f,swapFrom:a,swapLength:c,swapDepth:s},E),o.createElement(w,lc(lc({parentNode:l,isSearchMatch:T,isSearchFocus:C,canDrag:O,toggleChildrenVisibility:this.toggleChildrenVisibility},E),D)))}render(){const{dragDropManager:e,style:t,className:n,innerStyle:r,placeholderRenderer:i,getNodeKey:a,rowDirection:s}=hc(this.props),{searchMatches:c,searchFocusTreeIndex:u,draggedNode:l,draggedDepth:d,draggedMinimumTreeIndex:f,instanceProps:h}=this.state,g=this.state.draggingTreeData||h.treeData,p="rtl"===s?"rst__rtl":void 0;let v,m,y;if(l&&void 0!==f){const e=ec({treeData:g,newNode:l,depth:d,minimumTreeIndex:f,expandParent:!0,getNodeKey:a}),t=f;m=e.treeIndex,y=1+nc({node:l}),v=((e,t,n,r=1)=>{const o=[...e.slice(0,t),...e.slice(t+r)];return[...o.slice(0,n),...e.slice(t,t+r),...o.slice(n)]})(this.getRows(e.treeData),m,t,y)}else v=this.getRows(g);const b={};for(const[o,{path:S}]of c.entries())b[S[S.length-1]]=o;void 0!==u&&this.listRef.current.scrollToIndex({index:u,align:"center"});let I,w=t;if(0===v.length){const e=this.treePlaceholderRenderer,t=i;I=o.createElement(e,{treeId:this.treeId,drop:this.drop},o.createElement(t,null))}else{w=lc({height:"100%"},w);const t=this.scrollZoneVirtualList;I=o.createElement(t,{data:v,dragDropManager:e,verticalStrength:this.vStrength,horizontalStrength:this.hStrength,className:"rst__virtualScrollOverride",style:r,itemContent:e=>this.renderRow(v[e],{listIndex:e,getPrevRow:()=>v[e-1]||void 0,matchKeys:b,swapFrom:m,swapDepth:d,swapLength:y})})}return o.createElement("div",{className:ds("rst__tree",n,p),style:w},I)}}gc.defaultProps={canDrag:!0,canDrop:void 0,canNodeHaveChildren:()=>!0,className:"",dndType:void 0,generateNodeProps:void 0,getNodeKey:({treeIndex:e})=>e,innerStyle:{},maxDepth:void 0,treeNodeRenderer:void 0,nodeContentRenderer:void 0,onMoveNode:()=>{},onVisibilityToggle:()=>{},placeholderRenderer:void 0,scaffoldBlockPxWidth:void 0,searchFinishCallback:void 0,searchFocusOffset:void 0,searchMethod:void 0,searchQuery:void 0,shouldCopyOnOutsideDrop:!1,slideRegionSize:void 0,style:{},theme:{},onDragStateChanged:()=>{},onlyExpandSearchedNodes:!1,rowDirection:"ltr",debugMode:!1,overscan:0};const pc=function(e){return o.createElement(Z.Consumer,null,(({dragDropManager:t})=>void 0===t?void 0:o.createElement(gc,dc(lc({},e),{dragDropManager:t}))))};var vc=function(e){return o.createElement(Cn,{debugMode:e.debugMode,backend:or},o.createElement(pc,lc({},e)))}},298357:function(e,t,n){var r="Expected a function",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,g=Math.min,p=function(){return d.Date.now()};function v(e,t,n){var o,i,a,s,c,u,l=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=o,r=i;return o=i=void 0,l=t,s=e.apply(r,n)}function I(e){return l=e,c=setTimeout(S,t),d?b(e):s}function w(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function S(){var e=p();if(w(e))return T(e);c=setTimeout(S,function(e){var n=t-(e-u);return f?g(n,a-(e-l)):n}(e))}function T(e){return c=void 0,v&&o?b(e):(o=i=void 0,s)}function C(){var e=p(),n=w(e);if(o=arguments,i=this,u=e,n){if(void 0===c)return I(u);if(f)return c=setTimeout(S,t),b(u)}return void 0===c&&(c=setTimeout(S,t)),s}return t=y(t)||0,m(n)&&(d=!!n.leading,a=(f="maxWait"in n)?h(y(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},C.flush=function(){return void 0===c?s:T(p())},C}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return m(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),v(e,t,{leading:o,maxWait:t,trailing:i})}}}]);