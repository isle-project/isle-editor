"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3678],{255372:function(e,t,a){a.r(t);var n=a(497326),o=a(894578),s=a(202784),r=a(213980),l=a.n(r),i=a(198),m=a(770561),c=a(471275),u=a(458264),d=a(312594),h=a(260952),g=a(43649),p=a(948933),E=a(924122),f=a(690473),y=a(690299),v=a.n(y),M=a(32593),Z=a.n(M),b=a(74039),x=a.n(b),D=a(848941),L=a.n(D),w=a(523632),A=a.n(w),S=a(113999),C=a.n(S),G=a(841908),k=a.n(G),N=a(269891),_=a(267682),T=a(10206),P=Object.defineProperty,U=function(e,t,a){return function(e,t,a){t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a}(e,"symbol"!=typeof t?t+"":t,a),a},I=v()("isle:mean-vs-median"),B=function(e){function t(t){var a;a=e.call(this,t)||this,U((0,n.Z)(a),"medianEvaluation",(function(e){if(e.stopPropagation(),!a.state.showLognormalMedian){var t=Z()(C().median(a.state.mu,a.state.sigma)-a.state.medianLognormalGuess),n=a.props.t("a-bit-off"),o=a.state.lognormalDomain.x[1];t<o/10&&(n=a.props.t("good")),t<o/20&&(n=a.props.t("very-good")),a.singleAccMedian(t);var s=a.context;s.addNotification({title:a.props.t("score"),message:n,position:"tc",level:"success"}),s.log({id:a.props.id,type:"MEDIAN_GUESS_DISTANCE",value:t}),a.setState({showLognormalMedian:!0})}})),U((0,n.Z)(a),"meanEvaluation",(function(e){if(e.stopPropagation(),!a.state.showLognormalMean){var t=Z()(C().mean(a.state.mu,a.state.sigma)-a.state.meanLognormalGuess),n=a.props.t("a-bit-off"),o=a.state.lognormalDomain.x[1];t<o/10&&(n=a.props.t("good")),t<o/20&&(n=a.props.t("very-good")),a.singleAccMean(t);var s=a.context;s.addNotification({title:a.props.t("score"),message:n,position:"tc",level:"success"}),s.log({id:a.props.id,type:"MEAN_GUESS_DISTANCE",value:t}),a.setState({showLognormalMean:!0})}})),U((0,n.Z)(a),"generateData",(function(){var e=1*a.rand()-.5,t=2*a.rand()+.01,n=4+C().stdev(e,t),o=A()(0,n,80).map((function(a){return{x:a,y:C().pdf(a,e,t)}}));a.setState({lognormalData:o,mu:e,sigma:t,lognormalDomain:{x:[0,n],y:[0,C().pdf(C().mode(e,t),e,t)]},showLognormalMean:!1,showLognormalMedian:!1})})),a.state={mu:0,sigma:1,lognormalData:[],lognormalDomain:{x:[0,4],y:[0,3]},meanLognormalGuess:1,medianLognormalGuess:1,showLognormalMean:!1,showLognormalMedian:!1};var o={};return t.seed&&(o.seed=t.seed),a.rand=L().factory(o),a.singleAccMean=k()(),a.groupAccMean=k()(),a.singleAccMedian=k()(),a.groupAccMedian=k()(),a}(0,o.Z)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this;this.generateData();var t=this.context;this.unsubscribe=t.subscribe((function(t,a){if(t===T.Wh)if("MEDIAN_GUESS_DISTANCE"===a.type){var n=a.value;e.groupAccMedian(n),e.forceUpdate()}else if("MEAN_GUESS_DISTANCE"===a.type){var o=a.value;e.groupAccMean(o),e.forceUpdate()}}))},a.componentWillUnmount=function(){this.unsubscribe()},a.renderMeanPanel=function(){var e=this,t=this.props.t;return s.createElement(h.Z,null,s.createElement(h.Z.Header,{as:"h4"},t("mean")),s.createElement(h.Z.Body,null,s.createElement(p.Z,{domain:this.state.lognormalDomain,containerComponent:s.createElement(E.Z,{events:{onClick:this.meanEvaluation},cursorDimension:"x",cursorLabel:function(e){return""+x()(e.x,-1)},onCursorChange:function(t){I("Received cursor change: "+t),e.state.showLognormalMean||e.setState({meanLognormalGuess:t})}})},s.createElement(f.Z,{data:this.state.lognormalData,x:"x",y:"y"}),this.state.showLognormalMean?s.createElement(f.Z,{data:[{x:this.state.meanLognormalGuess,y:0},{x:this.state.meanLognormalGuess,y:this.state.lognormalDomain.y[1]}],labels:["Your Guess",""]}):null,this.state.showLognormalMean?s.createElement(f.Z,{data:[{x:C().mean(this.state.mu,this.state.sigma),y:0},{x:C().mean(this.state.mu,this.state.sigma),y:this.state.lognormalDomain.y[1]}],labels:["","True Mean"]}):null)))},a.renderMedianPanel=function(){var e=this,t=this.props.t;return s.createElement(h.Z,null,s.createElement(h.Z.Header,{as:"h4"},t("median")),s.createElement(h.Z.Body,null,s.createElement(p.Z,{domain:this.state.lognormalDomain,containerComponent:s.createElement(E.Z,{events:{onClick:this.medianEvaluation},cursorDimension:"x",cursorLabel:function(e){return""+x()(e.x,-1)},onCursorChange:function(t){e.state.showLognormalMedian||e.setState({medianLognormalGuess:t})}})},s.createElement(f.Z,{data:this.state.lognormalData,x:"x",y:"y"}),this.state.showLognormalMedian?s.createElement(f.Z,{data:[{x:this.state.medianLognormalGuess,y:0},{x:this.state.medianLognormalGuess,y:this.state.lognormalDomain.y[1]}],labels:["Your Guess",""]}):null,this.state.showLognormalMedian?s.createElement(f.Z,{data:[{x:C().median(this.state.mu,this.state.sigma),y:0},{x:C().median(this.state.mu,this.state.sigma),y:this.state.lognormalDomain.y[1]}],labels:["","True Median"]}):null)))},a.render=function(){var e=this.props.t;return s.createElement(h.Z,{style:this.props.style},s.createElement(h.Z.Header,{as:"h3"},this.props.header?this.props.header:e("measures-of-location-header")),s.createElement(h.Z.Body,null,s.createElement(c.Z,null,this.props.intro,s.createElement(u.Z,null,s.createElement(d.Z,{md:6},this.renderMeanPanel()),s.createElement(d.Z,{md:6},this.renderMedianPanel())),s.createElement(u.Z,null,s.createElement("div",{style:{paddingTop:"20px",maxWidth:400,margin:"0 auto 10px"}},s.createElement(m.Z,{variant:"primary",size:"lg",onClick:this.generateData},e("generate-new-data")))),s.createElement(u.Z,null,this.props.showStatistics?s.createElement(g.Z,{bordered:!0},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null),s.createElement("th",null,e("you")),s.createElement("th",null,e("group")))),s.createElement("tbody",null,s.createElement("tr",null,s.createElement("th",null,e("average-distance-from-mean")),s.createElement("td",null,x()(this.singleAccMean(),-2)),s.createElement("td",null,x()(this.groupAccMean(),-2))),s.createElement("tr",null,s.createElement("th",null,e("average-distance-from-median")),s.createElement("td",null,x()(this.singleAccMedian(),-2)),s.createElement("td",null,x()(this.groupAccMedian(),-2))))):null)),this.props.feedback?s.createElement(N.Z,{id:"mean-vs-median"}):null))},t}(s.Component);B.defaultProps={feedback:!1,header:null,id:"mean_vs_median",intro:null,seed:null,showStatistics:!1,style:{}},B.propTypes={feedback:l().bool,header:l().string,id:l().string,intro:l().node,seed:l().number,showStatistics:l().bool,style:l().object},B.contextType=_.Z,t.default=(0,i.Z)("learn/mean-vs-median")(B)}}]);