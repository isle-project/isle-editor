"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2087],{497828:function(e,t,n){n.r(t);var i=n(497326),s=n(894578),o=n(202784),r=n(770561),a=n(741372),l=n(213980),d=n.n(l),c=n(588703),p=n.n(c),u=Object.defineProperty,h=function(e,t,n){return function(e,t,n){t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},f=function(e){function t(t){var n;return n=e.call(this,t)||this,h((0,i.Z)(n),"clickHide",(function(){n.props.onHide()})),h((0,i.Z)(n),"handlePDFExport",(function(){n.props.saveAsPDF(),n.props.onHide()})),h((0,i.Z)(n),"handlePNGExport",(function(){n.props.saveAsPNG(),n.props.onHide()})),n.state={ownerFile:null},n}(0,s.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.session.getLessonOwnerFiles((function(t,n){p()(n)&&n.length>0&&(n=n.filter((function(t){return t.title===e.props.id+".pdf"})),e.setState({ownerFile:n[n.length-1]}))}))},n.render=function(){var e,t,n=this.props.session;this.state.ownerFile&&(e=new Date(this.state.ownerFile.updatedAt),t=this.state.ownerFile.name);var i=this.props.t;return o.createElement(a.Z,{onHide:this.clickHide,show:this.props.show,dialogClassName:"modal-w30"},o.createElement(a.Z.Header,{closeButton:!0},o.createElement(a.Z.Title,{as:"h4"},i("download"))),o.createElement(a.Z.Body,null,o.createElement("div",{className:"d-grid gap-2"},this.props.pdf?o.createElement(r.Z,{className:"sketchpad-download-link-btn",size:"large",variant:"secondary",onClick:this.clickHide},o.createElement("a",{className:"unstyled-link sketchpad-download-link",href:this.props.pdf,download:!0},i("download-original"))):null,this.state.ownerFile?o.createElement(r.Z,{size:"large",variant:"secondary",onClick:this.clickHide},o.createElement("a",{className:"unstyled-link",href:n.server+"/"+this.state.ownerFile.filename,download:!0},i("download-instructor-annotations"),o.createElement("br",null),o.createElement("small",null,"(",i("last-updated"),": ",e.toDateString()+", "+e.toLocaleTimeString()," ",i("by")," ",t,")"))):null,o.createElement(r.Z,{variant:"secondary",size:"large",onClick:this.handlePDFExport},i("export-pdf")),o.createElement(r.Z,{variant:"secondary",size:"large",onClick:this.handlePNGExport},i("export-png")))))},t}(o.Component);f.propTypes={id:d().string.isRequired,onHide:d().func,pdf:d().string,saveAsPDF:d().func.isRequired,saveAsPNG:d().func.isRequired,session:d().object.isRequired,show:d().bool.isRequired},f.defaultProps={pdf:null,onHide:function(){}},t.default=f}}]);