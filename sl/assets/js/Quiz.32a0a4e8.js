(self.webpackChunk=self.webpackChunk||[]).push([[1055],{450899:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});n(382139);var i=n(607560),o=n(858255),s=n(264659),r=n(904730),a=n(673989),c=n(175663),u=n(750591),l=n(575630),d=n(151119),p=(n(850110),n(6059),n(898837),n(319371),n(202784)),h=(n(213980),n(912895)),f=n.n(h),v=n(198),Z=n(318967),m=n.n(Z),b=n(10863),g=n(423184),y=n(770561),k=n(398781),w=n(260952),S=n(911755),C=n.n(S),q=n(240054),N=n.n(q),F=n(588703),x=n.n(F),z=n(833022),R=n.n(z),Q=n(623102),E=n.n(Q),P=n(294565),B=n(605977),M=n.n(B),I=n(185749),T=n(600078),H=n(41460),L=n(751879),D=n(492981),O=n(155436),V=n(18110),j=n(213022),A=n(778886),G=n(741319),J=n(68212),U=n(42111),W=n(5140),X=n(432261),_=n(81982);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var Y=function(e){(0,c.Z)(n,e);var t=K(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,a.Z)(e),"clickHide",(function(){e.props.onHide()})),(0,d.Z)((0,a.Z)(e),"handleClick",(function(){e.props.onSubmit(),e.props.onHide()})),e}return(0,r.Z)(n,[{key:"render",value:function(){return(0,o.Z)(_.Z,{onHide:this.clickHide,show:this.props.show,dialogClassName:"modal-w30"},void 0,(0,o.Z)(_.Z.Header,{closeButton:!0},void 0,(0,o.Z)(_.Z.Title,{as:"h4"},void 0,this.props.t("finish"),"?")),(0,o.Z)(_.Z.Body,{},void 0,this.props.t("finish-prompt")),(0,o.Z)(_.Z.Footer,{},void 0,(0,o.Z)(y.Z,{variant:"secondary",onClick:this.clickHide},void 0,this.props.t("cancel")),(0,o.Z)(y.Z,{variant:"warning",onClick:this.handleClick},void 0,this.props.t("confirm"))))}}]),n}(p.Component);Y.defaultProps={onHide:function(){},onSubmit:function(){}};var $,ee=Y;n(697927);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var ne=C()("isle:quiz"),ie=(0,U.Z)("quiz"),oe={header:{fontSize:24,bold:!0,margin:[0,0,0,10]},author:{fontSize:16,italics:!0,margin:[0,0,0,10],alignment:"center"},date:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},subheader:{fontSize:18,bold:!0,margin:[0,30,0,10]},question:{fontSize:15,margin:[0,10,0,0],italics:!0},boldTitle:{fontSize:14,margin:[0,5,0,5],bold:!0}};function se(e){return R()(e)&&e.component}var re=function(e){(0,c.Z)(n,e);var t=te(n);function n(e){var i;(0,s.Z)(this,n),ne("Instantiating quiz component..."),i=t.call(this,e),(0,d.Z)((0,a.Z)(i),"toggleFinishModal",(function(){i.setState({showFinishModal:!i.state.showFinishModal})})),(0,d.Z)((0,a.Z)(i),"handleFinishClick",(function(){i.setState({counter:i.state.count},(function(){i.handleNextClick()}))})),(0,d.Z)((0,a.Z)(i),"handleNextClick",(function(){for(var e=i.quizBody.getElementsByClassName("submit-button"),t=0;t<e.length;t++)e[t].click();ne("Display next question...");var n=i.state.questions[i.state.current],o=i.context;i.state.answered||o.log({id:n.props.id,type:W.g,value:!0}),n.props&&n.props.id&&i.state.selectedConfidence&&o.log({id:n.props.id+"_confidence",type:W.Wm,value:i.state.selectedConfidence}),i.props.onSubmit();var s={},r=i.state.counter;(r+=1)>=i.state.count?(ne("No further questions should be shown..."),s.finished=!0,o.log({id:i.id,type:W.mr,value:!0}),i.props.onFinished()):(r===i.state.count-1&&(s.last=!0),s.current=i.sample()[0],ne("Selected question at index "+s.current)),s.answered=!1,s.selectedConfidence=null,s.answerSelected=!1,s.counter=r,i.setState(s)})),(0,d.Z)((0,a.Z)(i),"markSelected",(function(){ne("Mark answer as selected..."),i.setState({answerSelected:!0})})),(0,d.Z)((0,a.Z)(i),"handleSubmission",(function(e){var t,n,o=i.state.questions[i.state.current],s=i.state.answers.slice();if(o.props){if(x()(o.props.answers)&&void 0!==o.props.solution){t=o.props.answers[e].content;var r=o.props.solution;if(x()(r)){n="";for(var a=0;a<r.length;a++)n+=o.props.answers[r[a]],n+="; "}else n=o.props.answers[r].content}else if(x()(o.props.elements)){ne("Create answer and solution string for <MatchListQuestion />"),t="",n="";for(var c=0;c<o.props.elements.length;c++){for(var u=o.props.elements[c],l=0;l<e.length;l++){var d=e[l];if(d.a===u.a){t+="".concat(d.a,":").concat(d.b,"; ");break}}n+="".concat(u.a,":").concat(u.b,"; ")}}else if(x()(o.props.options)){t="",n="";for(var p=0;p<o.props.options.length;p++){var h=o.props.options[p],f=e[p];n+="".concat(h.text,"; "),t+="".concat(f.text,"; ")}}else t=e,n=o.props.solution,x()(n)&&(t=t.join(", "),n=n.join(", "));s[i.state.current]={question:o.props?o.props.question:null,answer:t,solution:n,counter:i.state.counter}}i.setState({answered:!0,answers:s})})),(0,d.Z)((0,a.Z)(i),"handleConfidenceChange",(function(e){var t=e.target.value;ne("Choosing confidence: "+t);var n=i.state.confidences.slice();n[i.state.current]=t,i.setState({selectedConfidence:t,confidences:n})})),(0,d.Z)((0,a.Z)(i),"toggleInstructorView",(function(){i.setState({showInstructorView:!i.state.showInstructorView})})),i.id=e.id||ie(e);var o=e.questions;e.questions||(o=[]);var r=null;if(o.length>0){var c=M()(0,o.length,1);i.sample=N().factory(c,{size:1,mutate:!0,replace:!1}),r=i.sample()[0]}return i.state={answers:new Array(o.length),answered:!1,confidences:new Array(o.length),current:r,count:e.count||o.length,counter:0,finished:!1,answerSelected:!1,last:!1,selectedConfidence:null,showInstructorView:!1,showFinishModal:!1,questions:[],questionIDs:[]},i}return(0,r.Z)(n,[{key:"componentDidUpdate",value:function(e){if(ne("Component did update..."),this.props.count!==e.count||this.props.questions&&this.props.questions.length!==e.questions.length){ne("Resetting component...");var t=M()(0,this.props.questions.length,1);this.sample=N().factory(t,{size:1,mutate:!0}),this.setState({count:this.props.count||this.prop.questions.length})}}},{key:"downloadResponsesFactory",value:function(e){var t=this;return function(){var n={content:[{text:t.props.t("answer-for",{id:t.id}),style:"header",alignment:"center"}],styles:oe},i=t.context;E()(i.user)||n.content.push({text:"".concat(t.props.t("by")," ").concat(i.user.name," (").concat(i.user.email,")"),style:"author"});var o=new Date;n.content.push({text:"".concat(o.toLocaleDateString()," - ").concat(o.toLocaleTimeString()),style:"date"});for(var s=0;s<e.length;s++){var r=e[s],a=r.question,c=r.answer,u=r.solution,l=r.confidence;a=(0,P.isPrimitive)(a)?a:m()(a),c=(0,P.isPrimitive)(c)?c:m()(c),u=(0,P.isPrimitive)(u)?u:m()(u),n.content.push({text:a,style:"question"}),n.content.push({text:"".concat(t.props.t("answer"),":"),style:"boldTitle"}),n.content.push({text:c,style:{color:c===u?"#3c763d":"#d9534f",margin:[0,0,0,10]}}),l&&(n.content.push({text:"".concat(t.props.t("your-confidence"),":"),style:"boldTitle"}),n.content.push({text:l})),n.content.push({text:"".concat(t.props.t("solution"),":"),style:"boldTitle"}),n.content.push({text:(0,P.isPrimitive)(u)?u:m()(u)})}f().createPdf(n).download("responses.pdf")}}},{key:"renderScoreboard",value:function(){var e=this;if(ne("Rendering scoreboard..."),!this.props.provideFeedback)return(0,o.Z)("h3",{},void 0,this.props.t("quiz-finished"));for(var t=this.state.answers.slice(),n=0;n<t.length;n++)t[n]&&(t[n].confidence=this.state.confidences[n]);return t.sort((function(e,t){return e.counter>t.counter})),t=t.filter((function(e){return R()(e)})),(0,o.Z)("div",{},void 0,(0,o.Z)("p",{},void 0,this.props.duration?this.props.t("time-up"):this.props.t("quiz-finished"),this.props.t("summary-label"),":"),(0,o.Z)("table",{className:"table table-bordered"},void 0,(0,o.Z)("thead",{},void 0,(0,o.Z)("tr",{},void 0,(0,o.Z)("th",{},void 0,this.props.t("question")),(0,o.Z)("th",{},void 0,this.props.t("your-answer")),(0,o.Z)("th",{},void 0,this.props.t("solution")),this.props.confidence?(0,o.Z)("th",{},void 0,this.props.t("your-confidence")):null)),(0,o.Z)("tbody",{},void 0,t.map((function(t,n){var i;i=t.answer===t.solution?"quiz-right-answer":"quiz-wrong-answer";var s=t.question;se(s)&&(s=(0,J.Z)(s));var r=t.answer;se(r)&&(r=(0,J.Z)(r));var a=t.solution;return se(a)&&(a=(0,J.Z)(a)),(0,o.Z)("tr",{className:i},n,(0,o.Z)("td",{},void 0,s),(0,o.Z)("td",{},void 0,r),(0,o.Z)("td",{},void 0,a),e.props.confidence?(0,o.Z)("td",{},void 0,t.confidence):null)})))),this.props.downloadButton?(0,o.Z)(y.Z,{onClick:this.downloadResponsesFactory(t)},void 0,this.props.t("download-pdf")):null)}},{key:"renderQuestion",value:function(e,t){if(!e)return null;var n=e.props||{};switch(se(n.question)&&(ne("Question property is an object, convert to JSX..."),n.question=(0,J.Z)(n.question)),e.component){case"Fragment":case"div":return(0,J.Z)(e);case"FreeTextQuestion":return p.createElement(T.Z,(0,i.Z)({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"MultipleChoiceQuestion":return p.createElement(H.Z,(0,i.Z)({disableSubmitNotification:!0,feedback:!1,provideFeedback:"none"},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"MatchListQuestion":return p.createElement(L.Z,(0,i.Z)({disableSubmitNotification:!0,feedback:!1,showSolution:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"NumberQuestion":return p.createElement(D.Z,(0,i.Z)({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"OrderQuestion":return p.createElement(O.Z,(0,i.Z)({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"RangeQuestion":return p.createElement(V.Z,(0,i.Z)({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"SelectQuestion":return p.createElement(j.Z,(0,i.Z)({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));default:return p.createElement(e.type,(0,i.Z)({},e.props,n,{disableSubmitNotification:!0,feedback:!1,provideFeedback:!1,onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}))}}},{key:"renderConfidenceSurvey",value:function(){return this.props.confidence?(0,o.Z)(w.Z,{className:"center",style:{width:"75%"}},void 0,(0,o.Z)(b.Z,{className:"center"},void 0,(0,o.Z)(k.Z.Label,{},void 0,this.props.t("confidence-prompt")),$||($=(0,o.Z)("br",{})),(0,o.Z)(k.Z.Check,{type:"radio",label:this.props.t("guessed"),checked:"Guessed"===this.state.selectedConfidence,value:"Guessed",inline:!0,onClick:this.handleConfidenceChange})," ",(0,o.Z)(k.Z.Check,{type:"radio",label:this.props.t("somewhat-sure"),checked:"Somewhat sure"===this.state.selectedConfidence,value:"Somewhat sure",inline:!0,onClick:this.handleConfidenceChange})," ",(0,o.Z)(k.Z.Check,{type:"radio",label:this.props.t("confident"),checked:"Confident"===this.state.selectedConfidence,value:"Confident",inline:!0,onClick:this.handleConfidenceChange}))):null}},{key:"renderFooterNodes",value:function(e,t){var n,i=this;return e.props&&(n=e.props.id),n||(n="".concat(this.id,"-").concat(t)),p.Children.map(this.props.footerNodes,(function(e,t){return p.cloneElement(e,{id:"".concat(e.props.id,"-footer-").concat(n),key:"".concat(i.state.current,"-").concat(t)})}))}},{key:"render",value:function(){var e,t=this;if(ne("Rendering component..."),e=!this.state.finished&&(this.state.answered||this.state.answerSelected||this.props.skippable),this.state.showInstructorView)return(0,o.Z)(w.Z,{className:"quiz"},void 0,(0,o.Z)(w.Z.Header,{},void 0,(0,o.Z)("span",{},void 0,(0,o.Z)("h3",{style:{display:"inline-block"}},void 0,this.props.t("instructor-view")),(0,o.Z)(y.Z,{variant:"secondary",style:{float:"right"},onClick:this.toggleInstructorView},void 0,this.props.t("close-instructor-view")))),(0,o.Z)(w.Z.Body,{},void 0,this.state.questions.map((function(e,n){var i=t.state.questionIDs[n];return(0,o.Z)("div",{},n,(0,o.Z)("h3",{},void 0,t.props.t("question")," ",n+1,":"),t.renderQuestion(e,i),t.renderFooterNodes(e,n))}))),(0,o.Z)(y.Z,{className:"quiz-button",variant:"secondary",onClick:this.toggleInstructorView},void 0,this.props.t("close-instructor-view")));var n=this.state.questions[this.state.current],i=this.state.questionIDs[this.state.current];return(0,o.Z)(p.Fragment,{},void 0,this.props.duration?(0,o.Z)(I.Z,{invisible:!0,id:this.id,active:this.props.active,duration:this.props.duration,onTimeUp:function(){ne("Time is up..."),t.context.log({id:t.id,type:W.mr,value:!0}),t.setState({finished:!0},(function(){t.props.onFinished()}))}}):null,(0,o.Z)(w.Z,{className:"quiz"},void 0,(0,o.Z)(w.Z.Header,{},void 0,this.state.finished?(0,o.Z)("h3",{},void 0,this.props.t("answer-summary")):(0,o.Z)("h3",{},void 0,this.props.t("question")," ",this.state.counter+1,"/",this.state.count)),(0,o.Z)(w.Z.Body,{},void 0,p.createElement("div",{ref:function(e){t.quizBody=e}},this.state.finished?this.renderScoreboard():(0,o.Z)("span",{},this.state.current,this.renderQuestion(n,i)),this.state.finished?null:this.renderConfidenceSurvey(),n?this.renderFooterNodes(n):null,(0,o.Z)(g.Z,{style:{float:"right"}},void 0,(0,o.Z)(A.Z,{owner:!0},void 0,(0,o.Z)(y.Z,{className:"quiz-button",variant:"secondary",onClick:this.toggleInstructorView,style:{marginRight:10}},void 0,this.props.t("open-instructor-view"))),!this.props.showFinishButton&&!this.state.last||this.state.finished?null:(0,o.Z)(y.Z,{style:{marginRight:10},className:"quiz-button",variant:"secondary",onClick:this.state.last?this.handleFinishClick:this.toggleFinishModal},void 0,this.props.finishLabel||this.props.t("finish-label")),e&&!this.state.last?(0,o.Z)(y.Z,{className:"quiz-button",variant:"primary",onClick:this.handleNextClick,disabled:this.props.forceConfidence&&!this.state.selectedConfidence&&this.state.answerSelected},void 0,this.props.nextLabel||this.props.t("next-question")):null)))),(0,o.Z)(ee,{show:this.state.showFinishModal,onSubmit:this.handleFinishClick,onHide:this.toggleFinishModal,t:this.props.t}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.questions&&e.questions.length!==t.questions.length){for(var n=e.questions.length,i=new Array(n),o=0;o<n;o++){var s=e.questions[o];s.props&&s.props.id?i[o]=s.props.id:i[o]="".concat(t.id,"-").concat(o)}return{questions:e.questions,questionIDs:i}}return null}}]),n}(p.Component);re.defaultProps={confidence:!1,forceConfidence:!1,count:null,active:!0,duration:null,skippable:!0,footerNodes:[],nextLabel:null,provideFeedback:!0,showFinishButton:!1,finishLabel:null,downloadButton:!0,onFinished:function(){},onSubmit:function(){}},re.contextType=G.Z;var ae=(0,v.Z)("questions/quiz")((0,X.W)(re))},68212:function(e,t,n){"use strict";var i=n(202784),o=n(911755),s=n.n(o),r=n(588703),a=n.n(r),c=n(833022),u=n.n(c),l=n(224008),d=n.n(l),p=n(997354),h=n(600078),f=n(41460),v=n(530729),Z=n(751879),m=n(492981),b=n(155436),g=n(18110),y=n(213022),k=s()("isle:convert-json");t.Z=function e(t){k("Convert JSON ".concat(t.component," object to React element..."));var n=d()(t.children);if(a()(n))for(var o=0;o<n.length;o++){var s=n[o];u()(s)&&(n[o]=e(s))}else u()(n)&&(n=e(n));var r=t.component;switch(r){case"Fragment":r=i.Fragment;break;case"TeX":r=p.Z;break;case"FreeTextQuestion":r=h.Z;break;case"MultipleChoiceMatrix":r=v.Z;break;case"MultipleChoiceQuestion":r=f.Z;break;case"MatchListQuestion":r=Z.Z;break;case"NumberQuestion":r=m.Z;break;case"OrderQuestion":r=b.Z;break;case"RangeQuestion":r=g.Z;break;case"SelectQuestion":r=y.Z;break;default:r=t.component}var c=t.props||{};return(0,i.createElement)(r,c,n)}},783679:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(202784);function o(e){var t=(0,i.useRef)(null);return(0,i.useEffect)((function(){t.current=e})),t.current}},770561:function(e,t,n){"use strict";var i=n(607560),o=n(998283),s=n(72779),r=n.n(s),a=n(202784),c=n(429658),u=n(482695),l=["bsPrefix","variant","size","active","className","block","type","as"],d=a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.variant,d=e.size,p=e.active,h=e.className,f=e.block,v=e.type,Z=e.as,m=(0,o.Z)(e,l),b=(0,c.vE)(n,"btn"),g=r()(h,b,p&&"active",s&&b+"-"+s,f&&b+"-block",d&&b+"-"+d);if(m.href)return a.createElement(u.Z,(0,i.Z)({},m,{as:Z,ref:t,className:r()(g,m.disabled&&"disabled")}));t&&(m.ref=t),v?m.type=v:Z||(m.type="button");var y=Z||"button";return a.createElement(y,(0,i.Z)({},m,{className:g}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=d},423184:function(e,t,n){"use strict";var i=n(607560),o=n(998283),s=n(72779),r=n.n(s),a=n(202784),c=n(429658),u=["bsPrefix","size","toggle","vertical","className","as"],l=a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.size,l=e.toggle,d=e.vertical,p=e.className,h=e.as,f=void 0===h?"div":h,v=(0,o.Z)(e,u),Z=(0,c.vE)(n,"btn-group"),m=Z;return d&&(m=Z+"-vertical"),a.createElement(f,(0,i.Z)({},v,{ref:t,className:r()(p,m,s&&Z+"-"+s,l&&Z+"-toggle")}))}));l.displayName="ButtonGroup",l.defaultProps={vertical:!1,toggle:!1,role:"group"},t.Z=l},318967:function(e){"use strict";var t=function(e,t){return e+n(t)},n=function(e){return null===e||"boolean"==typeof e||void 0===e?"":"number"==typeof e?e.toString():"string"==typeof e?e:Array.isArray(e)?e.reduce(t,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?n(e.props.children):""};n.default=n,e.exports=n}}]);