/*! For license information please see LearnCausalityDiagram.9b6c80f1.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4819],{116341:function(e,t,a){a.r(t);var s=a(894578),i=a(202784),r=a(213980),o=a.n(r),l=a(198),n=a(471275),h=a(312594),p=a(458264),y=a(819906),d=a.n(y),x=a(584443),c=a(174672),b=a(188600),u=a(413262),f=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={alpha0:0,beta0:-2,ea0a1:null,eb0b2:null,eb0b1b2:null,ea0:.5,eb0:.11920292202211755,obsLHeight:null,obsRHeight:null,randomized:!1,alpha1:1},a}(0,s.Z)(t,e);var a=t.prototype;return a.renderCausalityDiagram=function(){return i.createElement(x.Z,{removeButtons:!0,data:[],layout:{xaxis:{showgrid:!1,zeroline:!1,visible:!1,range:[0,10],fixedrange:!0},yaxis:{showgrid:!1,zeroline:!1,visible:!1,range:[0,6],fixedrange:!0},annotations:[{x:10,y:6,text:this.props.y,mode:"text",font:{size:22,color:"darkblue"},axref:"x",ayref:"y",ax:10,ay:6,textangle:45},{x:this.state.beta1>0?9.5:0,y:6,text:this.props.x,ax:0,ay:6,font:{size:22,color:"darkblue"},axref:"x",ayref:"y",arrowsize:3,arrowwidth:1,arrowhead:1,textangle:320,showarrow:this.state.beta1>0},{x:this.state.beta2?10:5,y:this.state.beta2?5.5:2,text:this.props.z,textangle:0,ax:5,ay:2,font:{size:22,color:"darkblue"},axref:"x",ayref:"y",arrowsize:3,arrowwidth:1,arrowhead:1,showarrow:this.state.beta2>0},{x:.5,y:5.5,textangle:0,ax:5,ay:2.2,text:"",axref:"x",ayref:"y",arrowsize:3,arrowwidth:1,arrowhead:1,showarrow:this.state.alpha1>0}]}})},a.renderSankeyDiagram=function(){return i.createElement(x.Z,{data:[{type:"sankey",orientation:"h",arrangement:"fixed",node:{pad:40,thickness:15,line:{color:"black",width:.5},label:[this.props.z,"No "+this.props.z,this.props.x,"No "+this.props.x,this.props.y,"No "+this.props.y],color:["#B1D0F0","#EEF19D","darkgrey","darkgrey","darkgrey","darkgrey"],x:[.1,.1,.5,.5,1,1],y:[.1,.9,.1,.9,.1,.9]},link:{source:[0,0,1,1,2,2,2,2,3,3,3,3],target:[2,3,2,3,4,4,5,5,4,4,5,5],value:[.4*this.state.ea0a1,.4*(1-this.state.ea0a1),.6*this.state.ea0,.6*(1-this.state.ea0),.6*this.state.eb0b1*this.state.ea0,.4*this.state.eb0b1b2*this.state.ea0a1,.6*(1-this.state.eb0b1)*this.state.ea0,.4*(1-this.state.eb0b1b2)*this.state.ea0a1,.6*this.state.eb0*(1-this.state.ea0),.4*this.state.eb0b2*(1-this.state.ea0a1),.6*(1-this.state.eb0)*(1-this.state.ea0),.4*(1-this.state.eb0b2)*(1-this.state.ea0a1)],color:["#B1D0F0","#B1D0F0","#EEF19D","#EEF19D","#EEF19D","#B1D0F0","#EEF19D","#B1D0F0","#EEF19D","#B1D0F0","#EEF19D","#B1D0F0"]}}],layout:{font:{size:16}}})},a.renderMosaicPlots=function(){return i.createElement(p.Z,null,i.createElement(h.Z,null,i.createElement(x.Z,{data:[{mode:"text",type:"scatter",x:[.1,.7],y:[1.1,1.1],text:[this.props.x,"No "+this.props.x],textfont:{size:14,family:"Arial"},hoverinfo:"text"},{mode:"text",type:"scatter",x:[-.4,-.4],y:[.1,.9],text:["No "+this.props.y,this.props.y],textfont:{size:14,family:"Arial"},hoverinfo:"text"}],layout:{title:this.props.z,autolayout:!0,showlegend:!1,xaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,range:[-.75,1]},yaxis:{showgrid:!1,zeroline:!1,showticklabels:!1},shapes:[{x0:0,x1:this.state.ea0a1,y0:this.state.eb0b1b2,y1:0,line:{width:1},opacity:.4,type:"rect",fillcolor:"red"},{x0:this.state.ea0a1,x1:1,y0:this.state.eb0b2,y1:0,line:{width:1},opacity:.4,type:"rect",fillcolor:"blue"},{x0:0,x1:this.state.ea0a1,y0:1,y1:this.state.eb0b1b2,line:{width:1},opacity:.4,type:"rect",fillcolor:"green"},{x0:this.state.ea0a1,x1:1,y0:1,y1:this.state.eb0b2,line:{width:1},opacity:.4,type:"rect",fillcolor:"yellow"}]}})),i.createElement(h.Z,null,i.createElement(x.Z,{data:[{mode:"text",type:"scatter",x:[.1,.7],y:[1.1,1.1],text:[this.props.x,"No "+this.props.x],textfont:{size:14,family:"Arial"},hoverinfo:"text"},{mode:"text",type:"scatter",x:[-.4,-.4],y:[.1,.9],text:["No "+this.props.y,this.props.y],textfont:{size:14,family:"Arial"},hoverinfo:"text"}],layout:{title:"No "+this.props.z,autolayout:!0,showlegend:!1,xaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,range:[-.75,1]},yaxis:{showgrid:!1,zeroline:!1,showticklabels:!1},shapes:[{x0:0,x1:this.state.ea0,y0:this.state.eb0b1,y1:0,line:{width:1},opacity:.4,type:"rect",fillcolor:"red"},{x0:this.state.ea0,x1:1,y0:this.state.eb0,y1:0,line:{width:1},opacity:.4,type:"rect",fillcolor:"blue"},{x0:0,x1:this.state.ea0,y0:1,y1:this.state.eb0b1,line:{width:1},opacity:.4,type:"rect",fillcolor:"green"},{x0:this.state.ea0,x1:1,y0:1,y1:this.state.eb0,line:{width:1},opacity:.4,type:"rect",fillcolor:"yellow"}]}})),i.createElement(h.Z,null,i.createElement(x.Z,{data:[{mode:"text",type:"scatter",x:[.1,.7],y:[1.1,1.1],text:[this.props.x,"No "+this.props.x],textfont:{size:14,family:"Arial"},hoverinfo:"text"},{mode:"text",type:"scatter",x:[-.4,-.4],y:[.1,.9],text:["No "+this.props.y,this.props.y],textfont:{size:14,family:"Arial"},hoverinfo:"text"}],layout:{title:"Observed Relationship",autolayout:!0,showlegend:!1,xaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,range:[-.75,1]},yaxis:{showgrid:!1,zeroline:!1,showticklabels:!1},shapes:[{x0:0,x1:this.state.obsWidth,y0:this.state.obsLHeight,y1:0,line:{width:1},opacity:.4,type:"rect",fillcolor:"red"},{x0:this.state.obsWidth,x1:1,y0:this.state.obsRHeight,y1:0,line:{width:1},opacity:.4,type:"rect",fillcolor:"blue"},{x0:0,x1:this.state.obsWidth,y0:1,y1:this.state.obsLHeight,line:{width:1},opacity:.4,type:"rect",fillcolor:"green"},{x0:this.state.obsWidth,x1:1,y0:1,y1:this.state.obsRHeight,line:{width:1},opacity:.4,type:"rect",fillcolor:"yellow"}]}})))},a.render=function(){var e=this;return i.createElement(n.Z,{style:{backgroundColor:"white",border:"2px solid black",maxWidth:1600}},i.createElement(p.Z,null,i.createElement(h.Z,{sm:3,style:{height:"450px"}},i.createElement(c.Z,{autoUpdate:!0,onGenerate:function(t,a,s){var i=e.state,r=i.alpha0,o=i.beta0,l=i.ea0,n=i.eb0,h=i.alpha1,p=d()(r+h),y=.4*p+.6*l,x=d()(o+a),c=d()(o+a+s),b=d()(o+s),u=.6*x*l;u+=.4*c*p,u/=y;var f=.6*n*(1-l);f+=.4*b*(1-p),f/=1-y,e.setState({ea0a1:p,eb0b1b2:c,eb0b2:b,eb0b1:x,obsLHeight:u,obsRHeight:f,obsWidth:y,beta1:a,beta2:s})}},i.createElement(u.Z,{legend:"Randomized Assignment",defaultValue:this.state.randomized,onChange:function(t){e.setState({randomized:t,alpha1:t?0:1})}}),i.createElement(b.Z,{legend:i.createElement("span",null,this.props.x," \u2192 ",this.props.y),defaultValue:1,min:0,max:5,step:"any",hideTooltip:!0,numberInputStyle:{display:"none"}}),i.createElement(b.Z,{legend:i.createElement("span",null,this.props.z," \u2192 ",this.props.y),defaultValue:1,min:0,max:5,step:"any",hideTooltip:!0,numberInputStyle:{display:"none"}}),i.createElement(b.Z,{legend:i.createElement("span",null,this.props.z," \u2192 ",this.props.x),defaultValue:this.state.alpha1,min:0,max:5,step:"any",hideTooltip:!0,disabled:this.state.randomized,onChange:function(t){e.setState({alpha1:t})},numberInputStyle:{display:"none"}}))),i.createElement(h.Z,{sm:3,style:{height:"450px"}},this.renderCausalityDiagram()),i.createElement(h.Z,{sm:6,style:{height:"450px"}},this.renderSankeyDiagram())),this.renderMosaicPlots())},t}(i.Component);f.defaultProps={x:"Lights at Night",y:"Child Myopia",z:"Parental Myopia"},f.propTypes={x:o().oneOfType([o().string,o().node]),y:o().oneOfType([o().string,o().node]),z:o().oneOfType([o().string,o().node])},t.default=(0,l.Z)("learn/causality-diagram")(f)},819906:function(e,t,a){var s=a(875224);e.exports=s},875224:function(e,t,a){var s=a(422957),i=a(190465);e.exports=function(e){return s(e)?e:1/(1+i(-e))}},471275:function(e,t,a){var s=a(807896),i=a(231461),r=a(72779),o=a.n(r),l=a(202784),n=a(429658),h=["bsPrefix","fluid","as","className"],p=l.forwardRef((function(e,t){var a=e.bsPrefix,r=e.fluid,p=e.as,y=void 0===p?"div":p,d=e.className,x=(0,i.Z)(e,h),c=(0,n.vE)(a,"container"),b="string"==typeof r?"-"+r:"-fluid";return l.createElement(y,(0,s.Z)({ref:t},x,{className:o()(d,r?""+c+b:c)}))}));p.displayName="Container",p.defaultProps={fluid:!1},t.Z=p},458264:function(e,t,a){var s=a(807896),i=a(231461),r=a(72779),o=a.n(r),l=a(202784),n=a(429658),h=["bsPrefix","className","noGutters","as"],p=["xl","lg","md","sm","xs"],y=l.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,y=e.noGutters,d=e.as,x=void 0===d?"div":d,c=(0,i.Z)(e,h),b=(0,n.vE)(a,"row"),u=b+"-cols",f=[];return p.forEach((function(e){var t,a=c[e];delete c[e];var s="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"==typeof a?a.cols:a)&&f.push(""+u+s+"-"+t)})),l.createElement(x,(0,s.Z)({ref:t},c,{className:o().apply(void 0,[r,b,y&&"no-gutters"].concat(f))}))}));y.displayName="Row",y.defaultProps={noGutters:!1},t.Z=y}}]);