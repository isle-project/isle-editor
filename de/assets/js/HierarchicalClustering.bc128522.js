/*! For license information please see HierarchicalClustering.bc128522.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[40898],{303428:function(e,t,n){n.d(t,{$F:function(){return a},PB:function(){return r}});function r(e){return`data-rr-ui-${e}`}function a(e){return`rrUi${e}`}},248453:function(e,t,n){var r=n(113449);e.exports=r},113449:function(e,t,n){var r=n(384871)(n(588703));e.exports=r},338555:function(e){e.exports=function(e){if(!Array.isArray(e))throw new TypeError("argmax()::invalid input argument. Must provide an array.");for(var t,n=e.length,r=e[0],a=[0],i=1;i<n;i++)(t=e[i])>r?(r=t,a.length=0,a.push(i)):t===r&&a.push(i);return a}},801697:function(e,t,n){var r=n(87245),a=n(256881);e.exports=function(e,t,n){var i,o,s,l;if(!r(e))throw new TypeError("chebyshev()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("chebyshev()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("chebyshev()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((i=e.length)!==t.length)throw new Error("chebyshev()::invalid input arguments. Input arrays must have the same length.");if(!i)return null;if(n)for(o=(s=n(e[0],0,0)-n(t[0],0,1))<0?-s:s,l=1;l<i;l++)(s=n(e[l],l,0)-n(t[l],l,1))<0&&(s=-s),s>o&&(o=s);else for(o=(s=e[0]-t[0])<0?-s:s,l=1;l<i;l++)(s=e[l]-t[l])<0&&(s=-s),s>o&&(o=s);return o}},537213:function(e,t,n){var r=n(381618);e.exports=function(e,t,n){var a;return null!==(a=arguments.length>2?r(e,t,n):r(e,t))?1-a:a}},381618:function(e,t,n){var r=n(174119),a=n(466205),i=n(87245),o=n(256881);function s(e,t){return function(n,r){return e(n,r,t)}}e.exports=function(e,t,n){var l,u,c;if(!i(e))throw new TypeError("cosine-similarity()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!i(t))throw new TypeError("cosine-similarity()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!o(n))throw new TypeError("cosine-similarity()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if(e.length!==t.length)throw new Error("cosine-similarity()::invalid input argument. Input arrays must have the same length.");return e.length?(n?(l=r(e,t,n),u=a(e,s(n,0)),c=a(t,s(n,1))):(l=r(e,t),u=a(e),c=a(t)),l/(u*c)):null}},174119:function(e,t,n){var r=n(87245),a=n(256881);e.exports=function(e,t,n){if(!r(e))throw new TypeError("dot()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("dot()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("dot()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");var i,o=e.length,s=0;if(o!==t.length)throw new Error("dot()::invalid input argument. Arrays must be of equal length.");if(!o)return null;if(n)for(i=0;i<o;i++)s+=n(e[i],i,0)*n(t[i],i,1);else for(i=0;i<o;i++)s+=e[i]*t[i];return s}},783990:function(e,t,n){var r=n(87245),a=n(256881);e.exports=function(e,t,n){var i,o,s,l,u,c,h;if(!r(e))throw new TypeError("euclidean()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("euclidean()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("euclidean()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((i=e.length)!==t.length)throw new Error("euclidean()::invalid input arguments. Input arrays must have the same length.");if(!i)return null;if(l=0,u=1,n)for(h=0;h<i;h++)(s=(o=n(e[h],h,0)-n(t[h],h,1))<0?-o:o)>0&&(s>l?(u=1+u*(c=l/o)*c,l=s):u+=(c=o/l)*c);else for(h=0;h<i;h++)(s=(o=e[h]-t[h])<0?-o:o)>0&&(s>l?(u=1+u*(c=l/o)*c,l=s):u+=(c=o/l)*c);return l*Math.sqrt(u)}},650767:function(e,t,n){var r=n(87245),a=n(948268),i=n(256881);e.exports=function(e,t,n){var o,s,l,u=a(e),c=a(t);if(!r(e)&&!u)throw new TypeError("hamming()::invalid input argument. Sequence must be either an array or a string. Value: `"+e+"`.");if(!r(t)&&!c)throw new TypeError("hamming()::invalid input argument. Sequence must be either an array or a string. Value: `"+t+"`.");if(u!==c)throw new TypeError("hamming()::invalid input arguments. Sequences must be the same type; i.e., both strings or both arrays.");if(arguments.length>2&&!i(n))throw new TypeError("hamming()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((o=e.length)!==t.length)throw new Error("hamming()::invalid input arguments. Sequences must be the same length.");if(s=0,n)for(l=0;l<o;l++)n(e[l],l,0)!==n(t[l],l,1)&&(s+=1);else for(l=0;l<o;l++)e[l]!==t[l]&&(s+=1);return s}},466205:function(e,t,n){var r=n(87245),a=n(256881);e.exports=function(e,t){if(!r(e))throw new TypeError("l2norm()::invalid input argument. Must provide an array.  Value: `"+e+"`.");if(arguments.length>1&&!a(t))throw new TypeError("l2norm()::invalid input argument. Accessor must be a function. Value: `"+t+"`.");var n,i,o,s,l=e.length,u=0,c=1;if(!l)return null;if(t)for(s=0;s<l;s++)(o=(i=t(e[s],s))<0?-i:i)>0&&(o>u?(c=1+c*(n=u/i)*n,u=o):c+=(n=i/u)*n);else for(s=0;s<l;s++)(o=(i=e[s])<0?-i:i)>0&&(o>u?(c=1+c*(n=u/i)*n,u=o):c+=(n=i/u)*n);return u*Math.sqrt(c)}},901161:function(e,t,n){var r=n(87245),a=n(256881);e.exports=function(e,t,n){var i,o,s,l;if(!r(e))throw new TypeError("manhattan()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("manhattan()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("manhattan()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((i=e.length)!==t.length)throw new Error("manhattan()::invalid input arguments. Input arrays must have the same length.");if(!i)return null;if(o=0,n)for(l=0;l<i;l++)o+=(s=n(e[l],l,0)-n(t[l],l,1))<0?-s:s;else for(l=0;l<i;l++)o+=(s=e[l]-t[l])<0?-s:s;return o}},658092:function(e,t,n){n.d(t,{Z:function(){return a}});var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(e,t){return r(e.querySelectorAll(t))}},29383:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var r=n(202784),a=n(213980),i=n.n(a),o=n(498614),s=n(822736),l=n(686605),u=n.n(l),c=n(711768),h=n(320675),f=n(394362),m=n(627939),d=n(844918),p=Object.defineProperty,g=(e,t,n)=>(((e,t,n)=>{t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const y=(w=(e,t,n)=>{const r=d.Ys(e.current),{width:a,height:i,data:o}=t,s=40,l=40,u=a-l-0,c=i-s-0,h=t.fontSize||16;!function(e){const n=(e=>{const t=d.bT9(e);return t.dx=15,t.dy=u/(t.height+1),d.ki8().size([c,u/1.35])(t)})(e);let a=1/0,i=-a;n.each((e=>{e.x>i&&(i=e.x),e.x<a&&(a=e.x)})),n.children.forEach((function e(n){n.children&&(n._children=n.children,n._children.forEach(e),n.value<t.cutoff&&(n.children=null))}));const o=n.dy/6+l,f=n.dx-a+s,m=r.append("g").attr("font-family","sans-serif").attr("font-size",h).attr("transform",`translate(${o},${f})`);m.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1).selectAll("path").data(n.links()).join("path").attr("d",(e=>`\n\t\t\t\tM${e.target.y},${e.target.x}\n\t\t\t\tC${e.source.y+n.dy/2},${e.target.x}\n\t\t\t\t ${e.source.y+n.dy/2},${e.source.x}\n\t\t\t\t ${e.source.y},${e.source.x}\n\t\t\t`));const p=m.append("g").attr("stroke-linejoin","round").attr("stroke-width",.1875*h).selectAll("g").data(n.descendants().reverse()).join("g").attr("transform",(e=>`translate(${e.y},${e.x})`));p.append("circle").attr("fill",(e=>e.children?"#555":"#999")).attr("r",.15*h).on("click",(e=>{e.children=e.children?null:e._children})),p.append("text").attr("dy","0.1em").attr("x",(e=>e.children?-6:6)).attr("font-size",h).text((e=>e.data.name)).filter((e=>e.children)).attr("text-anchor","end").clone(!0).lower().attr("stroke","white")}(o)},class extends r.Component{constructor(){super(...arguments),g(this,"anchor",r.createRef())}componentDidMount(){w(this.anchor,this.props,this.state)}componentDidUpdate(){w(this.anchor,this.props,this.state)}render(){const{x:e,y:t}=this.props,n=this.props.component||"g";return r.createElement(n,{transform:`translate(${e}, ${t})`,ref:this.anchor})}});var w,v=y,b=n(770561),x=n(715318),E=n(112114),T=Object.defineProperty,k=(e,t,n)=>(((e,t,n)=>{t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class S extends r.Component{constructor(){super(),k(this,"toggleFullscreen",(()=>{this.setState({fullscreen:!this.state.fullscreen})})),this.state={fullscreen:!1}}render(){const{t:e}=this.props;return r.createElement(r.Fragment,null,r.createElement(E.Z,{id:"fullscreen_tooltip",placement:"bottom",tooltip:e("toggle-fullscreen")},r.createElement(b.Z,{"aria-label":e("toggle-fullscreen"),variant:"outline-danger",size:"sm",onClick:this.toggleFullscreen,style:{position:"absolute",top:"10px",right:"32px"}},r.createElement("div",{className:"fa fa-window-maximize"}))),r.createElement(x.Z,{show:this.state.fullscreen,onHide:this.toggleFullscreen,dialogClassName:"modal-100w"},r.createElement(x.Z.Header,{closeButton:!0},r.createElement(x.Z.Title,{as:"h1"},e("hierarchical-clustering"))),r.createElement(x.Z.Body,{style:{height:.75*window.innerHeight,width:"100%",fontSize:32,overflow:"scroll"}},this.props.dendrogram),r.createElement(x.Z.Footer,null,r.createElement(b.Z,{onClick:this.toggleFullscreen},e("close")))))}}S.propTypes={dendrogram:i().node.isRequired};var A=S,$=n(922730),V=n(338555),q=n.n(V),C=n(801697),O=n.n(C),R=n(537213),Z=n.n(R),j=n(783990),F=n.n(j),_=n(650767),z=n.n(_),N=n(901161),M=n.n(N),L=n(700601),P=n.n(L),D=n(830324),I=n.n(D),B=n(248453),H=n.n(B),U=n(844096),K=n.n(U),W=n(409961),G=n.n(W),X=n(557106),Y=n.n(X),J=n(783158),Q=n.n(J),ee=n(588703),te=n.n(ee);function ne(e){if(!te()(e))throw new TypeError("invalid argument. values must be an Array. Option: `"+e+"`.");const t=e;if(this._queue=[],t)for(let n=0;n<t.length;n++)this.insert(t[n])}ne.prototype.insert=function(e){const t=this.search(e);this._queue.splice(t,0,e)},ne.prototype.max=function(){return this._queue[this._queue.length-1]},ne.prototype.delMax=function(){return this._queue.pop()},ne.prototype.delete=function(e){for(let t=0;t<this.size();t++)if(this._queue[t]===e){this._queue.splice(t,1);break}},ne.prototype.reset=function(){this._queue=[]},ne.prototype.size=function(){return this._queue.length},ne.prototype.search=function(e){let t=0,n=this._queue.length;for(;t!==n;){const r=n+t>>>1;this._queue[r].sim-e.sim<=0?t=r+1:n=r}return t};var re=ne;function ae(e){return t=>t===e}function ie(e,t,n){const r=e,a=r.length,i=[],o=[],s=function(e,t){const n=[];for(let r=0;r<e;r++)n[r]=new Array(t);return n}(a,a);for(let c=0;c<a;c++){for(let e=0;e<a;e++)s[c][e]={sim:1/(1+n(r[c],r[e])),index:e};o[c]=1,i[c]=new re(s[c]),i[c].delete(s[c][c])}const l=[];function u(e,t){return 1===o[t]?e.max().sim:0}for(let c=0;c<a-1;c++){const e=q()(i.map(u))[0],n=i[e].max().index;l.push([e,n]),o[n]=0,i[e].reset();for(let r=0;r<o.length;r++)1===o[r]&&r!==e&&(i[r].delete(s[r][e]),i[r].delete(s[r][n]),s[r][e].sim=t(r,e,n,s),i[r].insert(s[r][e]),s[e][r].sim=t(r,e,n,s),i[e].insert(s[e][r]))}return l}var oe=function(e,t){let n,r,a,i,o;if(!H()(e))throw new TypeError("invalid input argument. Data must be passed as an array of arrays. Value: `"+e+"`.");if(arguments.length>1){if(!I()(t))throw new TypeError("invalid input argument. Options argument must be an object. Value: `"+t+"`.");if(P()(t,"linkage")&&(o=t.linkage,"single"!==o&&"complete"!==o))throw new TypeError('invalid option. Linkage option must be either "single" or "complete". Option: `'+o+"`.");if(P()(t,"distance")&&(i=t.distance,n=["chebyshev","cosine","euclidean","hamming","manhattan"],!n.some(ae(i))))throw new TypeError('invalid option. Distance option must be "chebyshev", "cosine", "euclidean", "hamming" or "manhattan". Option: `'+i+"`.")}if("single"===o)a=function(e,t,n,r){return Y()(r[e][t].sim,r[e][n].sim)};else a=function(e,t,n,r){return Q()(r[e][t].sim,r[e][n].sim)};switch(i){case"chebyshev":r=O();break;case"cosine":r=Z();break;case"hamming":r=z();break;case"manhattan":r=M();break;default:r=F()}const s=ie(e,a,r);function l(t){if(!K()(t))throw new TypeError("invalid argument. The number of desired clusters must be an integer. Option: `"+t+"`.");const n=[];for(let i=0;i<e.length;i++){const e=[i];n.push(e)}let r=n.length,a=0;for(;r>t;){const e=n[s[a][0]].concat(n[s[a][1]]);n[s[a][0]]=e,n[s[a][1]]=null,r--,a++}return n.filter((e=>!G()(e)))}function u(t){const n=l(t),r=new Array(e.length);for(let e=0;e<n.length;e++){const t=n[e];for(let n=0;n<t.length;n++){r[t[n]]=`${$.a.t("StatisticalModels:cluster")} ${e+1}`}}return r}function c(){const t=[];for(let r=0;r<e.length;r++){const n={};n.name=e[r].join(", "),n.value=1,t.push(n)}let n=0;for(;n<s.length;){const e={children:[t[s[n][0]],t[s[n][1]]],value:t[s[n][0]].value+t[s[n][1]].value,name:t[s[n][0]].value+t[s[n][1]].value};t[s[n][0]]=e,t[s[n][1]]=null,n++}return t[0]}return{getClusterAssignments:u,getClusters:l,getTree:c}},se=n(741082),le=Object.defineProperty,ue=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,fe=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,me=(e,t)=>{for(var n in t||(t={}))ce.call(t,n)&&fe(e,n,t[n]);if(ue)for(var n of ue(t))he.call(t,n)&&fe(e,n,t[n]);return e};const de=({data:e,variables:t,linkage:n,distance:r})=>{try{const a=[],i=e[t[0]].length;for(let n=0;n<i;n++){const r=[];for(let a=0;a<t.length;a++)r[a]=e[t[a]][n];a.push(r)}const o=oe(a,{linkage:n,distance:r}),s=o.getTree();return{matrix:a,result:o,tree:s}}catch(a){return{}}};class pe extends r.Component{constructor(e){super(e);const{data:t,variables:n,linkage:r,distance:a}=e;this.state=me(me({},de({data:t,variables:n,linkage:r,distance:a})),e),e.onResult(this.state.result)}static getDerivedStateFromProps(e,t){if(e.data!==t.data||e.variables!==t.variables||e.linkage!==t.linkage||e.distance!==t.distance){const{data:t,variables:n,linkage:r,distance:a}=e,i=me(me({},de({data:t,variables:n,linkage:r,distance:a})),e);return e.onResult(i.result),i}return null}render(){const{result:e}=this.state,{t:t}=this.props;return e?r.createElement("div",{style:{overflowX:"auto",width:"100%"}},r.createElement("span",{className:"title"},t("hierarchical-clustering-summary")),r.createElement("button",{className:"hierarchical-clustering-draggable-bar",draggable:"true",onDragStart:e=>{e.dataTransfer.setData("text/html",this.plotValue),e.dataTransfer.setData("text/plain",this.plotKey)},onClick:()=>{(0,f.Z)(this.plotValue)}},t("drag-plot")),r.createElement(A,{variant:"outline-danger",size:"sm",onClick:()=>{this.setState({fullscreen:!this.state.fullscreen})},dendrogram:r.createElement("svg",{width:window.innerWidth,height:window.innerHeight},r.createElement(v,{x:0,y:0,width:window.innerWidth,height:window.innerHeight-25,data:this.state.tree,cutoff:u()(this.state.matrix.length/20),fontSize:24}),";"),t:t},r.createElement("div",{className:"fa fa-times"})),r.createElement("div",null,r.createElement("svg",{width:650,height:375,ref:e=>{if(!this.svg){this.svg=e;const t=650,n=375,r=(0,h.e)(this.svg);(0,h.C)(r,2*t,2*n,(e=>{(0,m.Z)(e).then((e=>{const t=`<img src="${e}" style="display: block; margin: 0 auto; max-width: 100%; max-height: 100%" />`;this.plotKey=`\x3c!--IMAGE_LOG:${(0,c.Z)(6)}_${(0,c.Z)(6)}--\x3e`,this.plotValue=t}))}))}}},r.createElement(v,{x:0,y:0,width:650,height:350,data:this.state.tree,cutoff:u()(this.state.matrix.length/20)}),";"))):r.createElement(s.Z,{variant:"danger"},t("missing-attributes"))}}pe.defaultProps={linkage:"complete",distance:"euclidean",onResult(){}},pe.propTypes={data:i().object.isRequired,variables:i().arrayOf(i().string).isRequired,linkage:i().oneOf(["complete","single"]),distance:i().oneOf(["euclidean","chebyshev","cosine","hamming","manhattan"]),onResult:i().func};var ge=(0,o.Zh)("models")((0,se.W)(pe))},627939:function(e,t){t.Z=e=>{const{FileReader:t}=window,n=new t;return n.readAsDataURL(e),new Promise((e=>{n.onloadend=()=>{e(n.result)}}))}},394362:function(e,t){t.Z=function(e){const t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.opacity=0,t.style.pointerEvents="none",document.body.appendChild(t),window.getSelection().removeAllRanges();const n=document.createRange();n.selectNode(t),window.getSelection().addRange(n),document.execCommand("copy"),document.body.removeChild(t)}},320675:function(e,t,n){n.d(t,{C:function(){return c},e:function(){return u}});var r=n(588703),a=n.n(r),i=n(287013),o=n.n(i),s=n(686605),l=n.n(s);function u(e){if(!e)return"";e.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.setAttribute("style","background: white;");!function(e,t){const n=document.createElement("style");if(n.setAttribute("type","text/css"),n.innerHTML=e,a()(t.children)){const e=t.children[0]||null;t.insertBefore(n,e)}}(function(e){const t=[];if(t.push("#"+e.id),a()(e.classList))for(let a=0;a<e.classList.length;a++)o()(t,"."+e.classList[a])||t.push("."+e.classList[a]);const n=e.getElementsByTagName("*");for(let s=0;s<n.length;s++){const e=n[s].id;o()(t,"#"+e)||t.push("#"+e);const r=n[s].classList;if(a()(r))for(let n=0;n<r.length;n++)o()(t,"."+r[n])||t.push("."+r[n])}let r="";for(let a=0;a<document.styleSheets.length;a++){const e=document.styleSheets[a];try{if(!e.cssRules)continue}catch(i){if("SecurityError"!==i.name)throw i;continue}const n=e.cssRules;for(let a=0;a<n.length;a++)o()(t,n[a].selectorText)&&(r+=n[a].cssText)}return r}(e),e);let t=(new XMLSerializer).serializeToString(e);return t=t.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),t=t.replace(/NS\d+:href/g,"xlink:href"),t}function c(e,t,n,r){const a="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),i=document.createElement("canvas"),o=i.getContext("2d");i.width=t,i.height=n;const s=new Image;s.onload=function(){o.clearRect(0,0,t,n),o.drawImage(s,0,0,t,n),i.toBlob((function(e){const t=l()(e.length/1024)+" KB";if(r)return r(e,t)}))},s.src=a}},770561:function(e,t,n){var r=n(72779),a=n.n(r),i=n(202784),o=n(247830),s=n(429658),l=n(552322);const u=i.forwardRef((({as:e,bsPrefix:t,variant:n,size:r,active:i,className:u,...c},h)=>{const f=(0,s.vE)(t,"btn"),[m,{tagName:d}]=(0,o.FT)({tagName:e,...c}),p=d;return(0,l.jsx)(p,{...m,...c,ref:h,className:a()(u,f,i&&"active",n&&`${f}-${n}`,r&&`${f}-${r}`,c.href&&c.disabled&&"disabled")})}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=u},87245:function(e){e.exports=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},256881:function(e){e.exports=function(e){return"function"==typeof e}},948268:function(e){e.exports=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}}}]);