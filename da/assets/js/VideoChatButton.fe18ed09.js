"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12273],{276235:function(t,e,s){s.r(e);var o=s(202784),i=s(213980),n=s.n(i),p=s(690299),r=s.n(p),a=s(498614),l=s(770561),h=s(112114),c=s(770149),u=s(123103),b=s(302108),d=Object.defineProperty,m=(t,e,s)=>(((t,e,s)=>{e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);const f=r()("isle:video-chat-button");class g extends o.Component{constructor(t){super(t),m(this,"toggleVideoChat",(t=>{const e=!this.state.opened;this.props.onClick(t,e),this.setState({opened:e},(()=>{const t=this.context;e?(f(`Should join chat for component with id '${this.props.for}'...`),t.joinVideoChat({name:this.props.for,subject:this.props.subject||this.props.for})):(f(`Should leave chat for component with id '${this.props.for}'...`),t.leaveVideoChat(this.props.for))}))})),this.state={opened:!1}}componentDidMount(){const t=this.context;this.unsubscribe=t.subscribe(((t,e)=>{t===b.q&&e===this.props.for?this.setState({opened:!0}):t===b.lK&&e===this.props.for?this.setState({opened:!1}):t!==b.O4&&t!==b.YQ||this.forceUpdate()}))}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){const t=this.context,{t:e}=this.props;let s,i,n;if(s=this.props.buttonLabel?this.props.buttonLabel:this.state.opened?e("leave"):e("join"),i=this.props.buttonVariant?this.props.buttonVariant:this.state.opened?"success":"secondary",!t.jitsi)return o.createElement(l.Z,{disabled:!0,name:"Video Chat",variant:i,size:this.props.size,className:this.props.className,style:this.props.style,"aria-disabled":"true","aria-label":e("disabled")},s);n=this.props.tooltip?this.props.tooltip:this.state.opened?e("leave-id",{id:this.props.for}):e("join-id",{id:this.props.for});let p=o.createElement(l.Z,{name:"Video Chat",variant:i,size:this.props.size,className:this.props.className,onClick:this.toggleVideoChat,style:this.props.style,"aria-label":e("toggle")},o.createElement("span",{style:{pointerEvents:"none"}},s));return this.props.showTooltip&&(p=o.createElement(h.Z,{tooltip:n,placement:this.props.tooltipPlacement},p)),o.createElement(c.Z,{user:!0,banner:null},p)}}g.propTypes={for:n().string.isRequired,subject:n().string,buttonLabel:n().node,showTooltip:n().bool,size:n().string,buttonVariant:n().string,tooltipPlacement:n().oneOf(["left","top","right","bottom"]),onClick:n().func,className:n().string,style:n().object},g.defaultProps={subject:null,buttonLabel:null,showTooltip:!0,size:"sm",buttonVariant:null,tooltipPlacement:"top",onClick(){},className:"",style:{}},g.contextType=u.Z,e.default=(0,a.Zh)("video")(g)}}]);