"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2044],{667045:function(e,n,t){const s=(0,t(217431).Z)((()=>t.e(112).then(t.bind(t,497925))));n.Z=s},956260:function(e,n,t){var s=t(202784),a=t(213980),l=t.n(a),r=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,n,t)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const m=e=>{const n=e,{children:t}=n,a=((e,n)=>{var t={};for(var s in e)o.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&i)for(var s of i(e))n.indexOf(s)<0&&u.call(e,s)&&(t[s]=e[s]);return t})(n,["children"]);return s.createElement("div",((e,n)=>{for(var t in n||(n={}))o.call(n,t)&&c(e,t,n[t]);if(i)for(var t of i(n))u.call(n,t)&&c(e,t,n[t]);return e})({},a),t)};m.defaultProps={className:"",style:{}},m.propTypes={className:l().string,style:l().object},n.Z=m},370420:function(e,n,t){const s=(0,t(217431).Z)((()=>t.e(6131).then(t.bind(t,66720))));n.Z=s},800712:function(e,n,t){const s=(0,t(217431).Z)((()=>Promise.all([t.e(3312),t.e(4507)]).then(t.bind(t,307125))));n.Z=s},556146:function(e,n,t){t.r(n);var s=t(202784),a=t(213980),l=t.n(a),r=t(376699),i=t(482228),o=t(790817),u=t(223444),c=t(690299),m=t.n(c),b=t(109918),p=t.n(b),d=t(395465),f=t.n(d),g=t(783158),y=t.n(g),h=t(557106),w=t.n(h),k=t(74039),v=t.n(k),C=t(316305),E=t.n(C),Z=t(871199),O=t.n(Z),x=t(417332),N=t(370420),P=t(514921),T=t(956260),S=t(506078),q=t(667045),F=t(172888),L=t(800712),j=t(123103),$=t(691334),B=t(741082);const z=m()("isle:range-question"),A=(0,x.Z)("range-question"),R=e=>{const n=e.id||A(e),{digits:t,min:a,max:l,points:c,question:m,solution:b,until:p,feedback:d,style:f,provideFeedback:g,submitAfterFeedback:h,hints:k,nTries:C,chat:Z,labels:x,onChangeUpper:B,onChangeLower:R,onChange:U,onSubmit:K}=e,V=(0,s.useContext)(j.Z),[D,I]=(0,s.useState)(a),[J,W]=(0,s.useState)(l),[_,G]=(0,s.useState)(!1),[H,M]=(0,s.useState)({lower:!1,upper:!1}),[Q,X]=(0,s.useState)(0),{t:Y}=(0,r.$)("questions/range"),ee=(0,s.useCallback)((e=>{W(e),B(w()(e,D)),U([D,w()(e,D)])}),[D,U,B]),ne=(0,s.useCallback)((e=>{I(e),R(y()(e,J)),U([y()(e,J),J])}),[J,U,R]),te=(0,s.useCallback)((e=>{e<=D&&W(D)}),[D]),se=(0,s.useCallback)((e=>{e>=J&&I(J)}),[J]),ae=(0,s.useCallback)((e=>{z("Logging hint..."),V.log({id:n,type:$.fk,value:e})}),[n,V]),le=(0,s.useCallback)((()=>{let e={lower:!1,upper:!1};const s=parseFloat(D),a=parseFloat(J);if(O()(b))K(null,[s,a]),V.addNotification({title:Y(_?"answer-resubmitted":"answer-submitted"),message:Y(_?"resubmission-message":"submission-message"),level:"success"});else if(null===t?(e.lower=s===b[0],e.upper=a===b[1]):(e.lower=v()(s,-t)===v()(b[0],-t),e.upper=v()(a,-t)===v()(b[1],-t)),K(e,[s,a]),g){let n,t;e.lower&&e.upper?(n=Y("submission-correct"),t="success"):(n=Q+1<C?Y("submission-try-again")+" ("+Y("tries",{count:C-Q+1})+").":Y("submission-incorrect"),t="error"),V.addNotification({title:Y("answer-submitted"),message:n,level:t})}else V.addNotification({title:Y(_?"answer-resubmitted":"answer-submitted"),message:Y(_?"resubmission-message":"submission-message"),level:"info"});G(!0),M(e),X(Q+1),V.log({id:n,type:$.lk,value:JSON.stringify([D,J])})}),[t,n,D,J,K,Q,C,g,V,b,_,Y]),re=(0,s.useCallback)((e=>{13===e.charCode&&(document&&document.activeElement&&(z("Trigger blur event..."),document.activeElement.blur()),setTimeout(le,50))}),[le]);(0,s.useEffect)((()=>{!b||E()(b[1])||E()(b[0])||(I(a),W(l),G(!1),M({lower:!1,upper:!1}))}),[m,b,a,l]);const ie=null!==b,oe=_&&ie&&(Q>=e.nTries&&!h||H.lower&&H.upper),ue=k.length;return s.createElement(o.Z,{id:n,className:"range-question",style:f},s.createElement(o.Z.Body,{style:{width:d?"calc(100%-60px)":"100%",display:"inline-block"}},m?s.createElement("label",null,m):null,s.createElement("div",{className:"range-question-input-wrapper"},s.createElement(S.Z,{step:"any",legend:x?x[0]:Y("lower"),onChange:ne,defaultValue:D,disabled:oe||H.lower,inline:!0,width:90,min:a,max:l,numbersOnly:!1,onBlur:se,onKeyPress:re}),_&&ie&&g?s.createElement(u.Z,{bg:H.lower?"success":"danger",style:{fontSize:18}},H.lower?Y("correct"):Q>=C?`${Y("solution")}:   ${b[0]}`:`${Y("try-again")}`):null,s.createElement(S.Z,{step:"any",legend:x?x[1]:Y("upper"),onChange:ee,defaultValue:J,disabled:oe||H.upper,inline:!0,width:90,min:a,max:l,numbersOnly:!1,onBlur:te,onKeyPress:re}),_&&ie&&g?s.createElement(u.Z,{bg:H.upper?"success":"danger",style:{fontSize:18}},H.upper?Y("correct"):Q>=C?`${Y("solution")}:   ${b[1]}`:`${Y("try-again")}`):null),s.createElement(i.Z,{className:"range-question-toolbar"},s.createElement(T.Z,{buttonLabel:Y("answers"),id:n,data:{type:"range",question:m,solution:b},info:$.lk,style:{marginLeft:"3px",marginRight:"3px"},points:c}),ue>0?s.createElement(q.Z,{onClick:ae,hints:k,placement:e.hintPlacement}):null,Z?s.createElement("div",{style:{display:"inline-block",marginLeft:"4px"}},s.createElement(N.Z,{for:n})):null,p&&V.startTime>p?s.createElement("span",{className:"title",style:{marginLeft:4}},Y("question-closed")):s.createElement(P.Z,{className:"submit-button",variant:"primary",size:"sm",disabled:oe,onClick:le},Y(_&&h?"resubmit":"submit"))),d?s.createElement(F.Z,{id:n+"_feedback",style:{marginRight:5,marginTop:-5}}):null,s.createElement(L.Z,{for:n,points:c})))};R.defaultProps={question:"",solution:null,hints:[],hintPlacement:"top",labels:null,feedback:!0,chat:!1,digits:3,max:p(),min:f(),nTries:1,provideFeedback:!0,submitAfterFeedback:!1,until:null,points:10,style:{},onChangeUpper(){},onChangeLower(){},onChange(){},onSubmit(){}},R.propTypes={question:l().oneOfType([l().string,l().node]),solution:l().arrayOf(l().number),hintPlacement:l().string,hints:l().arrayOf(l().oneOfType([l().string,l().node])),labels:l().array,feedback:l().bool,chat:l().bool,digits:l().number,max:l().number,min:l().number,nTries:l().number,provideFeedback:l().bool,submitAfterFeedback:l().bool,until:l().instanceOf(Date),points:l().number,style:l().object,onChangeLower:l().func,onChangeUpper:l().func,onChange:l().func,onSubmit:l().func},n.default=(0,B.W)(R)},482228:function(e,n,t){var s=t(72779),a=t.n(s),l=t(202784),r=t(429658),i=t(552322);const o=l.forwardRef((({bsPrefix:e,className:n,...t},s)=>{const l=(0,r.vE)(e,"btn-toolbar");return(0,i.jsx)("div",{...t,ref:s,className:a()(n,l)})}));o.displayName="ButtonToolbar",o.defaultProps={role:"toolbar"},n.Z=o}}]);