"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6588],{460183:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var r=s(894578),a=s(867855),o=s(202784),n=s(213980),i=s.n(n),l=s(822736),h=s(872204);class g extends h.X{constructor(t,e,s){super(),this.matrix=t,this.rows=e,this.columns=s}}class f extends g{constructor(t){super(t,t.columns,t.rows)}set(t,e,s){return this.matrix.set(e,t,s),this}get(t,e){return this.matrix.get(e,t)}}var c=s(49909),u=s(70756),m=s(31845);class d{constructor(t,e={}){const{assumeSymmetric:s=!1}=e;if(!(t=u.Z.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let r,a,o=t.columns,n=new h.Z(o,o),i=new Float64Array(o),l=new Float64Array(o),g=t,f=!1;if(f=!!s||t.isSymmetric(),f){for(r=0;r<o;r++)for(a=0;a<o;a++)n.set(r,a,g.get(r,a));!function(t,e,s,r){let a,o,n,i,l,h,g,f;for(l=0;l<t;l++)s[l]=r.get(t-1,l);for(i=t-1;i>0;i--){for(f=0,n=0,h=0;h<i;h++)f+=Math.abs(s[h]);if(0===f)for(e[i]=s[i-1],l=0;l<i;l++)s[l]=r.get(i-1,l),r.set(i,l,0),r.set(l,i,0);else{for(h=0;h<i;h++)s[h]/=f,n+=s[h]*s[h];for(a=s[i-1],o=Math.sqrt(n),a>0&&(o=-o),e[i]=f*o,n-=a*o,s[i-1]=a-o,l=0;l<i;l++)e[l]=0;for(l=0;l<i;l++){for(a=s[l],r.set(l,i,a),o=e[l]+r.get(l,l)*a,h=l+1;h<=i-1;h++)o+=r.get(h,l)*s[h],e[h]+=r.get(h,l)*a;e[l]=o}for(a=0,l=0;l<i;l++)e[l]/=n,a+=e[l]*s[l];for(g=a/(n+n),l=0;l<i;l++)e[l]-=g*s[l];for(l=0;l<i;l++){for(a=s[l],o=e[l],h=l;h<=i-1;h++)r.set(h,l,r.get(h,l)-(a*e[h]+o*s[h]));s[l]=r.get(i-1,l),r.set(i,l,0)}}s[i]=n}for(i=0;i<t-1;i++){if(r.set(t-1,i,r.get(i,i)),r.set(i,i,1),n=s[i+1],0!==n){for(h=0;h<=i;h++)s[h]=r.get(h,i+1)/n;for(l=0;l<=i;l++){for(o=0,h=0;h<=i;h++)o+=r.get(h,i+1)*r.get(h,l);for(h=0;h<=i;h++)r.set(h,l,r.get(h,l)-o*s[h])}}for(h=0;h<=i;h++)r.set(h,i+1,0)}for(l=0;l<t;l++)s[l]=r.get(t-1,l),r.set(t-1,l,0);r.set(t-1,t-1,1),e[0]=0}(o,l,i,n),function(t,e,s,r){let a,o,n,i,l,h,g,f,c,u,d,p,b,M,v,w,x;for(n=1;n<t;n++)e[n-1]=e[n];e[t-1]=0;let E=0,S=0,y=Number.EPSILON;for(h=0;h<t;h++){for(S=Math.max(S,Math.abs(s[h])+Math.abs(e[h])),g=h;g<t&&!(Math.abs(e[g])<=y*S);)g++;if(g>h){x=0;do{for(x+=1,a=s[h],f=(s[h+1]-a)/(2*e[h]),c=(0,m.G)(f,1),f<0&&(c=-c),s[h]=e[h]/(f+c),s[h+1]=e[h]*(f+c),u=s[h+1],o=a-s[h],n=h+2;n<t;n++)s[n]-=o;for(E+=o,f=s[g],d=1,p=d,b=d,M=e[h+1],v=0,w=0,n=g-1;n>=h;n--)for(b=p,p=d,w=v,a=d*e[n],o=d*f,c=(0,m.G)(f,e[n]),e[n+1]=v*c,v=e[n]/c,d=f/c,f=d*s[n]-v*a,s[n+1]=o+v*(d*a+v*s[n]),l=0;l<t;l++)o=r.get(l,n+1),r.set(l,n+1,v*r.get(l,n)+d*o),r.set(l,n,d*r.get(l,n)-v*o);f=-v*w*b*M*e[h]/u,e[h]=v*f,s[h]=d*f}while(Math.abs(e[h])>y*S)}s[h]=s[h]+E,e[h]=0}for(n=0;n<t-1;n++){for(l=n,f=s[n],i=n+1;i<t;i++)s[i]<f&&(l=i,f=s[i]);if(l!==n)for(s[l]=s[n],s[n]=f,i=0;i<t;i++)f=r.get(i,n),r.set(i,n,r.get(i,l)),r.set(i,l,f)}}(o,l,i,n)}else{let t=new h.Z(o,o),e=new Float64Array(o);for(a=0;a<o;a++)for(r=0;r<o;r++)t.set(r,a,g.get(r,a));!function(t,e,s,r){let a,o,n,i,l,h,g,f=0,c=t-1;for(h=f+1;h<=c-1;h++){for(g=0,i=h;i<=c;i++)g+=Math.abs(e.get(i,h-1));if(0!==g){for(n=0,i=c;i>=h;i--)s[i]=e.get(i,h-1)/g,n+=s[i]*s[i];for(o=Math.sqrt(n),s[h]>0&&(o=-o),n-=s[h]*o,s[h]=s[h]-o,l=h;l<t;l++){for(a=0,i=c;i>=h;i--)a+=s[i]*e.get(i,l);for(a/=n,i=h;i<=c;i++)e.set(i,l,e.get(i,l)-a*s[i])}for(i=0;i<=c;i++){for(a=0,l=c;l>=h;l--)a+=s[l]*e.get(i,l);for(a/=n,l=h;l<=c;l++)e.set(i,l,e.get(i,l)-a*s[l])}s[h]=g*s[h],e.set(h,h-1,g*o)}}for(i=0;i<t;i++)for(l=0;l<t;l++)r.set(i,l,i===l?1:0);for(h=c-1;h>=f+1;h--)if(0!==e.get(h,h-1)){for(i=h+1;i<=c;i++)s[i]=e.get(i,h-1);for(l=h;l<=c;l++){for(o=0,i=h;i<=c;i++)o+=s[i]*r.get(i,l);for(o=o/s[h]/e.get(h,h-1),i=h;i<=c;i++)r.set(i,l,r.get(i,l)+o*s[i])}}}(o,t,e,n),function(t,e,s,r,a){let o,n,i,l,h,g,f,c,u,m,d,b,M,v,w,x=t-1,E=0,S=t-1,y=Number.EPSILON,V=0,Z=0,C=0,N=0,R=0,U=0,k=0,F=0;for(o=0;o<t;o++)for((o<E||o>S)&&(s[o]=a.get(o,o),e[o]=0),n=Math.max(o-1,0);n<t;n++)Z+=Math.abs(a.get(o,n));for(;x>=E;){for(l=x;l>E&&(U=Math.abs(a.get(l-1,l-1))+Math.abs(a.get(l,l)),0===U&&(U=Z),!(Math.abs(a.get(l,l-1))<y*U));)l--;if(l===x)a.set(x,x,a.get(x,x)+V),s[x]=a.get(x,x),e[x]=0,x--,F=0;else if(l===x-1){if(f=a.get(x,x-1)*a.get(x-1,x),C=(a.get(x-1,x-1)-a.get(x,x))/2,N=C*C+f,k=Math.sqrt(Math.abs(N)),a.set(x,x,a.get(x,x)+V),a.set(x-1,x-1,a.get(x-1,x-1)+V),c=a.get(x,x),N>=0){for(k=C>=0?C+k:C-k,s[x-1]=c+k,s[x]=s[x-1],0!==k&&(s[x]=c-f/k),e[x-1]=0,e[x]=0,c=a.get(x,x-1),U=Math.abs(c)+Math.abs(k),C=c/U,N=k/U,R=Math.sqrt(C*C+N*N),C/=R,N/=R,n=x-1;n<t;n++)k=a.get(x-1,n),a.set(x-1,n,N*k+C*a.get(x,n)),a.set(x,n,N*a.get(x,n)-C*k);for(o=0;o<=x;o++)k=a.get(o,x-1),a.set(o,x-1,N*k+C*a.get(o,x)),a.set(o,x,N*a.get(o,x)-C*k);for(o=E;o<=S;o++)k=r.get(o,x-1),r.set(o,x-1,N*k+C*r.get(o,x)),r.set(o,x,N*r.get(o,x)-C*k)}else s[x-1]=c+C,s[x]=c+C,e[x-1]=k,e[x]=-k;x-=2,F=0}else{if(c=a.get(x,x),u=0,f=0,l<x&&(u=a.get(x-1,x-1),f=a.get(x,x-1)*a.get(x-1,x)),10===F){for(V+=c,o=E;o<=x;o++)a.set(o,o,a.get(o,o)-c);U=Math.abs(a.get(x,x-1))+Math.abs(a.get(x-1,x-2)),c=u=.75*U,f=-.4375*U*U}if(30===F&&(U=(u-c)/2,U=U*U+f,U>0)){for(U=Math.sqrt(U),u<c&&(U=-U),U=c-f/((u-c)/2+U),o=E;o<=x;o++)a.set(o,o,a.get(o,o)-U);V+=U,c=u=f=.964}for(F+=1,h=x-2;h>=l&&(k=a.get(h,h),R=c-k,U=u-k,C=(R*U-f)/a.get(h+1,h)+a.get(h,h+1),N=a.get(h+1,h+1)-k-R-U,R=a.get(h+2,h+1),U=Math.abs(C)+Math.abs(N)+Math.abs(R),C/=U,N/=U,R/=U,h!==l)&&!(Math.abs(a.get(h,h-1))*(Math.abs(N)+Math.abs(R))<y*(Math.abs(C)*(Math.abs(a.get(h-1,h-1))+Math.abs(k)+Math.abs(a.get(h+1,h+1)))));)h--;for(o=h+2;o<=x;o++)a.set(o,o-2,0),o>h+2&&a.set(o,o-3,0);for(i=h;i<=x-1&&(v=i!==x-1,i!==h&&(C=a.get(i,i-1),N=a.get(i+1,i-1),R=v?a.get(i+2,i-1):0,c=Math.abs(C)+Math.abs(N)+Math.abs(R),0!==c&&(C/=c,N/=c,R/=c)),0!==c);i++)if(U=Math.sqrt(C*C+N*N+R*R),C<0&&(U=-U),0!==U){for(i!==h?a.set(i,i-1,-U*c):l!==h&&a.set(i,i-1,-a.get(i,i-1)),C+=U,c=C/U,u=N/U,k=R/U,N/=C,R/=C,n=i;n<t;n++)C=a.get(i,n)+N*a.get(i+1,n),v&&(C+=R*a.get(i+2,n),a.set(i+2,n,a.get(i+2,n)-C*k)),a.set(i,n,a.get(i,n)-C*c),a.set(i+1,n,a.get(i+1,n)-C*u);for(o=0;o<=Math.min(x,i+3);o++)C=c*a.get(o,i)+u*a.get(o,i+1),v&&(C+=k*a.get(o,i+2),a.set(o,i+2,a.get(o,i+2)-C*R)),a.set(o,i,a.get(o,i)-C),a.set(o,i+1,a.get(o,i+1)-C*N);for(o=E;o<=S;o++)C=c*r.get(o,i)+u*r.get(o,i+1),v&&(C+=k*r.get(o,i+2),r.set(o,i+2,r.get(o,i+2)-C*R)),r.set(o,i,r.get(o,i)-C),r.set(o,i+1,r.get(o,i+1)-C*N)}}}if(0===Z)return;for(x=t-1;x>=0;x--)if(C=s[x],N=e[x],0===N)for(l=x,a.set(x,x,1),o=x-1;o>=0;o--){for(f=a.get(o,o)-C,R=0,n=l;n<=x;n++)R+=a.get(o,n)*a.get(n,x);if(e[o]<0)k=f,U=R;else if(l=o,0===e[o]?a.set(o,x,0!==f?-R/f:-R/(y*Z)):(c=a.get(o,o+1),u=a.get(o+1,o),N=(s[o]-C)*(s[o]-C)+e[o]*e[o],g=(c*U-k*R)/N,a.set(o,x,g),a.set(o+1,x,Math.abs(c)>Math.abs(k)?(-R-f*g)/c:(-U-u*g)/k)),g=Math.abs(a.get(o,x)),y*g*g>1)for(n=o;n<=x;n++)a.set(n,x,a.get(n,x)/g)}else if(N<0)for(l=x-1,Math.abs(a.get(x,x-1))>Math.abs(a.get(x-1,x))?(a.set(x-1,x-1,N/a.get(x,x-1)),a.set(x-1,x,-(a.get(x,x)-C)/a.get(x,x-1))):(w=p(0,-a.get(x-1,x),a.get(x-1,x-1)-C,N),a.set(x-1,x-1,w[0]),a.set(x-1,x,w[1])),a.set(x,x-1,0),a.set(x,x,1),o=x-2;o>=0;o--){for(m=0,d=0,n=l;n<=x;n++)m+=a.get(o,n)*a.get(n,x-1),d+=a.get(o,n)*a.get(n,x);if(f=a.get(o,o)-C,e[o]<0)k=f,R=m,U=d;else if(l=o,0===e[o]?(w=p(-m,-d,f,N),a.set(o,x-1,w[0]),a.set(o,x,w[1])):(c=a.get(o,o+1),u=a.get(o+1,o),b=(s[o]-C)*(s[o]-C)+e[o]*e[o]-N*N,M=2*(s[o]-C)*N,0===b&&0===M&&(b=y*Z*(Math.abs(f)+Math.abs(N)+Math.abs(c)+Math.abs(u)+Math.abs(k))),w=p(c*R-k*m+N*d,c*U-k*d-N*m,b,M),a.set(o,x-1,w[0]),a.set(o,x,w[1]),Math.abs(c)>Math.abs(k)+Math.abs(N)?(a.set(o+1,x-1,(-m-f*a.get(o,x-1)+N*a.get(o,x))/c),a.set(o+1,x,(-d-f*a.get(o,x)-N*a.get(o,x-1))/c)):(w=p(-R-u*a.get(o,x-1),-U-u*a.get(o,x),k,N),a.set(o+1,x-1,w[0]),a.set(o+1,x,w[1]))),g=Math.max(Math.abs(a.get(o,x-1)),Math.abs(a.get(o,x))),y*g*g>1)for(n=o;n<=x;n++)a.set(n,x-1,a.get(n,x-1)/g),a.set(n,x,a.get(n,x)/g)}for(o=0;o<t;o++)if(o<E||o>S)for(n=o;n<t;n++)r.set(o,n,a.get(o,n));for(n=t-1;n>=E;n--)for(o=E;o<=S;o++){for(k=0,i=E;i<=Math.min(n,S);i++)k+=r.get(o,i)*a.get(i,n);r.set(o,n,k)}}(o,l,i,n,t)}this.n=o,this.e=l,this.d=i,this.V=n}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,s=this.n,r=this.e,a=this.d,o=new h.Z(s,s);for(t=0;t<s;t++){for(e=0;e<s;e++)o.set(t,e,0);o.set(t,t,a[t]),r[t]>0?o.set(t,t+1,r[t]):r[t]<0&&o.set(t,t-1,r[t])}return o}}function p(t,e,s,r){let a,o;return Math.abs(s)>Math.abs(r)?(a=r/s,o=s+a*r,[(t+a*e)/o,(e-a*t)/o]):(a=s/r,o=r+a*s,[(a*t+e)/o,(a*e-t)/o])}var b=s(835042);class M{constructor(t,e={}){t=u.Z.checkMatrix(t);let{Y:s}=e;const{scaleScores:r=!1,maxIterations:a=1e3,terminationCriteria:o=1e-10}=e;let n;if(s){if(s=(0,b.N)(s)&&"number"==typeof s[0]?h.Z.columnVector(s):u.Z.checkMatrix(s),s.rows!==t.rows)throw new Error("Y should have the same number of rows as X");n=s.getColumnVector(0)}else n=t.getColumnVector(0);let i,l,g,f,c=1;for(let h=0;h<a&&c>o;h++)g=t.transpose().mmul(n).div(n.transpose().mmul(n).get(0,0)),g=g.div(g.norm()),i=t.mmul(g).div(g.transpose().mmul(g).get(0,0)),h>0&&(c=i.clone().sub(f).pow(2).sum()),f=i.clone(),s?(l=s.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0)),l=l.div(l.norm()),n=s.mmul(l).div(l.transpose().mmul(l).get(0,0))):n=i;if(s){let e=t.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0));e=e.div(e.norm());let r=t.clone().sub(i.clone().mmul(e.transpose())),a=n.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0)),o=s.clone().sub(i.clone().mulS(a.get(0,0)).mmul(l.transpose()));this.t=i,this.p=e.transpose(),this.w=g.transpose(),this.q=l,this.u=n,this.s=i.transpose().mmul(i),this.xResidual=r,this.yResidual=o,this.betas=a}else this.w=g.transpose(),this.s=i.transpose().mmul(i).sqrt(),this.t=r?i.clone().div(this.s.get(0,0)):i,this.xResidual=t.sub(i.mmul(g.transpose()))}}class v{constructor(t,e={}){if(!0===t){const t=e;return this.center=t.center,this.scale=t.scale,this.means=t.means,this.stdevs=t.stdevs,this.U=h.Z.checkMatrix(t.U),this.S=t.S,this.R=t.R,void(this.excludedFeatures=t.excludedFeatures||[])}t=new h.Z(t);const{isCovarianceMatrix:s=!1,method:r="SVD",nCompNIPALS:a=2,center:o=!0,scale:n=!1,ignoreZeroVariance:i=!1}=e;if(this.center=o,this.scale=n,this.means=null,this.stdevs=null,this.excludedFeatures=[],s)this._computeFromCovarianceMatrix(t);else switch(this._adjust(t,i),r){case"covarianceMatrix":{const e=new f(t).mmul(t).div(t.rows-1);this._computeFromCovarianceMatrix(e);break}case"NIPALS":this._computeWithNIPALS(t,a);break;case"SVD":{const e=new c.Z(t,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=e.rightSingularVectors;const s=e.diagonal,r=[];for(const a of s)r.push(a*a/(t.rows-1));this.S=r;break}default:throw new Error(`unknown method: ${r}`)}}static load(t){if("string"!=typeof t.name)throw new TypeError("model must have a name property");if("PCA"!==t.name)throw new RangeError(`invalid model: ${t.name}`);return new v(!0,t)}predict(t,e={}){const{nComponents:s=this.U.columns}=e;if(t=new h.Z(t),this.center&&(t.subRowVector(this.means),this.scale)){for(let e of this.excludedFeatures)t.removeColumn(e);t.divRowVector(this.stdevs)}let r=t.mmul(this.U);return r.subMatrix(0,r.rows-1,0,s-1)}invert(t){let e=(t=h.Z.checkMatrix(t)).mmul(this.U.transpose());return this.center&&(this.scale&&e.mulRowVector(this.stdevs),e.addRowVector(this.means)),e}getExplainedVariance(){let t=0;for(const e of this.S)t+=e;return this.S.map((e=>e/t))}getCumulativeVariance(){let t=this.getExplainedVariance();for(let e=1;e<t.length;e++)t[e]+=t[e-1];return t}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map((t=>Math.sqrt(t)))}getLoadings(){return this.U.transpose()}toJSON(){return{name:"PCA",center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S,excludedFeatures:this.excludedFeatures}}_adjust(t,e){if(this.center){const s=t.mean("column"),r=this.scale?t.standardDeviation("column",{mean:s}):null;if(this.means=s,t.subRowVector(s),this.scale){for(let s=0;s<r.length;s++)if(0===r[s]){if(!e)throw new RangeError(`Cannot scale the dataset (standard deviation is zero at index ${s}`);t.removeColumn(s),r.splice(s,1),this.excludedFeatures.push(s),s--}this.stdevs=r,t.divRowVector(r)}}}_computeFromCovarianceMatrix(t){const e=new d(t,{assumeSymmetric:!0});this.U=e.eigenvectorMatrix,this.U.flipRows(),this.S=e.realEigenvalues,this.S.reverse()}_computeWithNIPALS(t,e){this.U=new h.Z(e,t.columns),this.S=[];let s=t;for(let r=0;r<e;r++){let t=new M(s);this.U.setRow(r,t.w.transpose()),this.S.push(Math.pow(t.s.get(0,0),2)),s=t.xResidual}this.U=this.U.transpose()}}var w=s(198),x=s(43649),E=s(605977),S=s.n(E),y=s(584443),V=s(615558),Z=s(479724),C=Object.defineProperty,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,k=function(t,e,s){return e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s},F=function(t,e){for(var s in e||(e={}))R.call(e,s)&&k(t,s,e[s]);if(N)for(var r,o=(0,a.Z)(N(e));!(r=o()).done;){s=r.value;U.call(e,s)&&k(t,s,e[s])}return t},A=function(t){var e=t.data,s=t.variables,r=t.scale,a=t.center,o=t.noComponents;try{for(var n=[],i=e[s[0]].length,l=0;l<i;l++){for(var h=[],g=!1,f=0;f<s.length;f++){var c=e[s[f]][l];if(!(0,Z.Z)(c)){g=!0;break}h.push(c)}g||n.push(h)}var u=new v(n,{center:a,scale:r}),m=u.predict(n,{noComponents:o});return{pca:u,components:m}}catch(d){return{}}},q=function(t){function e(e){var s;s=t.call(this,e)||this;var r=e.data,a=e.variables,o=e.scale,n=e.center,i=e.noComponents,l=A({data:r,variables:a,scale:o,center:n,noComponents:i}),h=l.pca,g=l.components;return s.state=F({pca:h,components:g},e),h&&e.onResult(s.state.pca,s.state.components),s}return(0,r.Z)(e,t),e.getDerivedStateFromProps=function(t,e){if(t.data!==e.data||t.variables!==e.variables){var s=t.data,r=t.variables,a=t.scale,o=t.center,n=t.noComponents,i=F(F({},A({data:s,variables:r,scale:a,center:o,noComponents:n})),t);return i.pca&&t.onResult(i.pca,i.components),i}return null},e.prototype.render=function(){var t=this.state.pca,e=this.props.t;if(!t)return o.createElement(l.Z,{variant:"danger"},e("missing-attributes"));var s=t.getStandardDeviations(),r=t.getExplainedVariance(),a=t.getCumulativeVariance(),n={x:S()(0,r.length,1),y:r,type:"scatter",name:e("proportion-of-variance")};return o.createElement("div",{style:{overflowX:"auto",width:"100%"}},o.createElement("span",{className:"title"},e("pca-summary")),function(t,e,s,r){return o.createElement(x.Z,{bordered:!0,size:"sm"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null),o.createElement("th",null,r("standard-deviation")),o.createElement("th",null,r("proportion-of-variance")),o.createElement("th",null,r("cumulative-variance")))),o.createElement("tbody",null,t.map((function(t,r){return o.createElement("tr",{key:r},o.createElement("th",null," ","PC"+(r+1)," "),o.createElement("td",null," ",t.toFixed(3)," "),o.createElement("td",null," ",e[r].toFixed(3)," "),o.createElement("td",null," ",s[r].toFixed(3)," "))}))))}(s,r,a,e),o.createElement(y.Z,{editable:!0,data:[n],layout:{xaxis:{title:e("principal-component")},yaxis:{title:e("explained-proportion")}}}))},e}(o.Component);q.defaultProps={center:!0,scale:!1,noComponents:0,onResult:function(){}},q.propTypes={data:i().object.isRequired,variables:i().arrayOf(i().string).isRequired,center:i().bool,scale:i().bool,noComponents:i().number,onResult:i().func};var P=(0,w.Z)("models")((0,V.W)(q))},49909:function(t,e,s){s.d(e,{Z:function(){return n}});var r=s(872204),a=s(70756),o=s(31845);class n{constructor(t,e={}){if((t=a.Z.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let s=t.rows,n=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:l=!0,autoTranspose:h=!1}=e;let g,f=Boolean(i),c=Boolean(l),u=!1;if(s<n)if(h){g=t.transpose(),s=g.rows,n=g.columns,u=!0;let e=f;f=c,c=e}else g=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else g=t.clone();let m=Math.min(s,n),d=Math.min(s+1,n),p=new Float64Array(d),b=new r.Z(s,m),M=new r.Z(n,n),v=new Float64Array(n),w=new Float64Array(s),x=new Float64Array(d);for(let r=0;r<d;r++)x[r]=r;let E=Math.min(s-1,n),S=Math.max(0,Math.min(n-2,s)),y=Math.max(E,S);for(let r=0;r<y;r++){if(r<E){p[r]=0;for(let t=r;t<s;t++)p[r]=(0,o.G)(p[r],g.get(t,r));if(0!==p[r]){g.get(r,r)<0&&(p[r]=-p[r]);for(let t=r;t<s;t++)g.set(t,r,g.get(t,r)/p[r]);g.set(r,r,g.get(r,r)+1)}p[r]=-p[r]}for(let t=r+1;t<n;t++){if(r<E&&0!==p[r]){let e=0;for(let a=r;a<s;a++)e+=g.get(a,r)*g.get(a,t);e=-e/g.get(r,r);for(let a=r;a<s;a++)g.set(a,t,g.get(a,t)+e*g.get(a,r))}v[t]=g.get(r,t)}if(f&&r<E)for(let t=r;t<s;t++)b.set(t,r,g.get(t,r));if(r<S){v[r]=0;for(let t=r+1;t<n;t++)v[r]=(0,o.G)(v[r],v[t]);if(0!==v[r]){v[r+1]<0&&(v[r]=0-v[r]);for(let t=r+1;t<n;t++)v[t]/=v[r];v[r+1]+=1}if(v[r]=-v[r],r+1<s&&0!==v[r]){for(let t=r+1;t<s;t++)w[t]=0;for(let t=r+1;t<s;t++)for(let e=r+1;e<n;e++)w[t]+=v[e]*g.get(t,e);for(let t=r+1;t<n;t++){let e=-v[t]/v[r+1];for(let a=r+1;a<s;a++)g.set(a,t,g.get(a,t)+e*w[a])}}if(c)for(let t=r+1;t<n;t++)M.set(t,r,v[t])}}let V=Math.min(n,s+1);if(E<n&&(p[E]=g.get(E,E)),s<V&&(p[V-1]=0),S+1<V&&(v[S]=g.get(S,V-1)),v[V-1]=0,f){for(let t=E;t<m;t++){for(let e=0;e<s;e++)b.set(e,t,0);b.set(t,t,1)}for(let t=E-1;t>=0;t--)if(0!==p[t]){for(let e=t+1;e<m;e++){let r=0;for(let a=t;a<s;a++)r+=b.get(a,t)*b.get(a,e);r=-r/b.get(t,t);for(let a=t;a<s;a++)b.set(a,e,b.get(a,e)+r*b.get(a,t))}for(let e=t;e<s;e++)b.set(e,t,-b.get(e,t));b.set(t,t,1+b.get(t,t));for(let e=0;e<t-1;e++)b.set(e,t,0)}else{for(let e=0;e<s;e++)b.set(e,t,0);b.set(t,t,1)}}if(c)for(let r=n-1;r>=0;r--){if(r<S&&0!==v[r])for(let t=r+1;t<n;t++){let e=0;for(let s=r+1;s<n;s++)e+=M.get(s,r)*M.get(s,t);e=-e/M.get(r+1,r);for(let s=r+1;s<n;s++)M.set(s,t,M.get(s,t)+e*M.get(s,r))}for(let t=0;t<n;t++)M.set(t,r,0);M.set(r,r,1)}let Z=V-1,C=0,N=Number.EPSILON;for(;V>0;){let t,e;for(t=V-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+N*Math.abs(p[t]+Math.abs(p[t+1]));if(Math.abs(v[t])<=e||Number.isNaN(v[t])){v[t]=0;break}}if(t===V-2)e=4;else{let s;for(s=V-1;s>=t&&s!==t;s--){let e=(s!==V?Math.abs(v[s]):0)+(s!==t+1?Math.abs(v[s-1]):0);if(Math.abs(p[s])<=N*e){p[s]=0;break}}s===t?e=3:s===V-1?e=1:(e=2,t=s)}switch(t++,e){case 1:{let e=v[V-2];v[V-2]=0;for(let s=V-2;s>=t;s--){let r=(0,o.G)(p[s],e),a=p[s]/r,i=e/r;if(p[s]=r,s!==t&&(e=-i*v[s-1],v[s-1]=a*v[s-1]),c)for(let t=0;t<n;t++)r=a*M.get(t,s)+i*M.get(t,V-1),M.set(t,V-1,-i*M.get(t,s)+a*M.get(t,V-1)),M.set(t,s,r)}break}case 2:{let e=v[t-1];v[t-1]=0;for(let r=t;r<V;r++){let a=(0,o.G)(p[r],e),n=p[r]/a,i=e/a;if(p[r]=a,e=-i*v[r],v[r]=n*v[r],f)for(let e=0;e<s;e++)a=n*b.get(e,r)+i*b.get(e,t-1),b.set(e,t-1,-i*b.get(e,r)+n*b.get(e,t-1)),b.set(e,r,a)}break}case 3:{const e=Math.max(Math.abs(p[V-1]),Math.abs(p[V-2]),Math.abs(v[V-2]),Math.abs(p[t]),Math.abs(v[t])),r=p[V-1]/e,a=p[V-2]/e,i=v[V-2]/e,l=p[t]/e,h=v[t]/e,g=((a+r)*(a-r)+i*i)/2,u=r*i*(r*i);let m=0;0===g&&0===u||(m=g<0?0-Math.sqrt(g*g+u):Math.sqrt(g*g+u),m=u/(g+m));let d=(l+r)*(l-r)+m,w=l*h;for(let x=t;x<V-1;x++){let e=(0,o.G)(d,w);0===e&&(e=Number.MIN_VALUE);let r=d/e,a=w/e;if(x!==t&&(v[x-1]=e),d=r*p[x]+a*v[x],v[x]=r*v[x]-a*p[x],w=a*p[x+1],p[x+1]=r*p[x+1],c)for(let t=0;t<n;t++)e=r*M.get(t,x)+a*M.get(t,x+1),M.set(t,x+1,-a*M.get(t,x)+r*M.get(t,x+1)),M.set(t,x,e);if(e=(0,o.G)(d,w),0===e&&(e=Number.MIN_VALUE),r=d/e,a=w/e,p[x]=e,d=r*v[x]+a*p[x+1],p[x+1]=-a*v[x]+r*p[x+1],w=a*v[x+1],v[x+1]=r*v[x+1],f&&x<s-1)for(let t=0;t<s;t++)e=r*b.get(t,x)+a*b.get(t,x+1),b.set(t,x+1,-a*b.get(t,x)+r*b.get(t,x+1)),b.set(t,x,e)}v[V-2]=d,C+=1;break}case 4:if(p[t]<=0&&(p[t]=p[t]<0?-p[t]:0,c))for(let e=0;e<=Z;e++)M.set(e,t,-M.get(e,t));for(;t<Z&&!(p[t]>=p[t+1]);){let e=p[t];if(p[t]=p[t+1],p[t+1]=e,c&&t<n-1)for(let s=0;s<n;s++)e=M.get(s,t+1),M.set(s,t+1,M.get(s,t)),M.set(s,t,e);if(f&&t<s-1)for(let r=0;r<s;r++)e=b.get(r,t+1),b.set(r,t+1,b.get(r,t)),b.set(r,t,e);t++}C=0,V--}}if(u){let t=M;M=b,b=t}this.m=s,this.n=n,this.s=p,this.U=b,this.V=M}solve(t){let e=t,s=this.threshold,a=this.s.length,o=r.Z.zeros(a,a);for(let r=0;r<a;r++)Math.abs(this.s[r])<=s?o.set(r,r,0):o.set(r,r,1/this.s[r]);let n=this.U,i=this.rightSingularVectors,l=i.mmul(o),h=i.rows,g=n.rows,f=r.Z.zeros(h,g);for(let r=0;r<h;r++)for(let t=0;t<g;t++){let e=0;for(let s=0;s<a;s++)e+=l.get(r,s)*n.get(t,s);f.set(r,t,e)}return f.mmul(e)}solveForDiagonal(t){return this.solve(r.Z.diag(t))}inverse(){let t=this.V,e=this.threshold,s=t.rows,a=t.columns,o=new r.Z(s,this.s.length);for(let r=0;r<s;r++)for(let s=0;s<a;s++)Math.abs(this.s[s])>e&&o.set(r,s,t.get(r,s)/this.s[s]);let n=this.U,i=n.rows,l=n.columns,h=new r.Z(s,i);for(let r=0;r<s;r++)for(let t=0;t<i;t++){let e=0;for(let s=0;s<l;s++)e+=o.get(r,s)*n.get(t,s);h.set(r,t,e)}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,s=this.s;for(let r=0,a=s.length;r<a;r++)s[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return r.Z.diag(this.s)}}},31845:function(t,e,s){function r(t,e){let s=0;return Math.abs(t)>Math.abs(e)?(s=e/t,Math.abs(t)*Math.sqrt(1+s*s)):0!==e?(s=t/e,Math.abs(e)*Math.sqrt(1+s*s)):0}s.d(e,{G:function(){return r}})},70756:function(t,e,s){s.d(e,{Z:function(){return a}});var r=s(872204);class a extends r.X{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,s){return this.data[t][e]=s,this}get(t,e){return this.data[t][e]}}}}]);