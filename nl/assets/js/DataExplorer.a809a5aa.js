"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4669],{153225:function(e,t,a){var r=a(202784),n=a(213980),i=a.n(n),s=a(770561),o=a(708579),l=function(e){return r.createElement(o.Z,{id:"clear_tooltip",placement:e.tooltipPlacement,tooltip:e.t("data-explorer:delete")},r.createElement(s.Z,{"aria-label":e.t("data-explorer:delete"),variant:"outline-danger",size:"sm",onClick:e.onClick,style:e.style,disabled:e.disabled},r.createElement("div",{className:"fa fa-times"})))};l.propTypes={onClick:i().func.isRequired,tooltipPlacement:i().string,style:i().object,disabled:i().bool,t:i().func},l.defaultProps={tooltipPlacement:"bottom",style:{},disabled:!1,t:function(){}},t.Z=l},450264:function(e,t,a){a.r(t),a.d(t,{default:function(){return Wa}});var r=a(497326),n=a(894578),i=a(55196),s=a(202784),o=a(213980),l=a.n(o),c=a(690299),u=a.n(c),p=a(387612),d=a(198),m=a(805312),h=a(822736),f=a(770561),v=a(22637),g=a(458264),E=a(312594),b=a(81982),y=a(569862),Z=a(260952),S=a(31071),R=a(294565),T=a(838060),A=a.n(T),P=a(308669),O=a.n(P),_=a(195906),C=a.n(_),k=a(830324),x=a.n(k),w=a(588703),D=a.n(w),N=a(287013),L=a.n(N),q=a(623102),I=a.n(q),F=a(409961),H=a.n(F),M=a(151300),X=a.n(M),V=a(241481),j=a.n(V),B=a(224008),z=a.n(B),U=a(306830),Q=a.n(U),G=a(437069),K=a.n(G),J=a(605977),W=a.n(J),Y=a(24551),$=a(656278),ee=a(994865),te=a(471275),ae=a(730641),re=a.n(ae),ne=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){for(var e=re()(this.props.children,4),t=0;t<e.length;t++)for(var a=e[t],r=0;r<a.length;r++)a[r]?a[r]=s.createElement(E.Z,{key:"cell"+t+r,xs:6,md:3},a[r]):a[r]=null;return s.createElement(te.Z,null,e.map((function(e,t){return s.createElement(g.Z,{key:"row"+t},e)})))},t}(s.Component),ie=ne,se=a(682317),oe=a(476709),le=a(750707),ce=a(584443),ue=a(259893),pe=(0,a(525263).Z)((function(){return Promise.all([a.e(9796),a.e(459)]).then(a.bind(a,558340))})),de=a(394286),me=a(884968),he=a(134208),fe=a(267682),ve=a(211565),ge=a(705193),Ee=function(e){function t(t){return e.call(this,t)||this}(0,n.Z)(t,e);var a=t.prototype;return a.scrollToBottom=function(){this.outputPanel&&(0,ge.Z)(this.outputPanel,this.outputPanel.scrollHeight,1e3)},a.render=function(){var e=this,t=this.props,a=t.t,r=t.header,n=t.output;return s.createElement(s.Fragment,null,s.createElement("div",{className:"card-header clearfix"},s.createElement("h3",{className:"data-explorer-output-header"},a("output")),r),s.createElement("div",{className:"data-explorer-output-panel",style:{height:.9*window.innerHeight-80},ref:function(t){e.outputPanel=t}},n),s.createElement(f.Z,{size:"sm",variant:"outline-danger",block:!0,onClick:this.props.clearOutput},a("clear-all")))},t}(s.Component),be=a(438802),ye=a.n(be),Ze=a(278141),Se=a.n(Ze),Re=a(380408),Te=a(156562),Ae=a(912860),Pe=a(435376),Oe=a(203858),_e=a(175891),Ce=a(109361),ke=a(700601),xe=a.n(ke),we=a(871199),De=a.n(we),Ne=a(180781),Le=a.n(Ne),qe=a(402958),Ie=a.n(qe),Fe=a(382617),He=a(10206),Me=a(797209),Xe=a(300665),Ve=a(817492),je=a(208497),Be=a(408917),ze=a(147282),Ue=a(37266),Qe=a(606019),Ge=a(620276),Ke=a(692482),Je=a(211881),We=a(937531),Ye=a(433466),$e=a(162304),et=a(29055),tt=a(221949),at=a(525760),rt=a(696734),nt=a(836993),it=a(867169),st=a(796585),ot=a(647324),lt=a(356158),ct=a(554717),ut=a(14362),pt=a(985840),dt=a(581122),mt=a(983476),ht=a(985417),ft=a(673426),vt=a(553905),gt=a(814541),Et=a(652320),bt=a(605954),yt=a(38435),Zt=Object.defineProperty,St=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,At=function(e,t,a){return t in e?Zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},Pt=function(e,t){for(var a in t||(t={}))Rt.call(t,a)&&At(e,a,t[a]);if(St)for(var r,n=(0,i.Z)(St(t));!(r=n()).done;){a=r.value;Tt.call(t,a)&&At(e,a,t[a])}return e};var Ot=function(e,t){var a,r=Pt(Pt({},t),e.value);switch(e.type){case"DATA_EXPLORER_SUMMARY_STATISTICS":a=React.createElement(yt.Z,Pt({},r));break;case"DATA_EXPLORER_BARCHART":a=React.createElement(Ve.Z,Pt({},r));break;case"DATA_EXPLORER_BOXPLOT":a=React.createElement(Xe.Z,Pt({},r));break;case"DATA_EXPLORER_CONTOURPLOT":a=React.createElement(je.Z,Pt({},r));break;case"DATA_EXPLORER_HISTOGRAM":a=React.createElement(ze.Z,Pt({},r));break;case"DATA_EXPLORER_HEATMAP":a=React.createElement(Be.Z,Pt({},r));break;case"DATA_EXPLORER_LINEPLOT":a=React.createElement(Ue.Z,Pt({},r));break;case"DATA_EXPLORER_MAP":a=React.createElement(Qe.Z,Pt({},r));break;case"DATA_EXPLORER_MOSAIC":a=React.createElement(Ge.Z,Pt({},r));break;case"DATA_EXPLORER_PIECHART":a=React.createElement(Ke.Z,Pt({},r));break;case"DATA_EXPLORER_QQPLOT":a=React.createElement(Je.Z,Pt({},r));break;case"DATA_EXPLORER_SCATTERPLOT":a=React.createElement(Ye.Z,Pt({},r));break;case"DATA_EXPLORER_SPLOM":a=React.createElement(We.Z,Pt({},r));break;case"DATA_EXPLORER_VIOLINPLOT":a=React.createElement($e.Z,Pt({},r));break;case"DATA_EXPLORER_FREQUENCY_TABLE":a=React.createElement(et.Z,Pt({},r));break;case"DATA_EXPLORER_CONTINGENCY_TABLE":a=React.createElement(tt.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_ANOVA":a=React.createElement(at.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_KRUSKAL":a=React.createElement(it.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_MEAN":a=React.createElement(st.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_MEAN":a=React.createElement(ot.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_CHISQUARE":a=React.createElement(rt.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_CORRTEST":a=React.createElement(nt.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_PROPTEST":a=React.createElement(lt.Z,Pt({},r));break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST":a=React.createElement(ct.Z,Pt({},r));break;case"DATA_EXPLORER_KMEANS":a=React.createElement(Et.Z,Pt({},r));break;case"DATA_EXPLORER_HIERARCHICAL_CLUSTERING":a=React.createElement(gt.Z,Pt({},r));break;case"DATA_EXPLORER_DECISION_TREE":a=React.createElement(ut.Z,Pt({},r));break;case"DATA_EXPLORER_LASSO_REGRESSION":a=React.createElement(pt.Z,Pt({},r));break;case"DATA_EXPLORER_LINEAR_REGRESSION":a=React.createElement(ft.Z,Pt({},r));break;case"DATA_EXPLORER_LOGISTIC_REGRESSION":a=React.createElement(dt.Z,Pt({},r));break;case"DATA_EXPLORER_MULTIPLE_REGRESSION":a=React.createElement(mt.Z,Pt({},r));break;case"DATA_EXPLORER_NAIVE_BAYES":a=React.createElement(bt.Z,Pt({},r));break;case"DATA_EXPLORER_PCA":a=React.createElement(vt.Z,Pt({},r));break;case"DATA_EXPLORER_RANDOM_FOREST":a=React.createElement(ht.Z,Pt({},r))}return a},_t=a(454319),Ct=Object.defineProperty,kt=function(e,t,a){return function(e,t,a){t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a}(e,"symbol"!=typeof t?t+"":t,a),a},xt=function(e){return{label:e,value:e}},wt=function(e){function t(t){var a;return a=e.call(this,t)||this,kt((0,r.Z)(a),"handleChange",(function(e){a.props.onChange(e),a.setState({value:e})})),kt((0,r.Z)(a),"handleSubmission",(function(){a.props.onSubmit(a.state.value)})),a.state={value:null},a}return(0,n.Z)(t,e),t.prototype.render=function(){return s.createElement(s.Fragment,null,s.createElement(_t.ZP,{inputId:this.props.id,isClearable:this.props.isClearable,onChange:this.handleChange,options:this.props.options.map(xt),placeholder:"Leave note..."}),s.createElement(f.Z,{size:"sm",onClick:this.handleSubmission,style:{marginTop:4}},this.props.t("submit")))},t}(s.Component);wt.propTypes={options:l().array,isClearable:l().bool,onChange:l().func,onSubmit:l().func},wt.defaultProps={options:[],isClearable:!1,onChange:function(){},onSubmit:function(){}};var Dt=wt,Nt=a(109203),Lt=a(26266),qt=a(10863),It=Object.defineProperty,Ft=function(e,t,a){return function(e,t,a){t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a}(e,"symbol"!=typeof t?t+"":t,a),a},Ht=function(e){function t(){var t;return t=e.call(this)||this,Ft((0,r.Z)(t),"handleSearch",(function(e){t.setState({search:e.target.value}),t.props.onClick(e.target.value)})),t.state={search:""},t}return(0,n.Z)(t,e),t.prototype.render=function(){return s.createElement(qt.Z,null,s.createElement(Nt.Z,{size:"small"},s.createElement(Lt.Z,{"aria-label":"Search",type:"text",placeholder:"Search actions...",onChange:this.handleSearch,onKeyPress:this.handleKeyPress,value:this.state.search})))},t}(s.Component);Ht.propTypes={onClick:l().func},Ht.defaultProps={onClick:function(){}};var Mt=Ht,Xt=Object.defineProperty,Vt=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable,zt=function(e,t,a){return t in e?Xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},Ut=function(e){var t=(0,s.useState)([]),a=t[0],r=t[1],n=(0,s.useState)(["own","others"]),o=n[0],l=n[1],c=(0,s.useState)({}),u=c[0],p=c[1],d=(0,s.useContext)(fe.Z),m=(0,Me.Z)();(0,s.useEffect)((function(){var t;return d&&(t=d.subscribe((function(t,a){t===He.Wh&&a.id===e.explorerID&&m()}))),function(){t&&t()}}));var v=[],g=new RegExp(a[0],"i");if(0!==o.length)for(var E=0;E<e.actions.length;E++){var b=e.actions[E];if(b.type!==Fe.i_&&b.type!==Fe.cp&&b.type!==Fe.Jz){var y=!1;if(b.type.search(g)>-1)y=!0;else if(b.email.search(g)>-1)y=!0;else for(var Z in b.value)if(Z.search(g)>-1||String(b.value[Z]).search(g)>-1){y=!0;break}2!==o.length&&("own"===o[0]?b.email!==d.user.email&&(y=!1):b.email===d.user.email&&(y=!1)),y&&v.push(b)}}var S=function(t){var a=v[t];return function(){var t=Ot(a,e);e.onCreated(t),e.logAction(a.type,a.value)}};return s.createElement("div",{style:e.style},s.createElement(Mt,{onClick:function(e){Le()(e,"")?r([]):r([e])}}),s.createElement("div",{style:{marginLeft:0,overflowY:"scroll",height:.75*window.innerHeight,border:"solid 1px rgba(0,0,0,0.125)"}},s.createElement(ye(),{initialIndex:0,itemRenderer:function(t,r){var n=v[t],o=new Date(n.absoluteTime),l="",c=n.value,d=n.type+" | Time: "+o.toLocaleTimeString()+" - "+o.toLocaleDateString()+" | "+n.email;for(var m in c)if(xe()(c,m)&&"showDecision"!==m){var g=c[m];De()(g)||"plotId"===m||(l+=m+": "+(Ie()(g)?g:JSON.stringify(g)),l+="\t")}var E=s.createElement(Pe.Z,{id:"history-note-popover-"+t,style:{width:250}},s.createElement(Oe.Z,null,e.t("leave-note")),s.createElement(_e.Z,null,s.createElement(Dt,{options:["Did you consider any confounding variables?","You should check model diagnostics"],onSubmit:function(e){var a=e.value,r=function(e,t){for(var a in t||(t={}))jt.call(t,a)&&zt(e,a,t[a]);if(Vt)for(var r,n=(0,i.Z)(Vt(t));!(r=n()).done;)a=r.value,Bt.call(t,a)&&zt(e,a,t[a]);return e}({},u);r[t]?r[t]+="\n"+a:r[t]=a,p(r)},t:e.t})));return s.createElement(Ae.Z,null,s.createElement("div",{className:"actionNote"},s.createElement("span",{className:"title"},s.createElement(Se(),{searchWords:a,autoEscape:!0,textToHighlight:d}))),s.createElement("div",{className:"actionNote"},s.createElement(Se(),{searchWords:a,autoEscape:!0,textToHighlight:l})),u[t]?s.createElement(h.Z,{variant:"warning"},u[t]):null,e.instructorFeedback?s.createElement(Ce.Z,{trigger:"click",placement:"left",rootClose:!0,overlay:E},s.createElement(f.Z,{"aria-label":e.t("leave-feedback"),variant:"info",size:"sm",style:{position:"absolute",top:5,right:45}},s.createElement("i",{className:"fas fa-sticky-note"}))):null,s.createElement(f.Z,{"aria-label":e.t("repeat"),variant:"success",size:"sm",onClick:S(t),style:{position:"absolute",top:5,right:5}},s.createElement("i",{className:"fas fa-redo"})))},length:v.length,type:"simple",pageSize:50,minSize:10})),s.createElement("div",{style:{float:"right",marginRight:20}},"individual"!==e.reportMode?s.createElement(Re.Z,{name:"options",onChange:l,type:"checkbox",size:"small",value:o,style:{padding:6}},s.createElement(Te.Z,{variant:"outline-secondary",value:"own"},e.t("own-actions")),s.createElement(Te.Z,{variant:"outline-secondary",value:"others"},e.t("others-actions"))):null,s.createElement("span",{className:"title"},v.length," ",e.t("actions"))))};Ut.propTypes={actions:l().array,instructorFeedback:l().bool},Ut.defaultProps={actions:[],instructorFeedback:!1};var Qt=Ut,Gt=a(525439),Kt=a(423184),Jt=a(302467),Wt=a.n(Jt),Yt=a(312882),$t=a(597909),ea=a(153225),ta=a(708579),aa=Object.defineProperty,ra=function(e,t,a){return function(e,t,a){t in e?aa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a}(e,"symbol"!=typeof t?t+"":t,a),a},na=function(e){function t(){var t;return t=e.call(this)||this,ra((0,r.Z)(t),"toggleFullscreen",(function(){t.setState({fullscreen:!t.state.fullscreen})})),t.state={fullscreen:!1},t}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this.props.t;return s.createElement(s.Fragment,null,s.createElement(ta.Z,{id:"fullscreen_tooltip",placement:"bottom",tooltip:e("toggle-fullscreen")},s.createElement(f.Z,{"aria-label":e("toggle-fullscreen"),variant:"outline-danger",size:"sm",onClick:this.toggleFullscreen},s.createElement("div",{className:"fa fa-window-maximize"}))),s.createElement(b.Z,{show:this.state.fullscreen,onHide:this.toggleFullscreen,dialogClassName:"modal-100w"},s.createElement(b.Z.Header,{closeButton:!0},s.createElement(b.Z.Title,{as:"h1"},this.props.header?this.props.header:e("fullscreen-display"))),s.createElement(b.Z.Body,{className:"data-explorer-fullscreen-output",style:{height:.75*window.innerHeight}},this.props.body),s.createElement(b.Z.Footer,null,s.createElement(f.Z,{onClick:this.toggleFullscreen},e("close")))))},t}(s.Component);na.propTypes={header:l().string,body:l().node.isRequired},na.defaultProps={header:null};var ia=na,sa=a(618245),oa=a(188304),la=a(223444),ca=a(833022),ua=a.n(ca),pa=function(e){for(var t=[],a=function(a){var r=e.filters[a],n=void 0;if(D()(r.value))n=r.value.map((function(e,t){return s.createElement(la.Z,{variant:"secondary",key:t,style:{marginRight:4}},e)}));else if(ua()(r.value)){var i=K()(r.value);n=new Array(i.length);for(var o=0;o<i.length;o++){var l=i[o];n[o]=s.createElement(la.Z,{key:l,variant:"secondary",style:{marginRight:4}},s.createElement("b",null,l,": "),r.value[l])}}t.push(s.createElement(oa.Z.Item,{key:a},s.createElement("span",{className:"title"},r.id,": "),n,e.removeButtons?s.createElement(f.Z,{variant:"danger",size:"sm",style:{float:"right"},onClick:function(){e.onRemove(a)},"aria-label":"remove"},s.createElement("i",{className:"fas fa-times"})):null))},r=0;r<e.filters.length;r++)a(r);return s.createElement(oa.Z,null,t)},da=Object.defineProperty,ma=Object.defineProperties,ha=Object.getOwnPropertyDescriptors,fa=Object.getOwnPropertySymbols,va=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,Ea=function(e,t,a){return t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},ba=function(e,t){for(var a in t||(t={}))va.call(t,a)&&Ea(e,a,t[a]);if(fa)for(var r,n=(0,i.Z)(fa(t));!(r=n()).done;){a=r.value;ga.call(t,a)&&Ea(e,a,t[a])}return e},ya=function(e,t){return ma(e,ha(t))},Za=function(e){function t(){var t,a,n;return t=e.call(this)||this,a=(0,r.Z)(t),Ea(a,"symbol"!=typeof(n="toggleOverlay")?n+"":n,(function(e){void 0===e&&(e=Q()),t.setState({show:!t.state.show},e)})),t.state={show:!1},t}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this;return s.createElement(s.Fragment,null,s.createElement(ta.Z,{id:"filter_info_tooltip",placement:"bottom",tooltip:this.props.t("show-dataset-info")},s.createElement(f.Z,{"aria-label":this.props.t("show-dataset-info"),variant:"outline-danger",size:"sm",ref:function(t){e.button=t},style:this.props.style,onClick:function(){e.toggleOverlay((function(){e.state.show?e.timeout=setTimeout(e.toggleOverlay,5e3):e.timeout&&clearTimeout(e.timeout)}))}},s.createElement("i",{className:"fas fa-info"}))),s.createElement(sa.Z,{target:this.button,show:this.state.show,placement:"left"},(function(t){var a=t,r=(a.placement,a.scheduleUpdate,a.arrowProps,function(e,t){var a={};for(var r in e)va.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&fa)for(var n,s=(0,i.Z)(fa(e));!(n=s()).done;)r=n.value,t.indexOf(r)<0&&ga.call(e,r)&&(a[r]=e[r]);return a}(a,["placement","scheduleUpdate","arrowProps"])),n=ba({backgroundColor:"lightcoral",padding:"10px 10px",marginRight:"5px",borderRadius:3,zIndex:1002},r.style);return e.props.filters?s.createElement("pre",ya(ba({},r),{style:n}),s.createElement(pa,{filters:e.props.filters}),e.props.restoreButton?s.createElement(ta.Z,{tooltip:e.props.t("restore-dataset-tooltip"),placement:"right"},s.createElement(f.Z,{size:"sm",variant:"danger",onClick:function(){e.props.onActivateFilters(e.props.filters)},style:{marginTop:12}},e.props.t("restore-dataset"))):null):s.createElement("pre",ya(ba({},r),{style:n}),e.props.t("entire-dataset-used"))})))},t}(s.Component);Za.propTypes={filters:l().array,onActivateFilters:l().func,restoreButton:l().bool,style:l().object},Za.defaultProps={filters:null,onActivateFilters:function(){},restoreButton:!1,style:{}};var Sa=Za,Ra=u()("isle:data-explorer"),Ta=/<button[\s\S]*<\/button>/,Aa=function(e,t,a,r,n,i,o){return s.createElement(Kt.Z,{style:{float:"right",top:"-4px",zIndex:2}},s.createElement(Sa,{filters:n,onActivateFilters:i,t:o}),s.createElement(ia,{header:e,body:t,t:o}),s.createElement(ea.Z,{onClick:function(){Ra("Clear element with ID "+r),a(r)},t:o}))},Pa=function(e){return s.createElement(s.Fragment,null,s.createElement("button",{draggable:!0,className:"data-explorer-draggable-bar",onDragStart:function(e){var t=e.target.nextSibling.outerHTML;t=Wt()(t,Ta,""),e.dataTransfer.setData("text/plain",t),e.dataTransfer.setData("text/html",t)},onClick:function(e){var t=e.target.nextSibling.outerHTML;t=Wt()(t,Ta,""),(0,$t.Z)(t)}},Gt.a.t("data-explorer:drag-table")),e)};var Oa=function(e,t,a,r,n,i){if(e.type===Xe.Z||e.type===Ve.Z||e.type===je.Z||e.type===Be.Z||e.type===ze.Z||e.type===Yt.Z||e.type===Ue.Z||e.type===Qe.Z||e.type===Ge.Z||e.type===Ke.Z||e.type===Je.Z||e.type===Ye.Z||e.type===We.Z||e.type===$e.Z||e.type===ce.Z){var o=e.props;return o.meta&&!o.meta.filters&&(o.meta.filters=r),s.createElement("div",{key:t},s.createElement(Kt.Z,{style:{float:"right",padding:"0.1rem 0.3rem",zIndex:2}},s.createElement(Sa,{filters:r,onActivateFilters:n,t:i}),s.createElement(ea.Z,{onClick:function(){a(t)},t:i})),s.createElement("div",{style:{position:"relative",height:o.layout&&o.layout.height?o.layout.height:300,marginTop:0,marginBottom:40,marginRight:25}},e))}return e.type===at.Z||e.type===nt.Z||e.type===rt.Z||e.type===it.Z||e.type===st.Z||e.type===ot.Z||e.type===lt.Z||e.type===ct.Z?s.createElement("pre",{key:t},Aa(i("output-test"),e,a,t,r,n,i),e):e.type===tt.Z||e.type===et.Z?s.createElement("pre",{key:t},Aa(i("output-table"),e,a,t,r,n,i),Pa(e)):e.type===ft.Z||e.type===mt.Z||e.type===pt.Z||e.type===dt.Z||e.type===vt.Z||e.type===Et.Z||e.type===bt.Z||e.type===ht.Z?s.createElement("pre",{key:t},Aa(i("output-model"),e,a,t,r,n,i),Pa(e)):e.type===ut.Z||e.type===gt.Z?s.createElement("pre",{key:t},s.createElement(Kt.Z,{style:{float:"right",padding:"0.1rem 0.3rem",top:"-1px",zIndex:2}},s.createElement(Sa,{filters:r,onActivateFilters:n,style:{right:55,position:"absolute"},t:i}),s.createElement(ea.Z,{onClick:function(){a(t)},style:{right:-5,position:"absolute"},t:i})),s.createElement("div",{style:{marginTop:25}},e)):e.type===yt.Z?s.createElement("pre",{key:t},Aa(i("summary-statistics"),e,a,t,r,n,i),Pa(e)):null},_a=a(271743),Ca=a(80674),ka=a(378176),xa=a(338664),wa=Object.defineProperty,Da=Object.defineProperties,Na=Object.getOwnPropertyDescriptors,La=Object.getOwnPropertySymbols,qa=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,Fa=function(e,t,a){return t in e?wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a},Ha=function(e,t){for(var a in t||(t={}))qa.call(t,a)&&Fa(e,a,t[a]);if(La)for(var r,n=(0,i.Z)(La(t));!(r=n()).done;){a=r.value;Ia.call(t,a)&&Fa(e,a,t[a])}return e},Ma=function(e,t){return Da(e,Na(t))},Xa=function(e,t,a){return Fa(e,"symbol"!=typeof t?t+"":t,a),a},Va=(0,s.lazy)((function(){return Promise.all([a.e(9553),a.e(7209),a.e(5771)]).then(a.bind(a,28589))})),ja=u()("isle:data-explorer"),Ba=(0,Y.Z)("data-explorer"),za="(Shift+Alt+Q)",Ua="(Shift+Alt+H)",Qa="(Shift+Alt+D)",Ga="(Shift+Alt+R)";function Ka(e,t){if(0===t.length)return!0;for(var a=K()(e),r=0;r<t.length;r++)if(!L()(a,String(t[r])))return!1;return!0}var Ja=function(e){function t(t){var a;a=e.call(this,t)||this,Xa((0,r.Z)(a),"restoreOutputs",(function(e){ja("Restore elements in output pane...");for(var t=[],r=[],n=0;n<e.length;n++){var i=e[n];if(i.type===Fe.i_)break;i.type===Fe.cp&&r.push(i.value),t.push(i)}for(var s=[],o={logAction:a.logAction,session:a.context,data:a.state.data,quantitative:a.state.quantitative,categorical:a.state.categorical},l=t.length-1;l>=0;l--){var c=t.length-1-l;if(!L()(r,c)){var u=Ot(t[l],o);if(u){var p=Oa(u,s.length,a.clearOutput,a.state.subsetFilters,a.onFilters,a.props.t);s.push(p)}}}ja("Restored "+s.length+" elements."),a.setState({output:s})})),Xa((0,r.Z)(a),"restoreTransformations",(function(e){var t=a.state;ja("Restoring transformations...");for(var r=e.length-1;r>=0;r--){var n=e[r];switch(n.type){case Fe.gx:if(ja("Should add transformed variable "+n.value.name),!j()(a.props.data,n.value.name)){var i=(0,_a.Z)(n.value.code,t.data);t=a.transformVariable(n.value.name,i,t)}break;case Fe.dU:var s=n.value,o=s.name,l=s.variable,c=s.breaks,u=s.categories;if(ja("Should add binned variable "+o),!j()(a.props.data,o)){var p=t.data[l],d=(0,Ca.Z)(p,u,c);t=a.transformVariable(o,d,t)}break;case Fe.CS:var m=n.value,h=m.name,f=m.firstVar,v=m.secondVar,g=m.nameMappings,E=m.castNumeric;if(ja("Should add recoded variable "+h),!j()(a.props.data,h)&&t.data[f]){var b=(0,ka.Z)(f,v,g,t.data,E);t=a.transformVariable(h,b,t)}break;case Fe.Jz:t=a.deleteVariable(n.value,t)}}t.data=z()(t.data,1),a.setState(t,(function(){a.restoreOutputs(e)}))})),Xa((0,r.Z)(a),"resetStorage",(function(){a.context.store.removeItem(a.id),a.setState({data:null,categorical:[],quantitative:[],ready:!1})})),Xa((0,r.Z)(a),"shareData",(function(){var e=a.context;if(e.metadata.store[a.id])e.updateMetadata("store",a.id,null),a.forceUpdate();else{var t={data:a.state.data,quantitative:a.state.quantitative,categorical:a.state.categorical},r=new Blob([JSON.stringify(t)],{type:"application/json"}),n=new File([r],"data.json"),i=new FormData;i.append("file",n),e.uploadFile({formData:i,callback:function(t,r){var n=r.filename,i=e.server+"/"+n;e.updateMetadata("store",a.id,i),a.forceUpdate()},showNotification:!1})}})),Xa((0,r.Z)(a),"toggleStudentPlots",(function(){a.setState({showStudentPlots:!a.state.showStudentPlots})})),Xa((0,r.Z)(a),"clearOutput",(function(e){a.context.log({id:a.id,type:Fe.cp,value:e},"owners");var t=a.state.output.slice();t[e]=null,a.setState({output:t})})),Xa((0,r.Z)(a),"clearPlots",(function(){a.setState({studentPlots:[]})})),Xa((0,r.Z)(a),"onUserAction",(function(e){var t,r=e.value;switch(X()(r)&&(r=JSON.parse(r)),e.type){case"DATA_EXPLORER_SHARE_BARCHART":t=(0,Ve.G)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_BOXPLOT":t=(0,Xe.I)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_CONTOURCHART":t=(0,je.k)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_HEATMAP":t=(0,Be.L)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_HISTOGRAM":t=(0,ze.N)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_LINEPLOT":t=(0,Ue.i)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_MAP":t=(0,Qe._)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_MOSAIC":t=(0,Ge.r)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_PIECHART":t=(0,Ke.E)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_QQPLOT":t=(0,Je._)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_SCATTERPLOT":t=(0,Ye.s)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_SPLOM":t=(0,We.T)(Ha({data:a.state.data},r));break;case"DATA_EXPLORER_SHARE_VIOLINPLOT":t=(0,$e.O)(Ha({data:a.state.data},r))}if(t){for(var n=a.state.studentPlots.slice(),i=JSON.stringify(t),s=!1,o=0;o<n.length;o++)if(n[o].config===i){n[o].count+=1,s=!0;break}s||n.push({config:i,count:1}),a.setState({studentPlots:n})}})),Xa((0,r.Z)(a),"onFilters",(function(e){a.setState({filters:e},a.onFilterCreate)})),Xa((0,r.Z)(a),"addToOutputs",(function(e){var t=a.state.output.slice();if(D()(e))for(var r=0;r<e.length;r++){var n=Oa(e[r],t.length,a.clearOutput,a.state.subsetFilters,a.onFilters,a.props.t);t.push(n)}else{var i=Oa(e,t.length,a.clearOutput,a.state.subsetFilters,a.onFilters,a.props.t);t.push(i)}a.setState({output:t})})),Xa((0,r.Z)(a),"transformVariable",(function(e,t,r){var n,i,s,o,l;return ja("Attach transformed variable "+e+" to data..."),r?(o=z()(r.data,1),n=r.quantitative.slice(),i=r.categorical.slice(),s=r.groupVars.slice()):(o=z()(a.state.data,1),n=a.state.quantitative.slice(),i=a.state.categorical.slice(),s=a.state.groupVars.slice()),o[e]=t,A()(t)?L()(n,e)||(n.push(e),(l=i.indexOf(e))>0&&(i.splice(l,1),s=i.slice())):(L()(i,e)||(i.push(e),(l=n.indexOf(e))>0&&n.splice(l,1)),s=i.slice()),{data:o,categorical:i,quantitative:n,groupVars:s}})),Xa((0,r.Z)(a),"onGenerateTransformedVariable",(function(e,t){var r=a.context;if(D()(e)){for(var n,i=0;i<e.length;i++)n=a.transformVariable(e[i],t[i],n);return r.addNotification({title:a.props.t("variables-created"),message:a.props.t("variables-created-msg",{name:e.join(", ")}),level:"success",position:"tr"}),a.setState(n)}if(j()(a.props.data,e))return r.addNotification({title:a.props.t("variable-exists"),message:a.props.t("variable-exists-msg"),level:"error",position:"tr"});r.addNotification({title:a.props.t("variable-created"),message:a.props.t("variable-created-msg",{name:e}),level:"success",position:"tr"}),a.setState(Ha({},a.transformVariable(e,t)))})),Xa((0,r.Z)(a),"onColumnDelete",(function(e){ja("Should remove variable with name "+e);var t=a.context;a.logAction(Fe.Jz,e),t.addNotification({title:a.props.t("variable-removed"),message:a.props.t("variable-removed-msg",{variable:e}),level:"success",position:"tr"});var r=a.deleteVariable(e);r.data=z()(r.data,1),a.setState(r)})),Xa((0,r.Z)(a),"onColumnNameChange",(function(e,t){for(var r=a.state,n=K()(a.state.data),i={},s=0;s<n.length;s++){var o=n[s];o===e?i[t]=a.state.data[e]:i[o]=a.state.data[o]}var l=r.quantitative.map((function(a){return a===e?t:a})),c=r.categorical.map((function(a){return a===e?t:a})),u=r.groupVars.map((function(a){return a===e?t:a}));a.setState({data:i,quantitative:l,categorical:c,groupVars:u})})),Xa((0,r.Z)(a),"onColumnDrag",(function(e){var t=a.state,r=function(t,a){return t=e.indexOf(String(t)),a=e.indexOf(String(a)),-1===t||-1===a?0:t<a?-1:t>a?1:0},n=t.quantitative.slice().sort(r),i=t.categorical.slice().sort(r),s=t.groupVars.slice().sort(r);a.setState({quantitative:n,categorical:i,groupVars:s})})),Xa((0,r.Z)(a),"deleteVariable",(function(e,t){var r,n=t||a.state;return delete(r=t?t.data:z()(a.state.data,1))[e],{data:r,quantitative:n.quantitative.filter((function(t){return t!==e})),categorical:n.categorical.filter((function(t){return t!==e})),groupVars:n.groupVars.filter((function(t){return t!==e})),filters:(n.filters||[]).filter((function(t){return t.id!==e}))}})),Xa((0,r.Z)(a),"onFileUpload",(function(e,t){var r=a.context;if(!e){for(var n={},i=K()(t[0]).filter((function(e){return""!==e})),s=0;s<i.length;s++){var o=i[s];n[o]=new Array(t.length)}for(var l=0;l<t.length;l++)for(var c=0;c<i.length;c++){var u=i[c];n[u][l]=t[l][u]}var p=[],d=[];i.forEach((function(e){A()(n[e])?d.push(e):p.push(e)})),a.setState({quantitative:d,categorical:p,data:n},(function(){r.store.setItem(a.id,{data:a.state.data,quantitative:d,categorical:p})}))}})),Xa((0,r.Z)(a),"onFilterCreate",(function(){var e={data:a.filterCreate(a.state.data),oldData:a.state.data,subsetFilters:a.state.filters};a.setState(e)})),Xa((0,r.Z)(a),"filterCreate",(function(e){for(var t=new Set,r=0;r<a.state.filters.length;r++){var n=a.state.filters[r],i=e[n.id];if(j()(n.value,"min")&&j()(n.value,"max"))for(var s=0;s<i.length;s++)i[s]>=n.value.min&&i[s]<=n.value.max||t.add(s);else for(var o=0;o<i.length;o++)L()(n.value,String(i[o]))||t.add(o)}for(var l=K()(e),c={},u=e[l[0]].length,p=0;p<l.length;p++){c[l[p]]=[]}for(var d=[],m=0;m<u;m++)if(!t.has(m)){for(var h=0;h<l.length;h++){var f=l[h];c[f].push(e[f][m])}e.id?d.push(e.id[m]):d.push(m+1)}return c.id=d,c})),Xa((0,r.Z)(a),"onFilterAdd",(function(){var e=a.restoreData(),t={data:a.filterCreate(e),oldData:e,subsetFilters:a.state.filters};a.setState(t)})),Xa((0,r.Z)(a),"restoreData",(function(){var e,t,r=K()(a.state.data),n=K()(a.state.oldData);a.props.data?(e=a.props.data,t=z()(a.props.data,1)):(e=a.state.unaltered.data,t=z()(e,1));for(var i=[],s=0;s<a.props.quantitative.length;s++)i.push(String(a.props.quantitative[s]));for(var o=0;o<a.props.categorical.length;o++)i.push(String(a.props.categorical[o]));for(var l=a.state.data.id,c=e[n[0]].length,u=a.state.oldData.id||W()(1,c+1,1),p=0;p<n.length;p++){var d=n[p];if("id"!==d&&!L()(i,d)){t[d]=new Array(c).fill(null);for(var m=0;m<u.length;m++){var h=u[m]-1;t[d][h]=a.state.oldData[d][m]}}}for(var f=0;f<r.length;f++){var v=r[f];if("id"!==v&&!L()(i,v)){ja("Handle inserted variable: "+v),t[v]||(t[v]=new Array(c).fill(null));for(var g=0;g<l.length;g++){var E=l[g]-1;t[v][E]=a.state.data[v][g]}}}return t})),Xa((0,r.Z)(a),"onPredict",{"decision-tree":function(e,t){var r=z()(a.state.data,1),n=a.state.categorical.slice(),i=a.state.quantitative.slice();if("classification"===e.type){var s=e.predict(r).map((function(e){return String(e)})),o="pred_tree"+t;r[o]=s,L()(n,o)||n.push(o),o="correct_tree"+t;var l=r[e.response];r[o]=s.map((function(e,t){return e===String(l[t])?"Yes":"No"})),L()(n,o)||n.push(o)}else{var c=e.predict(r),u="pred_tree"+t;r[u]=c,L()(i,u)||i.push(u),r[u="resid_tree"+t]=(0,ve.Z)(c,r[e.response]),L()(i,u)||i.push(u)}a.setState({categorical:n,quantitative:i,data:r})},lasso:function(e,t){var r=z()(a.state.data,1),n=a.state.quantitative.slice(),i="pred_lasso"+t,s=e(r),o=s.fitted,l=s.residuals;r[i]=o,L()(n,i)||n.push(i),r[i="resid_lasso"+t]=l,L()(n,i)||n.push(i),a.setState({quantitative:n,data:r})},logistic:function(e,t){var r=z()(a.state.data,1),n=a.state.quantitative.slice(),i=a.state.categorical.slice(),s=e(r),o=s.yhat,l=s.probs,c=s.residuals,u="probs_logis"+t;r[u]=l,L()(n,u)||n.push(u),r[u="pred_logis"+t]=o,L()(i,u)||i.push(u),u="resid_logis"+t,L()(n,u)||n.push(u),r[u]=c,a.setState({categorical:i,quantitative:n,data:r})},"multiple-linear-regression":function(e,t){var r=z()(a.state.data,1),n=a.state.quantitative.slice(),i=e(r),s=i.fitted,o=i.residuals,l="pred_lm"+t;r[l]=s,L()(n,l)||n.push(l),l="resid_lm"+t,L()(n,l)||n.push(l),r[l]=o,a.setState({quantitative:n,data:r})},"random-forest":function(e,t){var r=z()(a.state.data,1),n=a.state.categorical.slice();if("classification"===e.type){var i=e.predict(r).map((function(e){return String(e)})),s="pred_forest"+t;r[s]=i,L()(n,s)||n.push(s),s="correct_forest"+t;var o=a.state.data[e.response];r[s]=i.map((function(e,t){return e===String(o[t])?"Yes":"No"})),L()(n,s)||n.push(s)}a.setState({categorical:n,data:r})},"simple-linear-regression":function(e,t){var r=z()(a.state.data,1),n=e(r),i=n.fitted,s=n.residuals,o=a.state.quantitative.slice(),l="pred_slm"+t;r[l]=i,L()(o,l)||o.push(l),l="resid_slm"+t,L()(o,l)||o.push(l),r[l]=s,a.setState({quantitative:o,data:r})},"naive-bayes":function(e,t){for(var r=z()(a.state.data,1),n=a.state.quantitative.slice(),i=e(r),s=i.fitted,o=i.classProbs,l=Object.keys(o),c=0;c<l.length;c++){var u=l[c];r[u]=o[u],L()(n,u)||n.push(u)}var p="pred_bayes"+t;r[p]=s;var d=a.state.categorical.slice();L()(d,p)||d.push(p),a.setState({categorical:d,quantitative:n,data:r})}}),Xa((0,r.Z)(a),"onRestoreData",(function(){var e=a.restoreData();a.setState({data:e,subsetFilters:null,filters:[]})})),Xa((0,r.Z)(a),"on2dSelection",(function(e,t){var r=a.state.filters.filter((function(t){return t.id!==e.x&&t.id!==e.y}));r.push({id:e.x,value:{min:t.range.x[0],max:t.range.x[1]}}),r.push({id:e.y,value:{min:t.range.y[0],max:t.range.y[1]}}),a.setState({filters:r})})),Xa((0,r.Z)(a),"onQQPlotSelection",(function(e,t){if(t.range&&t.range.y){var r=a.state.filters.filter((function(t){return t.id!==e})),n=t.range.y;r.push({id:e,value:{min:n[0],max:n[1]}}),a.setState({filters:r})}})),Xa((0,r.Z)(a),"onBarchartSelection",(function(e,t){var r=a.state.filters.filter((function(t){return t.id!==e}));r.push({id:e,value:t.range.x}),a.setState({filters:r})})),Xa((0,r.Z)(a),"onHistogramSelection",(function(e,t){if(t.points&&t.points[0]){var r=t.points[0],n=r.fullData.xbins.size,i=t.points[t.points.length-1],s=a.state.filters.filter((function(t){return t.id!==e}));s.push({id:e,value:{min:r.x-n/2,max:i.x+n/2}}),a.setState({filters:s})}}));var n,i,s,o=t.data;t.data?(n=t.quantitative,i=t.categorical,s=t.categorical.slice()):(n=[],i=[],s=[]);var l=!1,c=!0;return x()(o)&&(n.length>0||i.length>0)&&(l=!0,c=Ka(o,n.concat(i))),a.id=t.id||Ba(t),a.state={data:o,quantitative:n,categorical:i,validVariables:c,output:[],groupVars:s,ready:l,showStudentPlots:!1,openedNav:t.opened||(H()(t.questions)?"data":"questions"),studentPlots:[],subsetFilters:null,unaltered:{data:t.data,quantitative:t.quantitative,categorical:t.categorical},filters:[]},a.logAction=function(e,t){a.state.subsetFilters&&(t=Ma(Ha({},t),{filters:a.state.subsetFilters}));var r=a.context,n="individual"!==a.props.reportMode?"members":"owners";r.log({id:a.id,type:e,value:t},n)},a}(0,n.Z)(t,e),t.getDerivedStateFromProps=function(e,t){if(!e.data)return null;var a={};return e.data!==t.unaltered.data&&(a.data=e.data),e.quantitative!==t.unaltered.quantitative&&(a.quantitative=e.quantitative),e.categorical!==t.unaltered.categorical&&(a.categorical=e.categorical),a.validVariables=Ka(e.data,e.quantitative.concat(e.categorical)),I()(a)?null:(a.unaltered={data:e.data,quantitative:e.quantitative,categorical:e.categorical},a)};var a=t.prototype;return a.componentDidMount=function(){var e=this,t=this.context;if(!this.props.data)if(t.metadata.store[this.id]){var a=t.metadata.store[this.id];(0,m.AVB)(a).then((function(t){var a=(t.categorical||[]).slice();e.setState({data:t.data,quantitative:t.quantitative,categorical:t.categorical,groupVars:a,ready:!0,unaltered:{data:t.data,quantitative:t.quantitative,categorical:t.categorical}})}))}else t.store.getItem(this.id).then((function(t){var a=t.quantitative,r=void 0===a?[]:a,n=t.categorical,i=void 0===n?[]:n,s=t.data,o=void 0===s?null:s,l=!1;I()(o)&&(o=null),H()(o)||(l=!0);var c=(i||[]).slice();e.setState({data:o,quantitative:r,categorical:i,groupVars:c,ready:l,unaltered:{data:o,quantitative:r,categorical:i}})})).catch((function(e){ja(e)}));if(t.currentUserActions){var r=t.currentUserActions[this.id];this.props.data&&C()(r)&&this.restoreTransformations(r)}this.unsubscribe=t.subscribe((function(a,r){if(a===He.u){var n=r[e.id];e.props.data&&C()(n)&&e.restoreTransformations(n)}else if(a===He.KI){if(t.metadata.store[e.id]){var i=t.metadata.store[e.id];(0,m.AVB)(i).then((function(t){var a=(t.categorical||[]).slice();e.setState({data:t.data,quantitative:t.quantitative,categorical:t.categorical,groupVars:a,ready:!0})}))}}else if(a===He.Wh){if(r.id!==e.id||r.email===t.user.email||"individual"===e.props.reportMode)return;if("group"===e.props.reportMode){if(!t.group)return;for(var s=t.group.members,o=!1,l=0;l<s.length;l++)if(s[l].email===r.email){o=!0;break}if(!o)return}r.type!==Fe.gx&&r.type!==Fe.dU&&r.type!==Fe.CS&&r.type!==Fe.Jz||e.restoreTransformations([r]),e.context.currentUserActions[e.id].unshift(r)}}))},a.componentDidUpdate=function(e,t){ja("Component did update..."),this.state.output!==t.output&&this.outputPanel&&this.outputPanel.scrollToBottom()},a.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},a.render=function(){var e=this;if(ja("Render component..."),!this.state.data)return s.createElement(pe,{title:this.props.t("data-explorer"),onUpload:this.onFileUpload});if(!this.state.ready){var t=K()(this.state.data);return s.createElement(Z.Z,null,s.createElement(Z.Z.Header,{as:"h3"},this.props.t("data-explorer")),s.createElement(Z.Z.Body,null,s.createElement("h4",null,this.props.t("select-quantitative-categorical"),":"),s.createElement($.Z,{legend:this.props.t("quantitative"),options:t,defaultValue:this.state.quantitative,multi:!0,onChange:function(t){e.setState({quantitative:t||[]})}}),s.createElement($.Z,{legend:this.props.t("categorical"),options:t,defaultValue:this.state.categorical,multi:!0,onChange:function(t){e.setState({categorical:t||[]})}}),s.createElement(f.Z,{disabled:O()(this.state.categorical)&&O()(this.state.quantitative),onClick:function(){e.setState({groupVars:e.state.categorical.slice(),ready:!0},(function(){var t=e.context,a={data:e.state.data,quantitative:e.state.quantitative,categorical:e.state.categorical};t.store.setItem(e.id,a),e.setState({unaltered:a})}))}},this.props.t("submit")),s.createElement(he.Z,{data:this.state.data,id:this.id+"_table"})))}if(I()(this.state.data))return s.createElement(h.Z,{variant:"danger"},this.props.t("data-empty"));if(!this.state.validVariables)return s.createElement(h.Z,{variant:"danger"},s.createElement(p.c,{i18nKey:"variables-invalid-alert",ns:"DataExplorer"},"The ",s.createElement("b",null,"quantitative")," or ",s.createElement("b",null,"categorical")," data arrays contain variable names not present in the ",s.createElement("b",null,"data")," object."));var a=this.context,r=!H()(this.props.questions),n=D()(this.props.questions)?{children:this.props.questions}:this.props.questions,i=this.props.style.height||.9*window.innerHeight-165;return s.createElement(g.Z,{className:"no-gutter data-explorer",style:this.props.style},s.createElement(E.Z,{xs:6,md:6},s.createElement(Z.Z,{style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},s.createElement(v.Z,{className:"data-explorer-navbar",value:this.state.openedNav,onSelect:function(t){return e.setState({openedNav:t})}},s.createElement(y.Z,null,r?s.createElement(y.Z.Item,{className:"explorer-data-nav"},s.createElement(y.Z.Link,{title:this.props.t("questions")+" "+za,eventKey:"questions",active:"questions"===this.state.openedNav},this.props.t("questions"))):null,this.props.dataTable?s.createElement(y.Z.Item,{className:"explorer-data-nav"},s.createElement(y.Z.Link,{title:this.props.t("data")+" "+Qa,eventKey:"data",active:"data"===this.state.openedNav},this.props.t("data"))):null,this.props.editor?s.createElement(y.Z.Item,{className:"explorer-editor-nav"},s.createElement(y.Z.Link,{title:(this.props.editorTitle?this.props.editorTitle:this.props.t("report"))+" "+Ga,active:"editor"===this.state.openedNav,eventKey:"editor"},this.props.editorTitle?this.props.editorTitle:this.props.t("report"))):null,this.props.history?s.createElement(y.Z.Item,{className:"explorer-editor-nav"},s.createElement(y.Z.Link,{title:this.props.t("history")+" "+Ua,active:"history"===this.state.openedNav,eventKey:"history"},this.props.t("history"))):null,this.props.tabs.length>0?this.props.tabs.map((function(t,a){return s.createElement(y.Z.Item,{key:a,className:"explorer-tabs-nav"},s.createElement(y.Z.Link,{active:e.state.openedNav===t.title,eventKey:t.title},t.title))})):null),s.createElement(s.Suspense,{fallback:s.createElement(f.Z,{variant:"secondary",size:"sm",className:"hide-toolbox-button",disabled:!0},"Loading...")},s.createElement(Va,{id:this.id+"-toolbox",models:this.props.models,tables:this.props.tables,statistics:this.props.statistics,plots:this.props.plots,tests:this.props.tests,quantitative:this.state.quantitative,originalQuantitative:this.props.quantitative,categorical:this.state.categorical,logAction:this.logAction,onCreated:this.addToOutputs,data:this.state.data,showTestDecisions:this.props.showTestDecisions,onPlotDone:this.outputPanel?this.outputPanel.scrollToBottom:Q(),groupingVariables:this.state.groupVars,on2dSelection:this.on2dSelection,onQQPlotSelection:this.onQQPlotSelection,transformer:this.props.transformer,onBarchartSelection:this.onBarchartSelection,showHistogramDensityOption:this.props.histogramDensities,onGenerateTransformedVariable:this.onGenerateTransformedVariable,onHistogramSelection:this.onHistogramSelection,onCategoricalGenerate:function(t,a){var r=t.slice();e.setState({categorical:t,groupVars:r,data:a})},onQuantitativeGenerate:function(t,a){e.setState({quantitative:t,data:a})},onTutorialStart:this.props.onTutorialStart,onTutorialCompletion:this.props.onTutorialCompletion,onPredict:this.onPredict}))),s.createElement(Z.Z.Body,{style:{overflowY:"auto"}},r?s.createElement(se.Z,Ha({id:this.id+"_questions",height:i,className:"data-explorer-questions",style:{display:"questions"!==this.state.openedNav?"none":null}},n)):null,s.createElement("div",{style:{display:"data"!==this.state.openedNav?"none":null}},this.props.data||a.metadata.store[this.id]?null:s.createElement(f.Z,{size:"small",onClick:this.resetStorage,style:{position:"absolute",top:"80px",zIndex:2}},this.props.t("clear-data")),this.props.data?null:s.createElement(oe.Z,{owner:!0,banner:null},s.createElement(f.Z,{size:"small",onClick:this.shareData,style:{position:"absolute",top:"80px",left:"140px",zIndex:2}},a.metadata.store[this.id]?this.props.t("unshare"):this.props.t("share"))),s.createElement(he.Z,Ma(Ha({},this.props.dataTableProps),{data:this.state.data,dataInfo:this.props.dataInfo,undeletableVars:K()(this.props.data),filters:this.state.filters,onFilteredChange:function(t){ja("Filters have changed..."),e.setState({filters:t})},onColumnDelete:this.onColumnDelete,onColumnNameChange:this.onColumnNameChange,onColumnDrag:this.onColumnDrag,deletable:!0,id:this.id+"_table"})),s.createElement(g.Z,null,s.createElement(E.Z,{md:4},this.state.filters.length>0&&this.state.subsetFilters!==this.state.filters?s.createElement(ue.Z,{placement:"top",overlay:s.createElement(S.Z,null,this.props.t("create-filtered-dataset-tooltip"))},s.createElement(f.Z,{onClick:function(){e.state.subsetFilters?e.onFilterAdd():e.onFilterCreate()},variant:"secondary",size:"xsmall",style:{float:"left"}},this.props.t("create-filtered-dataset"))):null),s.createElement(E.Z,{md:8},this.state.subsetFilters?s.createElement("div",{className:"data-explorer-subset-filter-display"},s.createElement("p",null,s.createElement("span",{style:{color:"white",paddingLeft:2}},this.props.t("filtered"),":"),this.state.subsetFilters?s.createElement(ue.Z,{placement:"top",overlay:s.createElement(S.Z,null,this.props.t("restore-original-dataset-tooltip"))},s.createElement(f.Z,{onClick:this.onRestoreData,variant:"secondary",size:"small",style:{float:"right"}},this.props.t("restore-original-dataset"))):null),s.createElement(pa,{filters:this.state.subsetFilters,removeButtons:!0,onRemove:function(t){ja("Removing filter at position "+t);var a=e.state.subsetFilters.slice();a.splice(t,1),a.length>0?e.setState({data:e.state.oldData,filters:a},e.onFilterCreate):e.onRestoreData()}})):null))),this.props.history&&"history"===this.state.openedNav?s.createElement(Qt,{explorerID:this.id,actions:this.context.currentUserActions[this.id],onCreated:this.addToOutputs,logAction:this.logAction,session:this.context,data:this.state.data,quantitative:this.state.quantitative,categorical:this.state.categorical,t:this.props.t,reportMode:this.props.reportMode}):null,this.props.editor?s.createElement(ee.Z,Ma(Ha({},this.props.editorProps),{mode:this.props.reportMode,id:this.id+"_editor",style:{display:"editor"!==this.state.openedNav?"none":null},submitButton:!0})):null,this.props.tabs.map((function(t,a){return e.state.openedNav===t.title?t.content:null}))))),s.createElement(E.Z,{xs:6,md:6},s.createElement("div",{className:"card card-default",style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},s.createElement(Ee,{output:this.state.output,ref:function(t){e.outputPanel=t},session:this.context,header:s.createElement(oe.Z,{owner:!0,banner:null},s.createElement(b.Z,{show:this.state.showStudentPlots,onHide:this.toggleStudentPlots,dialogClassName:"modal-100w"},s.createElement(b.Z.Header,{closeButton:!0},s.createElement(b.Z.Title,null,this.props.t("plots"))),s.createElement(b.Z.Body,{style:{height:.8*window.innerHeight,overflowY:"scroll"}},this.state.studentPlots.length>0?s.createElement(ie,null,this.state.studentPlots.map((function(t,a){var r=JSON.parse(t.config);return s.createElement("div",{key:a,style:{height:"450px"}},(0,R.isPrimitive)(r)?s.createElement(de.Z,{code:r,libraries:["MASS"]}):s.createElement(ce.Z,{data:r.data,layout:r.layout,removeButtons:!0}),s.createElement("span",null,s.createElement("b",null,e.props.t("count"),": "),t.count))}))):s.createElement(Z.Z,{body:!0,className:"bg-light"},this.props.t("no-plots-yet"))),s.createElement(b.Z.Footer,null,s.createElement(f.Z,{variant:"danger",onClick:this.clearPlots},this.props.t("clear-plots")),s.createElement(f.Z,{onClick:this.toggleStudentPlots},this.props.t("close")))),s.createElement(f.Z,{variant:"secondary",size:"sm",style:{float:"right"},onClick:this.toggleStudentPlots},this.props.t("open-shared-plots")),s.createElement(le.Z,{returnFullObject:!0,for:[this.id],onDatum:this.onUserAction})),clearOutput:function(){a.log({id:e.id,type:Fe.i_,value:null},"owners"),e.setState({output:[]})},reportMode:this.props.reportMode,t:this.props.t}),s.createElement(me.Z,{actions:{"shift+alt+r":function(){return e.setState({openedNav:"editor"})},"shift+alt+h":function(){return e.setState({openedNav:"history"})},"shift+alt+d":function(){return e.setState({openedNav:"data"})},"shift+alt+q":function(){return e.setState({openedNav:"questions"})}}}))))},t}(s.Component);Ja.defaultProps={data:{},dataInfo:{info:"",name:"",variables:null,showOnStartup:!1},dataTable:!0,dataTableProps:{},history:!0,tabs:[],questions:null,transformer:!0,statistics:["Mean","Median","Min","Max","Range","Interquartile Range","Standard Deviation","Variance","Correlation","Correlation Matrix","Skewness","Excess Kurtosis","First Quartile","Third Quartile","Quantile","Five-Number Summary"],plots:["Bar Chart","Pie Chart","Mosaic Plot","Histogram","Interval Plot","Box Plot","Line Plot","Scatterplot","Scatterplot Matrix","Heat Map","Contour Chart","Violin Plot","QQ Plot"],tables:["Frequency Table","Contingency Table"],tests:["One-Sample Mean Test","Two-Sample Mean Test","One-Way ANOVA","One-Sample Proportion Test","Two-Sample Proportion Test","Correlation Test","Chi-squared Independence Test","Kruskal-Wallis Test"],models:["Simple Linear Regression","Multiple Linear Regression","LASSO","Decision Tree","Random Forest","Logistic Regression","Naive Bayes","PCA","Hierarchical Clustering","kmeans"],opened:null,categorical:[],quantitative:[],editor:!0,editorProps:null,editorTitle:null,reportMode:"individual",histogramDensities:!0,showTestDecisions:!0,onTutorialCompletion:function(){},onTutorialStart:function(){},style:{}},Ja.propTypes={categorical:l().array,quantitative:l().array,data:l().object,dataInfo:l().object,editor:l().bool,editorProps:l().object,editorTitle:l().string,dataTable:l().bool,dataTableProps:l().object,history:l().bool,reportMode:l().oneOf(["individual","group","collaborative"]),histogramDensities:l().bool,models:l().array,opened:l().oneOf(["data","toolbox","editor"]),plots:l().array,questions:l().oneOfType([l().array,l().object]),showTestDecisions:l().bool,statistics:l().array,style:l().object,tables:l().array,tabs:l().array,tests:l().array,transformer:l().bool,onTutorialCompletion:l().func,onTutorialStart:l().func},Ja.contextType=fe.Z;var Wa=(0,d.Z)("data-explorer")((0,xa.W)(Ja))},378176:function(e,t,a){var r=a(294565),n=a(409961),i=a.n(n),s=a(302467),o=a.n(s);function l(e){return(0,r.isPrimitive)(e)?o()(e,".","[dot]"):e}t.Z=function(e,t,a,r,n){void 0===n&&(n=!1);var s=[],o=r[e];if(!a)return o;if(n){if(i()(t))for(var c=0;c<o.length;c++){var u=o[c],p=Number(a[l(u)]);s.push(p)}else for(var d=r[t],m=0;m<o.length;m++){var h=a[l(o[m])+"-"+l(d[m])];s.push(Number(h))}return s}if(i()(t))for(var f=0;f<o.length;f++){var v=a[l(o[f])];"null"!==v&&"NA"!==v||(v=null),s.push(v)}else for(var g=r[t],E=0;E<o.length;E++){var b=a[l(o[E])+"-"+l(g[E])];s.push(b)}return s}},80674:function(e,t,a){var r=a(676065),n=a.n(r),i=a(309765),s=a(316305),o=a.n(s);t.Z=function(e,t,a){for(var r=[],s=0;s<e.length;s++){var l=void 0,c=e[s];if((0,i.isPrimitive)(c)&&!o()(c))for(var u=0;n()(l);)u>=a.length||c<a[u]?l=t[u]:u+=1;else l=null;r.push(l)}return r}},271743:function(e,t,a){var r=a(992826),n=a(733727),i=a.n(n),s=a(686605),o=a.n(s),l=a(695688),c=a.n(l),u=a(190465),p=a.n(u),d=a(557106),m=a.n(d),h=a(783158),f=a.n(h),v=a(798030),g=a.n(v),E=a(830324),b=a.n(E),y=a(700601),Z=a.n(y),S=a(409961),R=a.n(S),T=a(649985),A=a(519907),P=a(376353),O=a(714785),_=function(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e(a)}},C=[p(),g(),o(),c(),i(),m(),f(),_(A.Z),_(T.Z),_(P.Z)];t.Z=function(e,t){var a=[];for(var n in t)if(Z()(t,n))for(var i=0;i<t[n].length;i++){b()(a[i])||(a[i]={});var s=t[n][i];a[i][n]=R()(s)?NaN:s}for(var o=(0,r.Z)(Function,["datum"].concat(O,[e])),l=new Array(a.length),c=0;c<a.length;c++)l[c]=o.apply(void 0,[a[c]].concat(C));return l}},797209:function(e,t,a){var r=a(202784);t.Z=function(){var e=(0,r.useState)(0)[1];return(0,r.useCallback)((function(){e((function(e){return e+1}))}),[])}},597909:function(e,t){t.Z=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.opacity=0,t.style.pointerEvents="none",document.body.appendChild(t),window.getSelection().removeAllRanges();var a=document.createRange();a.selectNode(t),window.getSelection().addRange(a),document.execCommand("copy"),document.body.removeChild(t)}},705193:function(e,t){t.Z=function e(t,a,r){if(!(r<=0)){var n=(a-t.scrollTop)/r*10;setTimeout((function(){t.scrollTop=t.scrollTop+n,t.scrollTop!==a&&e(t,a,r-10)}),10)}}},211565:function(e,t,a){var r=a(89596),n=a.n(r),i=a(309765);t.Z=function(e,t){var a=n()(t);if(!n()(e))throw new TypeError("invalid input argument. Must provide an array. Value: `"+e+"`.");if(!a&&!(0,i.isPrimitive)(t))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+t+"`.");var r=e.length,s=new Array(r);if(a){if(r!==t.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var o=0;o<r;o++)s[o]=e[o]-t[o]}else for(var l=0;l<r;l++)s[l]=e[l]-t;return s}},714785:function(e){e.exports=JSON.parse('["exp","ln","round","sqrt","power","max","min","mean","stdev","sum"]')}}]);