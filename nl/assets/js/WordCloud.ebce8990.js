"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[94940],{699101:function(t,e,n){n.r(e);var o=n(202784),s=n(213980),r=n.n(s),a=n(928316),i=n(498614),l=n(770561),c=n(844918),d=n(271641),u=n.n(d),p=n(55257),f=n(1570),h=n.n(f),m=n(783158),g=n.n(m),w=n(199599),y=n.n(w),v=n(302467),b=n.n(v),x=n(46784),C=n.n(x),S=n(287013),k=n.n(S),O=n(294565),R=n(777628),T=n.n(R),E=n(883992),N=n.n(E),I=n(588703),L=n.n(I),z=n(109918),M=n.n(z),B=n(395465),D=n.n(B),P=n(812789),U=n.n(P),j=n(742822),A=n.n(j),$=n(971451),W=n.n($),Z=n(856681),F=n.n(Z),G=n(268834),H=n.n(G),K=n(918226),Y=n.n(K),_=n(993658),X=n.n(_),q=n(198314),J=n.n(q),Q=n(112114),V=n(320675),tt=n(741082),et=Object.defineProperty,nt=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,rt=(t,e,n)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,at=(t,e)=>{for(var n in e||(e={}))ot.call(e,n)&&rt(t,n,e[n]);if(nt)for(var n of nt(e))st.call(e,n)&&rt(t,n,e[n]);return t},it=(t,e,n)=>(rt(t,"symbol"!=typeof e?e+"":e,n),n);const lt=(0,c.PKp)(c.Cn1),ct=/[+-]?[\d.]+e?[+-]?\d*/g,dt={position:"absolute",right:-12,top:-12,zIndex:2};function ut({texts:t,stopwords:e,minCount:n,customStopwords:o}){if(!L()(t)||0===t.length)return{min:M(),max:D(),wordCounts:[]};e=e.concat(o);let s=[];for(let d=0;d<t.length;d++){let e=t[d];if((0,O.isPrimitive)(e)){e=y()(e),e=b()(e,ct," ");let t=C()(e);s=s.concat(t)}}for(let d=0;d<s.length;d++)s[d]=T()(s[d]);for(let d=s.length;d>0;d--)s[d]&&k()(e,T()(s[d]))&&s.splice(d,1);let r={};for(let d=0;d<s.length;d++)r[s[d]]?r[s[d]]+=1:r[s[d]]=1;let a=D(),i=M();const l=N()(r).map((t=>(t[1]>a&&(a=t[1]),t[1]<i&&(i=t[1]),{text:t[0],value:t[1]})));if(!n)return{min:i,max:a,wordCounts:l};const c=[];for(let d=0;d<l.length;d++)l[d].value>=n&&c.push(l[d]);return{min:i,max:a,wordCounts:c}}class pt extends o.Component{constructor(t){super(t),it(this,"fontSizeMapper",(t=>{const{min:e,max:n}=this.state;return n===e?50:(t.value-e+1)/(n-e+6)*30+14})),it(this,"saveToPNG",(()=>{const{width:t,height:e}=this.props,n=(0,V.e)(this.svg.node());let o;(0,V.C)(n,2*t,2*e,(function(t){(0,p.Z)(t,o)})),o=this.props.id?this.props.id+".png":"wordcloud.png"}));let e=function(t){let e;switch(t){default:case"en":e=U()();break;case"fin":e=A()();break;case"fr":e=W()();break;case"ger":e=F()();break;case"it":e=H()();break;case"por":e=Y()();break;case"sp":e=X()();break;case"swe":e=J()()}return e}(t.language);if(t.precalculated)this.state={wordCounts:t.data.slice(),stopwords:e,nRecords:t.data.length};else{const{min:n,max:o,wordCounts:s}=ut({texts:t.data,stopwords:e,minCount:t.minCount,customStopwords:t.stopwords});this.state={wordCounts:s,min:n,max:o,stopwords:e,nRecords:t.data.length}}}static getDerivedStateFromProps(t,e){let n;if(t.precalculated)n={wordCounts:t.data.slice()};else{const{min:o,max:s,wordCounts:r}=ut({texts:t.data,stopwords:e.stopwords,minCount:t.minCount,customStopwords:t.stopwords});n={wordCounts:r,min:o,max:s,stopwords:e.stopwords}}return n}componentDidMount(){this.addWordCloud()}shouldComponentUpdate(t){return!!(h()(t.data.length,this.state.nRecords)>=this.props.updateThreshold||this.props.triggerRender&&!function(t,e){let n=g()(t.length,10);for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}(t.data,this.props.data)||t.stopwords.length!==this.props.stopwords.length)}componentDidUpdate(){this.state.wordCounts.length>0&&this.updateWordCloud(),this.state.nRecords!==this.props.data.length&&this.setState({nRecords:this.props.data.length})}addWordCloud(){const t=this.props.fontSizeMapper||this.fontSizeMapper;(0,c.Ys)((0,a.findDOMNode)(this)).selectAll("svg").remove(),this.svg=(0,c.Ys)((0,a.findDOMNode)(this)).append("svg").attr("width",this.props.width).attr("height",this.props.height).style("background","#ffffff"),this.svg.append("g").attr("transform",`translate(${this.props.width/2},${this.props.height/2})`),this.cloudLayout=u()().size([this.props.width,this.props.height]).font(this.props.font).words(this.state.wordCounts).padding(this.props.padding).rotate(this.props.rotate).fontSize(t).on("end",(t=>{const e=this.svg.select("g").selectAll("text").data(t,(t=>t.text));e.transition().duration(750).style("font-size",(t=>`${t.size}px`)).attr("transform",(t=>`translate(${[t.x,t.y]})rotate(${t.rotate})`)),e.enter().append("text").style("font-size",(t=>`${t.size}px`)).style("font-family",this.props.font).style("fill",((t,e)=>lt(e))).style("cursor","pointer").attr("text-anchor","middle").attr("transform",(t=>`translate(${[t.x,t.y]})rotate(${t.rotate})`)).text((t=>t.text)).on("click",this.props.onClick),e.exit().transition().duration(750).style("fill-opacity",1e-6).remove()})).start()}updateWordCloud(){const t=this.state.wordCounts;this.cloudLayout.stop().words(t.map((t=>({text:t.text,value:t.value})))).start()}render(){return o.createElement("div",{style:at({width:this.props.width,position:"relative"},this.props.style)},this.props.saveButton&&this.state.wordCounts.length>0?o.createElement(Q.Z,{placement:"left",tooltip:this.props.t("save-word-cloud")},o.createElement(l.Z,{size:"sm",variant:"light",onClick:this.saveToPNG,style:dt,"aria-label":this.props.t("save-word-cloud")},o.createElement("div",{className:"fa fa-save"}))):null)}}pt.defaultProps={data:[],font:"serif",fontSizeMapper:null,precalculated:!1,rotate:t=>t.value%360,width:700,height:600,language:"en",minCount:null,saveButton:!0,updateThreshold:5,stopwords:[],triggerRender:!0,padding:5,onClick(){},style:{}},pt.propTypes={data:r().array,font:r().oneOfType([r().string,r().func]),fontSizeMapper:r().func,height:r().number,language:r().oneOf(["en","fin","fr","ger","it","por","sp","swe"]),minCount:r().number,saveButton:r().bool,onClick:r().func,padding:r().oneOfType([r().func,r().number]),precalculated:r().bool,rotate:r().oneOfType([r().func,r().number]),updateThreshold:r().number,stopwords:r().array,triggerRender:r().bool,style:r().object,width:r().number},e.default=(0,i.Zh)("word-cloud")((0,tt.W)(pt))},55257:function(t,e){const n=/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i;function o(t){setImmediate((function(){throw t}),0)}function s(t){return n.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}const r=function(t){if(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))return;const e=t.document;function n(){return t.URL||t.webkitURL||t}function r(t){setTimeout((function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}),4e4)}let a,i=!1;e&&e.createElementNS&&(a=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in a);const l=/constructor/i.test(t.HTMLElement)||t.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),d=t.setImmediate||t.setTimeout;function u(e,u,p){p||(e=s(e));const f=this,h="application/octet-stream"===e.type;let m;function g(){!function(t,e,n){let s=(e=[].concat(e)).length;for(;s--;){const a=t["on"+e[s]];if("function"==typeof a)try{a.call(t,n||t)}catch(r){o(r)}}}(f,"writestart progress write writeend".split(" "))}if(f.readyState=f.INIT,i)return m=n().createObjectURL(e),void d((function(){a.href=m,a.download=u,function(t){const e=new MouseEvent("click");t.dispatchEvent(e)}(a),g(),r(m),f.readyState=f.DONE}),0);!function(){if((c||h&&l)&&t.FileReader){const n=new FileReader;return n.onloadend=function(){let e=c?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,f.readyState=f.DONE,g()},n.readAsDataURL(e),void(f.readyState=f.INIT)}if(m||(m=n().createObjectURL(e)),h)t.location.href=m;else{t.open(m,"_blank")||(t.location.href=m)}f.readyState=f.DONE,g(),r(m)}()}const p=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=s(t)),navigator.msSaveOrOpenBlob(t,e)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=null,p.onwritestart=null,p.onprogress=null,p.onwrite=null,p.onabort=null,p.onerror=null,p.onwriteend=null,function(t,e,n){return new u(t,e||t.name||"download",n)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);e.Z=r},320675:function(t,e,n){n.d(e,{C:function(){return d},e:function(){return c}});var o=n(588703),s=n.n(o),r=n(287013),a=n.n(r),i=n(686605),l=n.n(i);function c(t){if(!t)return"";t.setAttribute("xlink","http://www.w3.org/1999/xlink"),t.setAttribute("style","background: white;");!function(t,e){const n=document.createElement("style");if(n.setAttribute("type","text/css"),n.innerHTML=t,s()(e.children)){const t=e.children[0]||null;e.insertBefore(n,t)}}(function(t){const e=[];if(e.push("#"+t.id),s()(t.classList))for(let s=0;s<t.classList.length;s++)a()(e,"."+t.classList[s])||e.push("."+t.classList[s]);const n=t.getElementsByTagName("*");for(let i=0;i<n.length;i++){const t=n[i].id;a()(e,"#"+t)||e.push("#"+t);const o=n[i].classList;if(s()(o))for(let n=0;n<o.length;n++)a()(e,"."+o[n])||e.push("."+o[n])}let o="";for(let s=0;s<document.styleSheets.length;s++){const t=document.styleSheets[s];try{if(!t.cssRules)continue}catch(r){if("SecurityError"!==r.name)throw r;continue}const n=t.cssRules;for(let s=0;s<n.length;s++)a()(e,n[s].selectorText)&&(o+=n[s].cssText)}return o}(t),t);let e=(new XMLSerializer).serializeToString(t);return e=e.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),e=e.replace(/NS\d+:href/g,"xlink:href"),e}function d(t,e,n,o){const s="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t))),r=document.createElement("canvas"),a=r.getContext("2d");r.width=e,r.height=n;const i=new Image;i.onload=function(){a.clearRect(0,0,e,n),a.drawImage(i,0,0,e,n),r.toBlob((function(t){const e=l()(t.length/1024)+" KB";if(o)return o(t,e)}))},i.src=s}}}]);