(self.webpackChunk=self.webpackChunk||[]).push([[83182],{583182:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Ic}});var r={};n.r(r),n.d(r,{FILE:function(){return zn},HTML:function(){return Wn},TEXT:function(){return Un},URL:function(){return Fn}});var o=n(202784),i=n(373463),a=n.n(i),s=n(298357),c=n.n(s),u=n(588225),l=Object.defineProperty,d=Object.defineProperties,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&v(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&v(e,n,t[n]);return e};const y=(e,t,n)=>Math.floor(Math.min(t,Math.max(e,n))),b=e=>({x:t,w:n,y:r,h:o},i)=>{const a=Math.min(n/2,e);if(i.x>=t&&i.x<=t+n&&i.y>=r&&i.y<=r+o){if(i.x<t+a)return(i.x-t-a)/a;if(i.x>t+n-a)return-(t+n-i.x-a)/a}return 0},I=e=>({y:t,h:n,x:r,w:o},i)=>{const a=Math.min(n/2,e);if(i.y>=t&&i.y<=t+n&&i.x>=r&&i.x<=r+o){if(i.y<t+a)return(i.y-t-a)/a;if(i.y>t+n-a)return-(t+n-i.y-a)/a}return 0},w=b(150),S={onScrollChange:()=>{},verticalStrength:I(150),horizontalStrength:w,strengthMultiplier:30},T=e=>a()((t=>{let n;t=m(m({},S),t);const r=(0,o.createRef)();let i,a=0,s=0,u=!1,l=!1;const d=c()((e=>{const{left:r,top:o,width:c,height:u}=n.getBoundingClientRect(),l={x:r,y:o,w:c,h:u},d=(e=>"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY})(e);a=t.horizontalStrength(l,d),s=t.verticalStrength(l,d),i||!a&&!s||I()}),100,{trailing:!1});(0,o.useEffect)((()=>{n=r.current,n&&"function"==typeof n.addEventListener&&n.addEventListener("dragover",f),window.document.body.addEventListener("touchmove",f);const e=t.dragDropManager.getMonitor().subscribeToStateChange((()=>v()));return()=>{n&&"function"==typeof n.removeEventListener&&n.removeEventListener("dragover",f),window.document.body.removeEventListener("touchmove",f),e(),w()}}),[]);const f=e=>{l&&!u&&(b(),d(e))},v=()=>{const e=t.dragDropManager.getMonitor().isDragging();!l&&e?l=!0:l&&!e&&(l=!1,w())},b=()=>{u=!0,window.document.body.addEventListener("dragover",d),window.document.body.addEventListener("touchmove",d)},I=()=>{let e=0;const r=()=>{if(0!==t.strengthMultiplier&&a+s!==0){if(e+=1,e%2){const{scrollLeft:e,scrollTop:r,scrollWidth:o,scrollHeight:i,clientWidth:c,clientHeight:u}=n,l=a?n.scrollLeft=y(0,o-c,e+a*t.strengthMultiplier):e,d=s?n.scrollTop=y(0,i-u,r+s*t.strengthMultiplier):r;t.onScrollChange(l,d)}i=requestAnimationFrame(r)}else w()};r()},w=()=>{u=!1,window.document.body.removeEventListener("dragover",d),window.document.body.removeEventListener("touchmove",d),a=0,s=0,i&&(cancelAnimationFrame(i),i=void 0)},T=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["strengthMultiplier","verticalStrength","horizontalStrength","onScrollChange"]);return o.createElement(e,m({ref:r},T))}),e),C=e=>{const t=T(e);return e=>o.createElement(u.L.Consumer,null,(({dragDropManager:n})=>void 0===n?void 0:o.createElement(t,((e,t)=>d(e,f(t)))(m({},e),{dragDropManager:n}))))};var x=n(633958),D=n.n(x);function O(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}function E(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}function k(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}function P(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function R(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,o.isValidElement)(t)){var r=t;return e(r,n),r}var i=t;P(i);var a=n?function(t){return e(t,n)}:e;return j(i,a)}}(r);t[n]=function(){return i}}})),t}function N(e,t){"function"==typeof e?e(t):e.current=t}function j(e,t){var n=e.ref;return O("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,o.cloneElement)(e,{ref:function(e){N(n,e),N(t,e)}}):(0,o.cloneElement)(e,{ref:t})}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function H(e){return null!==e&&"object"===M(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function _(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(o=n?n.call(r,l,d,u):void 0)||void 0===o&&l!==d)return!1}return!0}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,"hooks",R({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,H(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,H(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),B(this,"handlerId",null),B(this,"dragSourceRef",null),B(this,"dragSourceNode",void 0),B(this,"dragSourceOptionsInternal",null),B(this,"dragSourceUnsubscribe",void 0),B(this,"dragPreviewRef",null),B(this,"dragPreviewNode",void 0),B(this,"dragPreviewOptionsInternal",null),B(this,"dragPreviewUnsubscribe",void 0),B(this,"lastConnectedHandlerId",null),B(this,"lastConnectedDragSource",null),B(this,"lastConnectedDragSourceOptions",null),B(this,"lastConnectedDragPreview",null),B(this,"lastConnectedDragPreviewOptions",null),B(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!_(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!_(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&L(t.prototype,n),r&&L(t,r),e}();function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=!1,W=!1,K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,"internalMonitor",void 0),F(this,"sourceId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){O(!U,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return U=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{U=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;O(!W,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return W=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{W=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&z(t.prototype,n),r&&z(t,r),e}();function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function G(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function q(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){var t,n=e;return"Symbol(react.forward_ref)"===(null==n||null===(t=n.$$typeof)||void 0===t?void 0:t.toString())}(e);var t}function Y(e){return"function"==typeof e}function X(){}function $(e){if(!function(e){return"object"===V(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Q(e,t){return"string"==typeof e||"symbol"===V(e)||!!t&&Array.isArray(e)&&e.every((function(e){return Q(e,!1)}))}var Z=n(552322),J=(0,o.createContext)({dragDropManager:void 0});function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(){function e(t){ee(this,e),re(this,"isDisposed",!1),re(this,"action",void 0),this.action=Y(t)?t:X}return ne(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&Y(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();re(oe,"empty",{dispose:X});var ie=function(){function e(){ee(this,e),re(this,"isDisposed",!1),re(this,"disposables",void 0);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return ne(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),ae=function(){function e(){ee(this,e),re(this,"isDisposed",!1),re(this,"current",void 0)}return ne(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,i=e.createConnector,s=e.registerHandler,c=e.containerDisplayName,u=e.getType,l=e.collect,d=e.options.arePropsEqual,f=void 0===d?_:d,h=t,g=t.displayName||t.name||"Component",p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(p,e);var t,a,c,d=fe(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),ve(ge(t=d.call(this,e)),"decoratedRef",(0,o.createRef)()),ve(ge(t),"handlerId",void 0),ve(ge(t),"manager",void 0),ve(ge(t),"handlerMonitor",void 0),ve(ge(t),"handlerConnector",void 0),ve(ge(t),"handler",void 0),ve(ge(t),"disposable",void 0),ve(ge(t),"currentType",void 0),ve(ge(t),"handleChange",(function(){var e=t.getCurrentState();_(e,t.state)||t.setState(e)})),t.disposable=new ae,t.receiveProps(e),t.dispose(),t}return t=p,(a=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return O(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!f(e,this.props)||!_(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new ae,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){f(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(u(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=ce(s(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new ie(new oe(o),new oe(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?l(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return(0,Z.jsx)(J.Consumer,{children:function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),(0,Z.jsx)(h,Object.assign({},e.props,e.getCurrentState(),{ref:q(h)?e.decoratedRef:null}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(O(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",g,g),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=i(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&le(t.prototype,a),c&&le(t,c),p}(o.Component);return ve(p,"DecoratedComponent",t),ve(p,"displayName","".concat(c,"(").concat(g,")")),a()(p,t)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=["canDrag","beginDrag","isDragging","endDrag"],we=["beginDrag"],Se=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),be(this,"props",null),be(this,"spec",void 0),be(this,"monitor",void 0),be(this,"ref",void 0),be(this,"beginDrag",(function(){if(o.props)return o.spec.beginDrag(o.props,o.monitor,o.ref.current)})),this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,G(this.ref))}}])&&ye(t.prototype,n),r&&ye(t,r),e}();function Te(e){return Object.keys(e).forEach((function(t){O(Ie.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',Ie.join(", "),t),O("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),we.forEach((function(t){O("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new Se(e,t,n)}}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=!1,Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xe(this,"internalMonitor",void 0),xe(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;O(!De,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return De=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{De=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&Ce(t.prototype,n),r&&Ce(t,r),e}();function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ke(this,"hooks",R({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,H(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),ke(this,"handlerId",null),ke(this,"dropTargetRef",null),ke(this,"dropTargetNode",void 0),ke(this,"dropTargetOptionsInternal",null),ke(this,"unsubscribeDropTarget",void 0),ke(this,"lastConnectedHandlerId",null),ke(this,"lastConnectedDropTarget",null),ke(this,"lastConnectedDropTargetOptions",null),ke(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!_(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&Ee(t.prototype,n),r&&Ee(t,r),e}();function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=["canDrop","hover","drop"],Me=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ne(this,"props",null),Ne(this,"spec",void 0),Ne(this,"monitor",void 0),Ne(this,"ref",void 0),this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,G(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&Re(t.prototype,n),r&&Re(t,r),e}();function He(e){return Object.keys(e).forEach((function(t){O(je.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',je.join(", "),t),O("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new Me(e,t,n)}}function _e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(O(Q(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),o=function(){return e}),O($(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var i=He(t);return O("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),O($(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return me({containerDisplayName:"DropTarget",createHandler:i,registerHandler:E,createMonitor:function(e){return new Oe(e)},createConnector:function(e){return new Pe(e)},DecoratedComponent:e,getType:o,collect:n,options:r})}}var Le="dnd-core/INIT_COORDS",Be="dnd-core/BEGIN_DRAG",Ae="dnd-core/PUBLISH_DRAG_SOURCE",ze="dnd-core/HOVER",Fe="dnd-core/DROP",Ue="dnd-core/END_DRAG";function We(e,t){return{type:Le,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Ve(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function Ge(e,t){return e.filter((function(e){return e!==t}))}function qe(e){return"object"===Ke(e)}function Ye(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o}var Xe={type:Le,payload:{clientOffset:null,sourceClientOffset:null}};function $e(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,o=void 0===r||r,i=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(We(i)),Qe(t,s,c);var u=et(t,s);if(null!==u){var l=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");Ze(a),l=a(u)}e.dispatch(We(i,l));var d=c.getSource(u),f=d.beginDrag(s,u);if(null!=f){Je(f),c.pinSource(u);var h=c.getSourceType(u);return{type:Be,payload:{itemType:h,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!o}}}}else e.dispatch(Xe)}}function Qe(e,t,n){O(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){O(n.getSource(e),"Expected sourceIds to be registered.")}))}function Ze(e){O("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function Je(e){O(qe(e),"Item must be an object.")}function et(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function tt(e){return function(){if(e.getMonitor().isDragging())return{type:Ae}}}function nt(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function rt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;ot(t);var o=t.slice(0),i=e.getMonitor(),a=e.getRegistry();it(o,i,a);var s=i.getItemType();return at(o,a,s),st(o,i,a),{type:ze,payload:{targetIds:o,clientOffset:r||null}}}}function ot(e){O(Array.isArray(e),"Expected targetIds to be an array.")}function it(e,t,n){O(t.isDragging(),"Cannot call hover while not dragging."),O(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];O(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array."),O(n.getTarget(o),"Expected targetIds to be registered.")}}function at(e,t,n){for(var r=e.length-1;r>=0;r--){var o=e[r];nt(t.getTargetType(o),n)||e.splice(r,1)}}function st(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();ft(n);var o=gt(n);o.forEach((function(o,i){var a=ht(o,i,r,n),s={type:Fe,payload:{dropResult:ut(ut({},t),a)}};e.dispatch(s)}))}}function ft(e){O(e.isDragging(),"Cannot call drop while not dragging."),O(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ht(e,t,n,r){var o=n.getTarget(e),i=o?o.drop(r,e):void 0;return function(e){O(void 0===e||qe(e),"Drop result must either be an object or undefined.")}(i),void 0===i&&(i=0===t?{}:r.getDropResult()),i}function gt(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function pt(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){O(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:Ue}}}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mt(this,"store",void 0),mt(this,"monitor",void 0),mt(this,"backend",void 0),mt(this,"isSetUp",!1),mt(this,"handleRefCountChange",(function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))})),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:$e(e),publishDragSource:tt(e),hover:rt(e),drop:dt(e),endDrag:pt(e)}}(this);return Object.keys(n).reduce((function(r,o){var i,a=n[o];return r[o]=(i=a,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=i.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&vt(t.prototype,n),r&&vt(t,r),e}(),bt=n(118717),It=function(e,t){return e===t};function wt(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function St(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Le:case Be:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ze:return wt(e.clientOffset,n.clientOffset)?e:Ct(Ct({},e),{},{clientOffset:n.clientOffset});case Ue:case Fe:return Dt;default:return e}}var Et="dnd-core/ADD_SOURCE",kt="dnd-core/ADD_TARGET",Pt="dnd-core/REMOVE_SOURCE",Rt="dnd-core/REMOVE_TARGET";function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Be:return jt(jt({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Ae:return jt(jt({},e),{},{isSourcePublic:!0});case ze:return jt(jt({},e),{},{targetIds:n.targetIds});case Rt:return-1===e.targetIds.indexOf(n.targetId)?e:jt(jt({},e),{},{targetIds:Ge(e.targetIds,n.targetId)});case Fe:return jt(jt({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Ue:return jt(jt({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:case kt:return e+1;case Pt:case Rt:return e-1;default:return e}}var Bt=[],At=[];function zt(e,t){return e!==Bt&&(e===At||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function Ft(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ze:break;case Et:case kt:case Rt:case Pt:return Bt;default:return At}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,o=t.prevTargetIds,i=void 0===o?[]:o,a=Ye(r,i),s=a.length>0||!St(r,i);if(!s)return Bt;var c=i[i.length-1],u=r[r.length-1];return c!==u&&(c&&a.push(c),u&&a.push(u)),a}function Ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Ft(e.dirtyHandlerIds,{type:t.type,payload:Kt(Kt({},t.payload),{},{prevTargetIds:Ve(e,"dragOperation.targetIds",[])})}),dragOffset:Ot(e.dragOffset,t),refCount:Lt(e.refCount,t),dragOperation:_t(e.dragOperation,t),stateId:Ut(e.stateId)}}function qt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Bt.__IS_NONE__=!0,At.__IS_ALL__=!0;var $t,Qt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,"store",void 0),Xt(this,"registry",void 0),this.store=t,this.registry=n}var t,n,r;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;O("function"==typeof e,"listener must be a function."),O(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,i=function(){var n=t.store.getState(),i=n.stateId;try{i===o||i===o+1&&!zt(n.dirtyHandlerIds,r)||e()}finally{o=i}};return this.store.subscribe(i)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;O("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return O(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return O(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&nt(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return O(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!nt(r,o))return!1;var i=this.getTargetIds();if(!i.length)return!1;var a=i.indexOf(e);return n?a===i.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset,t&&n&&r?qt(function(e,t){return{x:e.x+t.x,y:e.y+t.y}}(t,r),n):null;var e,t,n,r}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?qt(t,n):null;var e,t,n}}],n&&Yt(t.prototype,n),r&&Yt(t,r),e}(),Zt=0;function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function en(e,t){t&&Array.isArray(e)?e.forEach((function(e){return en(e,!1)})):O("string"==typeof e||"symbol"===Jt(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}($t||($t={}));const tn="undefined"!=typeof global?global:self,nn=tn.MutationObserver||tn.WebKitMutationObserver;function rn(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const on="function"==typeof nn?function(e){let t=1;const n=new nn(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:rn;class an{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const sn=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=on(this.flush),this.requestErrorThrow=rn((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},cn=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new an(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(sn.registerPendingError);function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e){var t=(Zt++).toString();switch(e){case $t.SOURCE:return"S".concat(t);case $t.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function gn(e){switch(e[0]){case"S":return $t.SOURCE;case"T":return $t.TARGET;default:O(!1,"Cannot parse handler ID: ".concat(e))}}function pn(e,t){var n=e.entries(),r=!1;do{var o=n.next(),i=o.done;if(dn(o.value,2)[1]===t)return!0;r=!!i}while(!r);return!1}var vn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ln(this,"types",new Map),ln(this,"dragSources",new Map),ln(this,"dropTargets",new Map),ln(this,"pinnedSourceId",null),ln(this,"pinnedSource",null),ln(this,"store",void 0),this.store=t}var t,n,r;return t=e,n=[{key:"addSource",value:function(e,t){en(e),function(e){O("function"==typeof e.canDrag,"Expected canDrag to be a function."),O("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),O("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler($t.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Et,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){en(e,!0),function(e){O("function"==typeof e.canDrop,"Expected canDrop to be a function."),O("function"==typeof e.hover,"Expected hover to be a function."),O("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler($t.TARGET,e,t);return this.store.dispatch(function(e){return{type:kt,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return pn(this.dragSources,e)||pn(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return O(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return gn(e)===$t.SOURCE}},{key:"isTargetId",value:function(e){return gn(e)===$t.TARGET}},{key:"removeSource",value:function(e){var t,n=this;O(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Pt,payload:{sourceId:e}}}(e)),t=function(){n.dragSources.delete(e),n.types.delete(e)},sn.enqueueTask(cn.create(t))}},{key:"removeTarget",value:function(e){O(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Rt,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);O(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){O(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=hn(e);return this.types.set(r,t),e===$t.SOURCE?this.dragSources.set(r,n):e===$t.TARGET&&this.dropTargets.set(r,n),r}}],n&&un(t.prototype,n),r&&un(t,r),e}();function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=yn(r),i=new Qt(o,new vn(o)),a=new yt(o,i),s=e(a,t,n);return a.receiveBackend(s),a}function yn(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,bt.MT)(Gt,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var bn=["children"];function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Tn=0,Cn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),xn=(0,o.memo)((function(e){var t=e.children,n=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[Cn]||(o[Cn]={dragDropManager:mn(e,t,n,r)});return o[Cn]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(Sn(e,bn)),r=In(n,2),i=r[0],a=r[1];return(0,o.useEffect)((function(){if(a){var e=Dn();return++Tn,function(){0==--Tn&&(e[Cn]=null)}}}),[]),(0,Z.jsx)(J.Provider,Object.assign({value:i},{children:t}),void 0)}));function Dn(){return void 0!==n.g?n.g:window}function On(e){var t=null;return function(){return null==t&&(t=e()),t}}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kn(this,"entered",[]),kn(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&En(t.prototype,n),r&&En(t,r),e}(),Rn=On((function(){return/firefox/i.test(navigator.userAgent)})),Nn=On((function(){return Boolean(window.safari)}));function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Mn(this,"xs",void 0),Mn(this,"ys",void 0),Mn(this,"c1s",void 0),Mn(this,"c2s",void 0),Mn(this,"c3s",void 0);for(var r=t.length,o=[],i=0;i<r;i++)o.push(i);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,c=[],u=[],l=[],d=0;d<r-1;d++)a=t[d+1]-t[d],s=n[d+1]-n[d],u.push(a),c.push(s),l.push(s/a);for(var f=[l[0]],h=0;h<u.length-1;h++){var g=l[h],p=l[h+1];if(g*p<=0)f.push(0);else{a=u[h];var v=u[h+1],m=a+v;f.push(3*m/((m+v)/g+(m+a)/p))}}f.push(l[l.length-1]);for(var y,b=[],I=[],w=0;w<f.length-1;w++){y=l[w];var S=f[w],T=1/u[w],C=S+f[w+1]-y-y;b.push((y-S-C)*T),I.push(C*T*T)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=b,this.c3s=I}var t,n,r;return t=e,n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,c=0,u=i.length-1;c<=u;){var l=t[s=Math.floor(.5*(c+u))];if(l<e)c=s+1;else{if(!(l>e))return n[s];u=s-1}}var d=e-t[a=Math.max(0,u)],f=d*d;return n[a]+r[a]*d+o[a]*f+i[a]*d*f}}],n&&jn(t.prototype,n),r&&jn(t,r),e}();function _n(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function Ln(e){return{x:e.clientX,y:e.clientY}}function Bn(e,t,n,r,o){var i,a,s="IMG"===(i=t).nodeName&&(Rn()||!(null!==(a=document.documentElement)&&void 0!==a&&a.contains(i))),c=_n(s?e:t),u={x:n.x-c.x,y:n.y-c.y},l=e.offsetWidth,d=e.offsetHeight,f=r.anchorX,h=r.anchorY,g=function(e,t,n,r){var o=e?t.width:n,i=e?t.height:r;return Nn()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(s,t,l,d),p=g.dragPreviewWidth,v=g.dragPreviewHeight,m=o.offsetX,y=o.offsetY,b=0===y||y;return{x:0===m||m?m:new Hn([0,.5,1],[u.x,u.x/l*p,u.x+p-l]).interpolate(f),y:b?y:function(){var e=new Hn([0,.5,1],[u.y,u.y/d*v,u.y+v-d]).interpolate(h);return Nn()&&s&&(e+=(window.devicePixelRatio-1)*v),e}()}}var An,zn="__NATIVE_FILE__",Fn="__NATIVE_URL__",Un="__NATIVE_TEXT__",Wn="__NATIVE_HTML__";function Kn(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gn=(Vn(An={},zn,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),Vn(An,Wn,{exposeProperties:{html:function(e,t){return Kn(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),Vn(An,Fn,{exposeProperties:{urls:function(e,t){return Kn(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),Vn(An,Un,{exposeProperties:{text:function(e,t){return Kn(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),An);function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yn(this,"item",void 0),Yn(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&qn(t.prototype,n),r&&qn(t,r),e}();function $n(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Gn).filter((function(e){return Gn[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zn(this,"ownerDocument",null),Zn(this,"globalContext",void 0),Zn(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&Qn(t.prototype,n),r&&Qn(t,r),e}();function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rr(this,"options",void 0),rr(this,"actions",void 0),rr(this,"monitor",void 0),rr(this,"registry",void 0),rr(this,"enterLeaveCounter",void 0),rr(this,"sourcePreviewNodes",new Map),rr(this,"sourcePreviewNodeOptions",new Map),rr(this,"sourceNodes",new Map),rr(this,"sourceNodeOptions",new Map),rr(this,"dragStartSourceIds",null),rr(this,"dropTargetIds",[]),rr(this,"dragEnterTargetIds",[]),rr(this,"currentNativeSource",null),rr(this,"currentNativeHandle",null),rr(this,"currentDragSourceNode",null),rr(this,"altKeyPressed",!1),rr(this,"mouseMoveTimeoutTimer",null),rr(this,"asyncEndDragFrameId",null),rr(this,"dragOverTargetIds",null),rr(this,"lastClientOffset",null),rr(this,"hoverRafId",null),rr(this,"getSourceClientOffset",(function(e){var t=o.sourceNodes.get(e);return t&&_n(t)||null})),rr(this,"endDragNativeItem",(function(){o.isDraggingNativeItem()&&(o.actions.endDrag(),o.currentNativeHandle&&o.registry.removeSource(o.currentNativeHandle),o.currentNativeHandle=null,o.currentNativeSource=null)})),rr(this,"isNodeInDocument",(function(e){return Boolean(e&&o.document&&o.document.body&&o.document.body.contains(e))})),rr(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=o.currentDragSourceNode;null==e||o.isNodeInDocument(e)||o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()})),rr(this,"handleTopDragStartCapture",(function(){o.clearCurrentDragSourceNode(),o.dragStartSourceIds=[]})),rr(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=o.dragStartSourceIds;o.dragStartSourceIds=null;var n=Ln(e);o.monitor.isDragging()&&o.actions.endDrag(),o.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:o.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,i=$n(r);if(o.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var a=o.monitor.getSourceId(),s=o.sourceNodes.get(a),c=o.sourcePreviewNodes.get(a)||s;if(c){var u=o.getCurrentSourcePreviewNodeOptions(),l=Bn(s,c,n,{anchorX:u.anchorX,anchorY:u.anchorY},{offsetX:u.offsetX,offsetY:u.offsetY});r.setDragImage(c,l.x,l.y)}}try{null==r||r.setData("application/json",{})}catch(d){}o.setCurrentDragSourceNode(e.target),o.getCurrentSourcePreviewNodeOptions().captureDraggingState?o.actions.publishDragSource():setTimeout((function(){return o.actions.publishDragSource()}),0)}else if(i)o.beginDragNativeItem(i);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),rr(this,"handleTopDragEndCapture",(function(){o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()})),rr(this,"handleTopDragEnterCapture",(function(e){if(o.dragEnterTargetIds=[],o.enterLeaveCounter.enter(e.target)&&!o.monitor.isDragging()){var t=e.dataTransfer,n=$n(t);n&&o.beginDragNativeItem(n,t)}})),rr(this,"handleTopDragEnter",(function(e){var t=o.dragEnterTargetIds;(o.dragEnterTargetIds=[],o.monitor.isDragging())&&(o.altKeyPressed=e.altKey,t.length>0&&o.actions.hover(t,{clientOffset:Ln(e)}),t.some((function(e){return o.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())))})),rr(this,"handleTopDragOverCapture",(function(){o.dragOverTargetIds=[]})),rr(this,"handleTopDragOver",(function(e){var t=o.dragOverTargetIds;if(o.dragOverTargetIds=[],!o.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));o.altKeyPressed=e.altKey,o.lastClientOffset=Ln(e),null===o.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(o.hoverRafId=requestAnimationFrame((function(){o.monitor.isDragging()&&o.actions.hover(t||[],{clientOffset:o.lastClientOffset}),o.hoverRafId=null}))),(t||[]).some((function(e){return o.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())):o.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),rr(this,"handleTopDragLeaveCapture",(function(e){o.isDraggingNativeItem()&&e.preventDefault(),o.enterLeaveCounter.leave(e.target)&&o.isDraggingNativeItem()&&setTimeout((function(){return o.endDragNativeItem()}),0)})),rr(this,"handleTopDropCapture",(function(e){var t;(o.dropTargetIds=[],o.isDraggingNativeItem())?(e.preventDefault(),null===(t=o.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):$n(e.dataTransfer)&&e.preventDefault();o.enterLeaveCounter.reset()})),rr(this,"handleTopDrop",(function(e){var t=o.dropTargetIds;o.dropTargetIds=[],o.actions.hover(t,{clientOffset:Ln(e)}),o.actions.drop({dropEffect:o.getCurrentDropEffect()}),o.isDraggingNativeItem()?o.endDragNativeItem():o.monitor.isDragging()&&o.actions.endDrag()})),rr(this,"handleSelectStart",(function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new Jn(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Pn(this.isNodeInDocument)}var t,n,o;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return tr({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return tr({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new Xn(Gn[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&nr(t.prototype,n),o&&nr(t,o),e}(),ir=function(e,t,n){return new or(e,t,n)};function ar(e,t){return function(n){return e(t(n))}}function sr(e,t){return t(e)}function cr(e,t){return function(n){return e(t,n)}}function ur(e,t){return function(){return e(t)}}function lr(e,t){return t(e),e}function dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function fr(e){e()}function hr(e){return function(){return e}}function gr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.map(fr)}}function pr(){}function vr(e,t){return e(1,t)}function mr(e,t){e(0,t)}function yr(e){e(2)}function br(e){return e(4)}function Ir(e,t){return vr(e,cr(t,0))}function wr(e,t){var n=e(1,(function(e){n(),t(e)}));return n}function Sr(){var e=[];return function(t,n){switch(t){case 2:return void e.splice(0,e.length);case 1:return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)};case 0:return void e.slice().forEach((function(e){e(n)}));default:throw new Error("unrecognized action "+t)}}}function Tr(e){var t=e,n=Sr();return function(e,r){switch(e){case 1:r(t);break;case 0:t=r;break;case 4:return t}return n(e,r)}}function Cr(e){return lr(Sr(),(function(t){return Ir(e,t)}))}function xr(e,t){return lr(Tr(t),(function(t){return Ir(e,t)}))}function Dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(sr,e)}}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Dr.apply(void 0,n);return function(t,n){switch(t){case 1:return vr(e,o(n));case 2:return void yr(e);default:throw new Error("unrecognized action "+t)}}}function Er(e,t){return e===t}function kr(e){var t;return void 0===e&&(e=Er),function(n){return function(r){e(t,r)||(t=r,n(r))}}}function Pr(e){return function(t){return function(n){e(n)&&t(n)}}}function Rr(e){return function(t){return ar(t,e)}}function Nr(e){return function(t){return function(){return t(e)}}}function jr(e,t){return function(n){return function(r){return n(t=e(t,r))}}}function Mr(e){return function(t){return function(n){e>0?e--:t(n)}}}function Hr(e){var t,n;return function(r){return function(o){t=o,n||(n=setTimeout((function(){n=void 0,r(t)}),e))}}}function _r(e){var t,n;return function(r){return function(o){t=o,n&&clearTimeout(n),n=setTimeout((function(){r(t)}),e)}}}function Lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Array(t.length),o=0,i=null,a=Math.pow(2,t.length)-1;return t.forEach((function(e,t){var n=Math.pow(2,t);vr(e,(function(e){var s=o;o|=n,r[t]=e,s!==a&&o===a&&i&&(i(),i=null)}))})),function(e){return function(t){var n=function(){return e([t].concat(r))};o===a?n():i=n}}}function Br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){switch(e){case 1:return gr.apply(void 0,t.map((function(e){return vr(e,n)})));case 2:return;default:throw new Error("unrecognized action "+e)}}}function Ar(e,t){return void 0===t&&(t=Er),Or(e,kr(t))}function zr(){for(var e=Sr(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=new Array(n.length),i=0,a=Math.pow(2,n.length)-1;return n.forEach((function(t,n){var r=Math.pow(2,n);vr(t,(function(t){o[n]=t,(i|=r)===a&&mr(e,o)}))})),function(t,n){switch(t){case 1:return i===a&&n(o),vr(e,n);case 2:return yr(e);default:throw new Error("unrecognized action "+t)}}}function Fr(e,t,n){void 0===t&&(t=[]);var r=(void 0===n?{singleton:!0}:n).singleton;return{id:Ur(),constructor:e,dependencies:t,singleton:r}}var Ur=function(){return Symbol()};function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Vr=["children"];var Gr="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function qr(e,t,n){var r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),c=(0,o.createContext)({});function u(e,n){e.propsReady&&mr(e.propsReady,!1);for(var o,a=Kr(r);!(o=a()).done;){var s=o.value;mr(e[t.required[s]],n[s])}for(var c,u=Kr(i);!(c=u()).done;){var l=c.value;if(l in n)mr(e[t.optional[l]],n[l])}e.propsReady&&mr(e.propsReady,!0)}function l(e){return s.reduce((function(n,r){var o,i,a,s;return n[r]=(o=e[t.events[r]],s=function(){return i&&i()},function(e,t){switch(e){case 1:if(t){if(a===t)return;return s(),a=t,i=vr(o,t)}return s(),pr;case 2:return s(),void(a=null);default:throw new Error("unrecognized action "+e)}}),n}),{})}var d=(0,o.forwardRef)((function(d,f){var h=d.children,g=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(d,Vr),p=(0,o.useState)((function(){return lr(function(e){var t=new Map;return function e(n){var r=n.id,o=n.constructor,i=n.dependencies,a=n.singleton;if(a&&t.has(r))return t.get(r);var s=o(i.map((function(t){return e(t)})));return a&&t.set(r,s),s}(e)}(e),(function(e){return u(e,g)}))})),v=p[0],m=(0,o.useState)(ur(l,v))[0];return Gr((function(){for(var e,t=Kr(s);!(e=t()).done;){var n=e.value;n in g&&vr(m[n],g[n])}return function(){Object.values(m).map(yr)}}),[g,m,v]),Gr((function(){u(v,g)})),(0,o.useImperativeHandle)(f,hr(function(e){return a.reduce((function(n,r){return n[r]=function(n){mr(e[t.methods[r]],n)},n}),{})}(v))),(0,o.createElement)(c.Provider,{value:v},n?(0,o.createElement)(n,function(e,t){for(var n={},r={},o=0,i=e.length;o<i;)r[e[o]]=1,o+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}([].concat(r,i,s),g),h):h)}));return{Component:d,usePublisher:function(e){return(0,o.useCallback)(cr(mr,(0,o.useContext)(c)[e]),[e])},useEmitterValue:function(e){var t=(0,o.useContext)(c)[e],n=(0,o.useState)(ur(br,t)),r=n[0],i=n[1];return Gr((function(){return vr(t,(function(e){e!==r&&i(hr(e))}))}),[t,r]),r},useEmitter:function(e,t){var n=(0,o.useContext)(c)[e];Gr((function(){return vr(n,t)}),[t,n])}}}var Yr=n(928316);function Xr(){return Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(this,arguments)}function $r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Jr,eo,to,no="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;(to=eo||(eo={}))[to.DEBUG=0]="DEBUG",to[to.INFO=1]="INFO",to[to.WARN=2]="WARN",to[to.ERROR=3]="ERROR";var ro=((Jr={})[eo.DEBUG]="debug",Jr[eo.INFO]="log",Jr[eo.WARN]="warn",Jr[eo.ERROR]="error",Jr),oo=Fr((function(){var e=Tr(eo.ERROR);return{log:Tr((function(t,n,r){var o;void 0===r&&(r=eo.INFO),r>=(null!=(o=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:br(e))&&console[ro[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)})),logLevel:e}}),[],{singleton:!0});function io(e,t){void 0===t&&(t=!0);var n=(0,o.useRef)(null),r=function(e){};if("undefined"!=typeof ResizeObserver){var i=new ResizeObserver((function(t){var n=t[0].target;null!==n.offsetParent&&e(n)}));r=function(e){e&&t?(i.observe(e),n.current=e):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function ao(e,t){return void 0===t&&(t=!0),io(e,t).callbackRef}function so(e,t,n,r,o,i,a){return io((function(n){for(var s=function(e,t,n,r){var o=e.length;if(0===o)return null;for(var i=[],a=0;a<o;a++){var s=e.item(a);if(s&&void 0!==s.dataset.index){var c=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),l=t(s,"offsetHeight");if(0===l&&r("Zero-sized element, this should not happen",{child:s},eo.ERROR),l!==u){var d=i[i.length-1];0===i.length||d.size!==l||d.endIndex!==c-1?i.push({startIndex:c,endIndex:c,size:l}):i[i.length-1].endIndex++}}}return i}(n.children,t,0,o),c=n.parentElement;!c.dataset.virtuosoScroller;)c=c.parentElement;var u=a?a.scrollTop:"window"===c.firstElementChild.dataset.viewportType?window.pageYOffset||document.documentElement.scrollTop:c.scrollTop;r({scrollTop:Math.max(u,0),scrollHeight:(null!=a?a:c).scrollHeight,viewportHeight:(null!=a?a:c).offsetHeight}),null==i||i(function(e,t,n){return"normal"===t||t.endsWith("px")||n("row-gap was not resolved to pixel value correctly",t,eo.WARN),"normal"===t?0:parseInt(t,10)}(0,getComputedStyle(n).rowGap,o)),null!==s&&e(s)}),n)}function co(e,t){return Math.round(e.getBoundingClientRect()[t])}function uo(e,t){return Math.abs(e-t)<1.01}function lo(e,t,n,r,i){void 0===r&&(r=pr);var a=(0,o.useRef)(null),s=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,o.useRef)(!1),l=(0,o.useCallback)((function(n){var r=n.target,o=r===window||r===document,i=o?window.pageYOffset||document.documentElement.scrollTop:r.scrollTop,a=o?document.documentElement.scrollHeight:r.scrollHeight,l=o?window.innerHeight:r.offsetHeight,d=function(){e({scrollTop:Math.max(i,0),scrollHeight:a,viewportHeight:l})};u.current?(0,Yr.flushSync)(d):d(),u.current=!1,null!==s.current&&(i===s.current||i<=0||i===a-l)&&(s.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))}),[e,t]);return(0,o.useEffect)((function(){var e=i||a.current;return r(i||a.current),l({target:e}),e.addEventListener("scroll",l,{passive:!0}),function(){r(null),e.removeEventListener("scroll",l)}}),[a,l,n,r,i]),{scrollerRef:a,scrollByCallback:function(e){u.current=!0,a.current.scrollBy(e)},scrollToCallback:function(n){var r=a.current;if(r&&(!("offsetHeight"in r)||0!==r.offsetHeight)){var o,i,u,l="smooth"===n.behavior;if(r===window?(i=Math.max(co(document.documentElement,"height"),document.documentElement.scrollHeight),o=window.innerHeight,u=document.documentElement.scrollTop):(i=r.scrollHeight,o=co(r,"height"),u=r.scrollTop),n.top=Math.ceil(Math.max(Math.min(i-o,n.top),0)),uo(o,i)||n.top===u)return e({scrollTop:u,scrollHeight:i,viewportHeight:o}),void(l&&t(!0));l?(s.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout((function(){c.current=null,s.current=null,t(!0)}),1e3)):s.current=null,r.scrollTo(n)}}}}var fo=Fr((function(){var e=Sr(),t=Sr(),n=Tr(0),r=Sr(),o=Tr(0),i=Sr(),a=Sr(),s=Tr(0),c=Tr(0),u=Tr(0),l=Sr(),d=Sr(),f=Tr(!1),h=Tr(!1);return Ir(Or(e,Rr((function(e){return e.scrollTop}))),t),Ir(Or(e,Rr((function(e){return e.scrollHeight}))),a),Ir(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,fixedHeaderHeight:c,footerHeight:u,scrollHeight:a,smoothScrollTargetReached:r,react18ConcurrentRendering:h,scrollTo:l,scrollBy:d,statefulScrollTop:o,deviation:n,scrollingInProgress:f}}),[],{singleton:!0}),ho={lvl:0};function go(e,t,n,r,o){return void 0===r&&(r=ho),void 0===o&&(o=ho),{k:e,v:t,lvl:n,l:r,r:o}}function po(e){return e===ho}function vo(){return ho}function mo(e,t){if(po(e))return ho;var n=e.k,r=e.l,o=e.r;if(t===n){if(po(r))return o;if(po(o))return r;var i=So(r);return Do(Co(e,{k:i[0],v:i[1],l:To(r)}))}return Do(Co(e,t<n?{l:mo(r,t)}:{r:mo(o,t)}))}function yo(e,t,n){if(void 0===n&&(n="k"),po(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var r=yo(e.r,t,n);return-1/0===r[0]?[e.k,e.v]:r}return yo(e.l,t,n)}function bo(e,t,n){return po(e)?go(t,n,1):t===e.k?Co(e,{k:t,v:n}):function(e){return ko(Po(e))}(Co(e,t<e.k?{l:bo(e.l,t,n)}:{r:bo(e.r,t,n)}))}function Io(e,t,n){if(po(e))return[];var r=e.k,o=e.v,i=e.r,a=[];return r>t&&(a=a.concat(Io(e.l,t,n))),r>=t&&r<=n&&a.push({k:r,v:o}),r<=n&&(a=a.concat(Io(i,t,n))),a}function wo(e){return po(e)?[]:[].concat(wo(e.l),[{k:e.k,v:e.v}],wo(e.r))}function So(e){return po(e.r)?[e.k,e.v]:So(e.r)}function To(e){return po(e.r)?e.l:Do(Co(e,{r:To(e.r)}))}function Co(e,t){return go(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function xo(e){return po(e)||e.lvl>e.r.lvl}function Do(e){var t=e.l,n=e.r,r=e.lvl;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(xo(t))return Po(Co(e,{lvl:r-1}));if(po(t)||po(t.r))throw new Error("Unexpected empty nodes");return Co(t.r,{l:Co(t,{r:t.r.l}),r:Co(e,{l:t.r.r,lvl:r-1}),lvl:r})}if(xo(e))return ko(Co(e,{lvl:r-1}));if(po(n)||po(n.l))throw new Error("Unexpected empty nodes");var o=n.l,i=xo(o)?n.lvl-1:n.lvl;return Co(o,{l:Co(e,{r:o.l,lvl:r-1}),r:ko(Co(n,{l:o.r,lvl:i})),lvl:o.lvl+1})}function Oo(e,t,n){return po(e)?[]:Eo(Io(e,yo(e,t)[0],n),(function(e){return{index:e.k,value:e.v}}))}function Eo(e,t){var n=e.length;if(0===n)return[];for(var r=t(e[0]),o=r.index,i=r.value,a=[],s=1;s<n;s++){var c=t(e[s]),u=c.index,l=c.value;a.push({start:o,end:u-1,value:i}),o=u,i=l}return a.push({start:o,end:1/0,value:i}),a}function ko(e){var t=e.r,n=e.lvl;return po(t)||po(t.r)||t.lvl!==n||t.r.lvl!==n?e:Co(t,{l:Co(e,{r:t.l}),lvl:n+1})}function Po(e){var t=e.l;return po(t)||t.lvl!==e.lvl?e:Co(t,{r:Co(e,{l:t.r})})}function Ro(e,t,n,r){void 0===r&&(r=0);for(var o=e.length-1;r<=o;){var i=Math.floor((r+o)/2),a=n(e[i],t);if(0===a)return i;if(-1===a){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function No(e,t,n){return e[Ro(e,t,n)]}var jo=Fr((function(){return{recalcInProgress:Tr(!1)}}),[],{singleton:!0});function Mo(e){var t=e.size,n=e.startIndex,r=e.endIndex;return function(e){return e.start===n&&(e.end===r||1/0===e.end)&&e.value===t}}function Ho(e,t){var n=e.index;return t===n?0:t<n?-1:1}function _o(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function Lo(e){return{index:e.index,value:e}}function Bo(e,t,n,r){var o=e,i=0,a=0,s=0,c=0;if(0!==t){s=o[c=Ro(o,t-1,Ho)].offset;var u=yo(n,t-1);i=u[0],a=u[1],o.length&&o[c].size===yo(n,t)[1]&&(c-=1),o=o.slice(0,c+1)}else o=[];for(var l,d=Zr(Oo(n,t,1/0));!(l=d()).done;){var f=l.value,h=f.start,g=f.value,p=h-i,v=p*a+s+p*r;o.push({offset:v,size:g,index:h}),i=h,s=v,a=g}return{offsetTree:o,lastIndex:i,lastOffset:s,lastSize:a}}function Ao(e,t){var n=t[0],r=t[1],o=t[3];n.length>0&&(0,t[2])("received item sizes",n,eo.DEBUG);var i=e.sizeTree,a=i,s=0;if(r.length>0&&po(i)&&2===n.length){var c=n[0].size,u=n[1].size;a=r.reduce((function(e,t){return bo(bo(e,t,c),t+1,u)}),a)}else{var l=function(e,t){for(var n,r=po(e)?0:1/0,o=Zr(t);!(n=o()).done;){var i=n.value,a=i.size,s=i.startIndex,c=i.endIndex;if(r=Math.min(r,s),po(e))e=bo(e,0,a);else{var u=Oo(e,s-1,c+1);if(!u.some(Mo(i))){for(var l,d=!1,f=!1,h=Zr(u);!(l=h()).done;){var g=l.value,p=g.start,v=g.end,m=g.value;d?(c>=p||a===m)&&(e=mo(e,p)):(f=m!==a,d=!0),v>c&&c>=p&&m!==a&&(e=bo(e,c+1,m))}f&&(e=bo(e,s,a))}}}return[e,r]}(a,n);a=l[0],s=l[1]}if(a===i)return e;var d=Bo(e.offsetTree,s,a,o),f=d.offsetTree;return{sizeTree:a,offsetTree:f,lastIndex:d.lastIndex,lastOffset:d.lastOffset,lastSize:d.lastSize,groupOffsetTree:r.reduce((function(e,t){return bo(e,t,zo(t,f,o))}),vo()),groupIndices:r}}function zo(e,t,n){if(0===t.length)return 0;var r=No(t,e,Ho),o=e-r.index,i=r.size*o+(o-1)*n+r.offset;return i>0?i+n:i}function Fo(e,t,n){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;var r=Uo("LAST"===e.index?n:e.index,t);return Math.max(0,r,Math.min(n,r))}function Uo(e,t){if(!Wo(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function Wo(e){return!po(e.groupOffsetTree)}var Ko={offsetHeight:"height",offsetWidth:"width"},Vo=Fr((function(e){var t=e[0].log,n=e[1].recalcInProgress,r=Sr(),o=Sr(),i=xr(o,0),a=Sr(),s=Sr(),c=Tr(0),u=Tr([]),l=Tr(void 0),d=Tr(void 0),f=Tr((function(e,t){return co(e,Ko[t])})),h=Tr(void 0),g=Tr(0),p={offsetTree:[],sizeTree:vo(),groupOffsetTree:vo(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=xr(Or(r,Lr(u,t,g),jr(Ao,p),kr()),p);Ir(Or(u,Pr((function(e){return e.length>0})),Lr(v,g),Rr((function(e){var t=e[0],n=e[1],r=e[2],o=t.reduce((function(e,t,o){return bo(e,t,zo(t,n.offsetTree,r)||o)}),vo());return Xr({},n,{groupIndices:t,groupOffsetTree:o})}))),v),Ir(Or(o,Lr(v),Pr((function(e){return e[0]<e[1].lastIndex})),Rr((function(e){var t=e[1];return[{startIndex:e[0],endIndex:t.lastIndex,size:t.lastSize}]}))),r),Ir(l,d);var m=xr(Or(l,Rr((function(e){return void 0===e}))),!0);Ir(Or(d,Pr((function(e){return void 0!==e&&po(br(v).sizeTree)})),Rr((function(e){return[{startIndex:0,endIndex:0,size:e}]}))),r);var y=Cr(Or(r,Lr(v),jr((function(e,t){var n=t[1];return{changed:n!==e.sizes,sizes:n}}),{changed:!1,sizes:p}),Rr((function(e){return e.changed}))));vr(Or(c,jr((function(e,t){return{diff:e.prev-t,prev:t}}),{diff:0,prev:0}),Rr((function(e){return e.diff}))),(function(e){e>0?(mr(n,!0),mr(a,e)):e<0&&mr(s,e)})),vr(Or(c,Lr(t)),(function(e){e[0]<0&&(0,e[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:c},eo.ERROR)}));var b=Cr(a);Ir(Or(a,Lr(v),Rr((function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return wo(n.sizeTree).reduce((function(e,n){var r=n.k,o=n.v;return{ranges:[].concat(e.ranges,[{startIndex:e.prevIndex,endIndex:r+t-1,size:e.prevSize}]),prevIndex:r+t,prevSize:o}}),{ranges:[],prevIndex:0,prevSize:n.lastSize}).ranges}))),r);var I=Cr(Or(s,Lr(v,g),Rr((function(e){return zo(-e[0],e[1].offsetTree,e[2])}))));return Ir(Or(s,Lr(v,g),Rr((function(e){var t=e[0],n=e[1],r=e[2];if(n.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var o=wo(n.sizeTree).reduce((function(e,n){var r=n.v;return bo(e,Math.max(0,n.k+t),r)}),vo());return Xr({},n,{sizeTree:o},Bo(n.offsetTree,0,o,r))}))),v),{data:h,totalCount:o,sizeRanges:r,groupIndices:u,defaultItemSize:d,fixedItemSize:l,unshiftWith:a,shiftWith:s,shiftWithOffset:I,beforeUnshiftWith:b,firstItemIndex:c,gap:g,sizes:v,listRefresh:y,statefulTotalCount:i,trackItemSizes:m,itemSize:f}}),dr(oo,jo),{singleton:!0}),Go="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function qo(e){var t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Go||(t.behavior="auto"),t.offset||(t.offset=0),t}var Yo=Fr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=t.listRefresh,i=t.gap,a=e[1],s=a.scrollingInProgress,c=a.viewportHeight,u=a.scrollTo,l=a.smoothScrollTargetReached,d=a.headerHeight,f=a.footerHeight,h=e[2].log,g=Sr(),p=Tr(0),v=null,m=null,y=null;function b(){v&&(v(),v=null),y&&(y(),y=null),m&&(clearTimeout(m),m=null),mr(s,!1)}return Ir(Or(g,Lr(n,c,r,p,d,f,h),Lr(i),Rr((function(e){var t=e[0],n=t[0],r=t[1],i=t[2],a=t[3],c=t[4],u=t[5],d=t[6],f=t[7],h=e[1],p=qo(n),I=p.align,w=p.behavior,S=p.offset,T=a-1,C=Fo(p,r,T),x=zo(C,r.offsetTree,h)+u;"end"===I?(x=x-i+yo(r.sizeTree,C)[1],C===T&&(x+=d)):"center"===I?x=x-i/2+yo(r.sizeTree,C)[1]/2:x-=c,S&&(x+=S);var D=function(e){b(),e?(f("retrying to scroll to",{location:n},eo.DEBUG),mr(g,n)):f("list did not change, scroll successful",{},eo.DEBUG)};if(b(),"smooth"===w){var O=!1;y=vr(o,(function(e){O=O||e})),v=wr(l,(function(){D(O)}))}else v=wr(Or(o,(function(e){var t=setTimeout((function(){e(!1)}),150);return function(n){n&&(e(!0),clearTimeout(t))}})),D);return m=setTimeout((function(){b()}),1200),mr(s,!0),f("scrolling from index to",{index:C,top:x,behavior:w},eo.DEBUG),{top:x,behavior:w}}))),u),{scrollToIndex:g,topListHeight:p}}),dr(Vo,fo,oo),{singleton:!0}),Xo="up",$o={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Qo=Fr((function(e){var t=e[0],n=t.scrollContainerState,r=t.scrollTop,o=t.viewportHeight,i=t.headerHeight,a=t.footerHeight,s=t.scrollBy,c=Tr(!1),u=Tr(!0),l=Sr(),d=Sr(),f=Tr(4),h=Tr(0),g=xr(Or(Br(Or(Ar(r),Mr(1),Nr(!0)),Or(Ar(r),Mr(1),Nr(!1),_r(100))),kr()),!1),p=xr(Or(Br(Or(s,Nr(!0)),Or(s,Nr(!1),_r(200))),kr()),!1);Ir(Or(zr(Ar(r),Ar(h)),Rr((function(e){return e[0]<=e[1]})),kr()),u),Ir(Or(u,Hr(50)),d);var v=Cr(Or(zr(n,Ar(o),Ar(i),Ar(a),Ar(f)),jr((function(e,t){var n,r,o=t[0],i=o.scrollTop,a=o.scrollHeight,s=t[1],c={viewportHeight:s,scrollTop:i,scrollHeight:a};return i+s-a>-t[4]?(i>e.state.scrollTop?(n="SCROLLED_DOWN",r=e.state.scrollTop-i):(n="SIZE_DECREASED",r=e.state.scrollTop-i||e.scrollTopDelta),{atBottom:!0,state:c,atBottomBecause:n,scrollTopDelta:r}):{atBottom:!1,notAtBottomBecause:c.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":s<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":i<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:c}}),$o),kr((function(e,t){return e&&e.atBottom===t.atBottom})))),m=xr(Or(n,jr((function(e,t){var n=t.scrollTop,r=t.scrollHeight,o=t.viewportHeight;return uo(e.scrollHeight,r)?{scrollTop:n,scrollHeight:r,jump:0,changed:!1}:e.scrollTop!==n&&r-(n+o)<1?{scrollHeight:r,scrollTop:n,jump:e.scrollTop-n,changed:!0}:{scrollHeight:r,scrollTop:n,jump:0,changed:!0}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Pr((function(e){return e.changed})),Rr((function(e){return e.jump}))),0);Ir(Or(v,Rr((function(e){return e.atBottom}))),c),Ir(Or(c,Hr(50)),l);var y=Tr("down");Ir(Or(n,Rr((function(e){return e.scrollTop})),kr(),jr((function(e,t){return br(p)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Xo:"down",prevScrollTop:t}}),{direction:"down",prevScrollTop:0}),Rr((function(e){return e.direction}))),y),Ir(Or(n,Hr(50),Nr("none")),y);var b=Tr(0);return Ir(Or(g,Pr((function(e){return!e})),Nr(0)),b),Ir(Or(r,Hr(100),Lr(g),Pr((function(e){return!!e[1]})),jr((function(e,t){return[e[1],t[0]]}),[0,0]),Rr((function(e){return e[1]-e[0]}))),b),{isScrolling:g,isAtTop:u,isAtBottom:c,atBottomState:v,atTopStateChange:d,atBottomStateChange:l,scrollDirection:y,atBottomThreshold:f,atTopThreshold:h,scrollVelocity:b,lastJumpDueToItemResize:m}}),dr(fo)),Zo=Fr((function(e){var t=e[0].log,n=Tr(!1),r=Cr(Or(n,Pr((function(e){return e})),kr()));return vr(n,(function(e){e&&br(t)("props updated",{},eo.DEBUG)})),{propsReady:n,didMount:r}}),dr(oo),{singleton:!0}),Jo=Fr((function(e){var t=e[0],n=t.sizes,r=t.listRefresh,o=t.defaultItemSize,i=e[1].scrollTop,a=e[2].scrollToIndex,s=e[3].didMount,c=Tr(!0),u=Tr(0);return Ir(Or(s,Lr(u),Pr((function(e){return!!e[1]})),Nr(!1)),c),vr(Or(zr(r,s),Lr(c,n,o),Pr((function(e){var t=e[1],n=e[3];return e[0][1]&&(!po(e[2].sizeTree)||void 0!==n)&&!t})),Lr(u)),(function(e){var t=e[1];setTimeout((function(){wr(i,(function(){mr(c,!0)})),mr(a,t)}))})),{scrolledToInitialItem:c,initialTopMostItemIndex:u}}),dr(Vo,fo,Yo,Zo),{singleton:!0});function ei(e){return!!e&&("smooth"===e?"smooth":"auto")}var ti=Fr((function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,o=e[1],i=o.isAtBottom,a=o.atBottomState,s=e[2].scrollToIndex,c=e[3].scrolledToInitialItem,u=e[4],l=u.propsReady,d=u.didMount,f=e[5].log,h=e[6].scrollingInProgress,g=Tr(!1),p=Sr(),v=null;function m(e){mr(s,{index:"LAST",align:"end",behavior:e})}function y(e){var t=wr(a,(function(t){!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||v||(br(f)("scrolling to bottom due to increased size",{},eo.DEBUG),m("auto"))}));setTimeout(t,100)}return vr(Or(zr(Or(Ar(n),Mr(1)),d),Lr(Ar(g),i,c,h),Rr((function(e){var t=e[0],n=t[0],r=t[1]&&e[3],o="auto";return r&&(o=function(e,t){return"function"==typeof e?ei(e(t)):t&&ei(e)}(e[1],e[2]||e[4]),r=r&&!!o),{totalCount:n,shouldFollow:r,followOutputBehavior:o}})),Pr((function(e){return e.shouldFollow}))),(function(e){var t=e.totalCount,n=e.followOutputBehavior;v&&(v(),v=null),v=wr(r,(function(){br(f)("following output to ",{totalCount:t},eo.DEBUG),m(n),v=null}))})),vr(Or(zr(Ar(g),n,l),Pr((function(e){return e[0]&&e[2]})),jr((function(e,t){var n=t[1];return{refreshed:e.value===n,value:n}}),{refreshed:!1,value:0}),Pr((function(e){return e.refreshed})),Lr(g,n)),(function(e){y(!1!==e[1])})),vr(p,(function(){y(!1!==br(g))})),vr(zr(Ar(g),a),(function(e){var t=e[1];e[0]&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&m("auto")})),{followOutput:g,autoscrollToBottom:p}}),dr(Vo,Qo,Yo,Jo,Zo,oo,fo));function ni(e){return e.reduce((function(e,t){return e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e}),{totalCount:0,groupIndices:[]})}var ri=Fr((function(e){var t=e[0],n=t.totalCount,r=t.groupIndices,o=t.sizes,i=e[1],a=i.scrollTop,s=i.headerHeight,c=Sr(),u=Sr(),l=Cr(Or(c,Rr(ni)));return Ir(Or(l,Rr((function(e){return e.totalCount}))),n),Ir(Or(l,Rr((function(e){return e.groupIndices}))),r),Ir(Or(zr(a,o,s),Pr((function(e){return Wo(e[1])})),Rr((function(e){return yo(e[1].groupOffsetTree,Math.max(e[0]-e[2],0),"v")[0]})),kr(),Rr((function(e){return[e]}))),u),{groupCounts:c,topItemsIndexes:u}}),dr(Vo,fo));function oi(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function ii(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function ai(e,t,n){return"number"==typeof e?n===Xo&&"top"===t||"down"===n&&"bottom"===t?e:0:n===Xo?"top"===t?e.main:e.reverse:"bottom"===t?e.main:e.reverse}function si(e,t){return"number"==typeof e?e:e[t]||0}var ci=Fr((function(e){var t=e[0],n=t.scrollTop,r=t.viewportHeight,o=t.deviation,i=t.headerHeight,a=t.fixedHeaderHeight,s=Sr(),c=Tr(0),u=Tr(0),l=Tr(0),d=xr(Or(zr(Ar(n),Ar(r),Ar(i),Ar(s,oi),Ar(l),Ar(c),Ar(a),Ar(o),Ar(u)),Rr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=o[0],a=o[1],s=e[4],c=e[6],u=e[7],l=e[8],d=t-u,f=e[5]+c,h=Math.max(r-d,0),g="none",p=si(l,"top"),v=si(l,"bottom");return i-=u,a+=r+c,(i+=r+c)>t+f-p&&(g=Xo),(a-=u)<t-h+n+v&&(g="down"),"none"!==g?[Math.max(d-r-ai(s,"top",g)-p,0),d-h-c+n+ai(s,"bottom",g)+v]:null})),Pr((function(e){return null!=e})),kr(oi)),[0,0]);return{listBoundary:s,overscan:l,topListHeight:c,increaseViewportBy:u,visibleRange:d}}),dr(fo),{singleton:!0}),ui={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function li(e,t,n){if(0===e.length)return[];if(!Wo(t))return e.map((function(e){return Xr({},e,{index:e.index+n,originalIndex:e.index})}));for(var r,o=[],i=Oo(t.groupOffsetTree,e[0].index,e[e.length-1].index),a=void 0,s=0,c=Zr(e);!(r=c()).done;){var u=r.value;(!a||a.end<u.index)&&(a=i.shift(),s=t.groupIndices.indexOf(a.start)),o.push(Xr({},u.index===a.start?{type:"group",index:s}:{index:u.index-(s+1)+n,groupIndex:s},{size:u.size,offset:u.offset,originalIndex:u.index,data:u.data}))}return o}function di(e,t,n,r,o,i){var a=0,s=0;if(e.length>0){a=e[0].offset;var c=e[e.length-1];s=c.offset+c.size}var u=n-o.lastIndex,l=a,d=o.lastOffset+u*o.lastSize+(u-1)*r-s;return{items:li(e,o,i),topItems:li(t,o,i),topListHeight:t.reduce((function(e,t){return t.size+e}),0),offsetTop:a,offsetBottom:d,top:l,bottom:s,totalCount:n,firstItemIndex:i}}var fi=Fr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=t.data,i=t.firstItemIndex,a=t.gap,s=e[1],c=e[2],u=c.visibleRange,l=c.listBoundary,d=c.topListHeight,f=e[3],h=f.scrolledToInitialItem,g=f.initialTopMostItemIndex,p=e[4].topListHeight,v=e[5],m=e[6].didMount,y=e[7].recalcInProgress,b=Tr([]),I=Sr();Ir(s.topItemsIndexes,b);var w=xr(Or(zr(m,y,Ar(u,oi),Ar(r),Ar(n),Ar(g),h,Ar(b),Ar(i),Ar(a),o),Pr((function(e){return e[0]&&!e[1]})),Rr((function(e){var t=e[2],n=t[0],r=t[1],o=e[3],i=e[5],a=e[6],s=e[7],c=e[8],u=e[9],l=e[10],d=e[4],f=d.sizeTree,h=d.offsetTree;if(0===o||0===n&&0===r)return ui;if(po(f))return di(function(e,t,n){if(Wo(t)){var r=Uo(e,t);return[{index:yo(t.groupOffsetTree,r)[0],size:0,offset:0},{index:r,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}(function(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}(i,o),d,l),[],o,u,d,c);var g=[];if(s.length>0)for(var p,v=s[0],m=s[s.length-1],y=0,b=Zr(Oo(f,v,m));!(p=b()).done;)for(var I=p.value,w=I.value,S=Math.max(I.start,v),T=Math.min(I.end,m),C=S;C<=T;C++)g.push({index:C,size:w,offset:y,data:l&&l[C]}),y+=w;if(!a)return di([],g,o,u,d,c);var x=s.length>0?s[s.length-1]+1:0,D=function(e,t,n,r){return void 0===r&&(r=0),r>0&&(t=Math.max(t,No(e,r,Ho).offset)),Eo((i=n,s=Ro(o=e,t,a=_o),c=Ro(o,i,a,s),o.slice(s,c+1)),Lo);var o,i,a,s,c}(h,n,r,x);if(0===D.length)return null;var O=o-1;return di(lr([],(function(e){for(var t,o=Zr(D);!(t=o()).done;){var i=t.value,a=i.value,s=a.offset,c=i.start,d=a.size;if(a.offset<n){var f=(c+=Math.floor((n-a.offset+u)/(d+u)))-i.start;s+=f*d+f*u}c<x&&(s+=(x-c)*d,c=x);for(var h=Math.min(i.end,O),g=c;g<=h&&!(s>=r);g++)e.push({index:g,size:d,offset:s,data:l&&l[g]}),s+=d+u}})),g,o,u,d,c)})),Pr((function(e){return null!==e})),kr()),ui);return Ir(Or(o,Pr((function(e){return void 0!==e})),Rr((function(e){return e.length}))),r),Ir(Or(w,Rr((function(e){return e.topListHeight}))),p),Ir(p,d),Ir(Or(w,Rr((function(e){return[e.top,e.bottom]}))),l),Ir(Or(w,Rr((function(e){return e.items}))),I),Xr({listState:w,topItemsIndexes:b,endReached:Cr(Or(w,Pr((function(e){return e.items.length>0})),Lr(r,o),Pr((function(e){var t=e[0].items;return t[t.length-1].originalIndex===e[1]-1})),Rr((function(e){return[e[1]-1,e[2]]})),kr(oi),Rr((function(e){return e[0]})))),startReached:Cr(Or(w,Hr(200),Pr((function(e){var t=e.items;return t.length>0&&t[0].originalIndex===e.topItems.length})),Rr((function(e){return e.items[0].index})),kr())),rangeChanged:Cr(Or(w,Pr((function(e){return e.items.length>0})),Rr((function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}})),kr(ii))),itemsRendered:I},v)}),dr(Vo,ri,ci,Jo,Yo,Qo,Zo,jo),{singleton:!0}),hi=Fr((function(e){var t=e[0],n=t.sizes,r=t.firstItemIndex,o=t.data,i=t.gap,a=e[1].listState,s=e[2].didMount,c=Tr(0);return Ir(Or(s,Lr(c),Pr((function(e){return 0!==e[1]})),Lr(n,r,i,o),Rr((function(e){var t=e[0][1],n=e[1],r=e[2],o=e[3],i=e[4],a=void 0===i?[]:i,s=0;if(n.groupIndices.length>0)for(var c,u=Zr(n.groupIndices);!((c=u()).done||c.value-s>=t);)s++;var l=t+s;return di(Array.from({length:l}).map((function(e,t){return{index:t,size:0,offset:0,data:a[t]}})),[],l,o,n,r)}))),a),{initialItemCount:c}}),dr(Vo,fi,Zo),{singleton:!0}),gi=Fr((function(e){var t=e[0].scrollVelocity,n=Tr(!1),r=Sr(),o=Tr(!1);return Ir(Or(t,Lr(o,n,r),Pr((function(e){return!!e[1]})),Rr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=n.enter;if(r){if((0,n.exit)(t,o))return!1}else if(i(t,o))return!0;return r})),kr()),n),vr(Or(zr(n,t,r),Lr(o)),(function(e){var t=e[0],n=e[1];return t[0]&&n&&n.change&&n.change(t[1],t[2])})),{isSeeking:n,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:r}}),dr(Qo),{singleton:!0}),pi=Fr((function(e){var t=e[0].topItemsIndexes,n=Tr(0);return Ir(Or(n,Pr((function(e){return e>0})),Rr((function(e){return Array.from({length:e}).map((function(e,t){return t}))}))),t),{topItemCount:n}}),dr(fi)),vi=Fr((function(e){var t=e[0],n=t.footerHeight,r=t.headerHeight,o=t.fixedHeaderHeight,i=e[1].listState,a=Sr(),s=xr(Or(zr(n,r,o,i),Rr((function(e){var t=e[3];return e[0]+e[1]+e[2]+t.offsetBottom+t.bottom}))),0);return Ir(Ar(s),a),{totalListHeight:s,totalListHeightChanged:a}}),dr(fo,fi),{singleton:!0});function mi(e){var t,n=!1;return function(){return n||(n=!0,t=e()),t}}var yi=mi((function(){return/iP(ad|hone|od).+Version\/[\d.]+.*Safari/i.test(navigator.userAgent)})),bi=Fr((function(e){var t=e[0],n=t.scrollBy,r=t.scrollTop,o=t.deviation,i=t.scrollingInProgress,a=e[1],s=a.isScrolling,c=a.isAtBottom,u=a.scrollDirection,l=e[3],d=l.beforeUnshiftWith,f=l.shiftWithOffset,h=l.sizes,g=l.gap,p=e[4].log,v=e[5].recalcInProgress,m=Cr(Or(e[2].listState,Lr(a.lastJumpDueToItemResize),jr((function(e,t){var n=e[1],r=t[0],o=r.items,i=r.totalCount,a=r.bottom+r.offsetBottom,s=0;return e[2]===i&&n.length>0&&o.length>0&&(0===o[0].originalIndex&&0===n[0].originalIndex||0!=(s=a-e[3])&&(s+=t[1])),[s,o,i,a]}),[0,[],0,0]),Pr((function(e){return 0!==e[0]})),Lr(r,u,i,c,p),Pr((function(e){return!e[3]&&0!==e[1]&&e[2]===Xo})),Rr((function(e){var t=e[0][0];return(0,e[5])("Upward scrolling compensation",{amount:t},eo.DEBUG),t}))));function y(e){e>0?(mr(n,{top:-e,behavior:"auto"}),mr(o,0)):(mr(o,0),mr(n,{top:-e,behavior:"auto"}))}return vr(Or(m,Lr(o,s)),(function(e){var t=e[0],n=e[1];e[2]&&yi()?mr(o,n-t):y(-t)})),vr(Or(zr(xr(s,!1),o,v),Pr((function(e){return!e[0]&&!e[2]&&0!==e[1]})),Rr((function(e){return e[1]})),Hr(1)),y),Ir(Or(f,Rr((function(e){return{top:-e}}))),n),vr(Or(d,Lr(h,g),Rr((function(e){var t=e[0];return t*e[1].lastSize+t*e[2]}))),(function(e){mr(o,e),requestAnimationFrame((function(){mr(n,{top:e}),requestAnimationFrame((function(){mr(o,0),mr(v,!1)}))}))})),{deviation:o}}),dr(fo,Qo,fi,Vo,oo,jo)),Ii=Fr((function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,o=Tr(0);return vr(Or(n,Lr(o),Pr((function(e){return 0!==e[1]})),Rr((function(e){return{top:e[1]}}))),(function(e){wr(Or(t,Pr((function(e){return 0!==e}))),(function(){setTimeout((function(){mr(r,e)}))}))})),{initialScrollTop:o}}),dr(vi,Zo,fo),{singleton:!0}),wi=Fr((function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=Tr(!1);return{alignToBottom:r,paddingTopAddition:xr(Or(zr(r,t,n),Pr((function(e){return e[0]})),Rr((function(e){return Math.max(0,e[1]-e[2])})),kr()),0)}}),dr(fo,vi),{singleton:!0}),Si=Fr((function(e){var t=e[0],n=t.scrollTo,r=t.scrollContainerState,o=Sr(),i=Sr(),a=Sr(),s=Tr(!1),c=Tr(void 0);return Ir(Or(zr(o,i),Rr((function(e){var t=e[0],n=t.viewportHeight,r=t.scrollHeight;return{scrollTop:Math.max(0,t.scrollTop-e[1].offsetTop),scrollHeight:r,viewportHeight:n}}))),r),Ir(Or(n,Lr(i),Rr((function(e){var t=e[0];return Xr({},t,{top:t.top+e[1].offsetTop})}))),a),{useWindowScroll:s,customScrollParent:c,windowScrollContainerState:o,windowViewportRect:i,windowScrollTo:a}}),dr(fo)),Ti=["done","behavior"],Ci=Fr((function(e){var t=e[0],n=t.sizes,r=t.totalCount,o=t.gap,i=e[1],a=i.scrollTop,s=i.viewportHeight,c=i.headerHeight,u=i.scrollingInProgress,l=e[2].scrollToIndex,d=Sr();return Ir(Or(d,Lr(n,s,r,c,a,o),Rr((function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],c=t.done,l=t.behavior,d=$r(t,Ti),f=null,h=Fo(t,n,o-1),g=zo(h,n.offsetTree,s)+i;return g<a?f=Xr({},d,{behavior:l,align:"start"}):g+yo(n.sizeTree,h)[1]>a+r&&(f=Xr({},d,{behavior:l,align:"end"})),f?c&&wr(Or(u,Mr(1),Pr((function(e){return!1===e}))),c):c&&c(),f})),Pr((function(e){return null!==e}))),l),{scrollIntoView:d}}),dr(Vo,fo,Yo,fi,oo),{singleton:!0}),xi=["listState","topItemsIndexes"],Di=Fr((function(e){return Xr({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}),dr(ci,hi,Zo,gi,vi,Ii,wi,Si,Ci)),Oi=Fr((function(e){var t=e[0],n=t.totalCount,r=t.sizeRanges,o=t.fixedItemSize,i=t.defaultItemSize,a=t.trackItemSizes,s=t.itemSize,c=t.data,u=t.firstItemIndex,l=t.groupIndices,d=t.statefulTotalCount,f=t.gap,h=e[1],g=h.initialTopMostItemIndex,p=h.scrolledToInitialItem,v=e[2],m=e[3],y=e[4],b=y.listState,I=y.topItemsIndexes,w=$r(y,xi),S=e[5].scrollToIndex,T=e[7].topItemCount,C=e[8].groupCounts,x=e[9],D=e[10];return Ir(w.rangeChanged,x.scrollSeekRangeChanged),Ir(Or(x.windowViewportRect,Rr((function(e){return e.visibleHeight}))),v.viewportHeight),Xr({totalCount:n,data:c,firstItemIndex:u,sizeRanges:r,initialTopMostItemIndex:g,scrolledToInitialItem:p,topItemsIndexes:I,topItemCount:T,groupCounts:C,fixedItemHeight:o,defaultItemHeight:i,gap:f},m,{statefulTotalCount:d,listState:b,scrollToIndex:S,trackItemSizes:a,itemSize:s,groupIndices:l},w,x,v,D)}),dr(Vo,Jo,fo,ti,fi,Yo,bi,pi,ri,Di,oo)),Ei=mi((function(){if("undefined"==typeof document)return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky","-webkit-sticky"===e.style.position?"-webkit-sticky":"sticky"}));function ki(e,t){var n=(0,o.useRef)(null),r=(0,o.useCallback)((function(r){if(null!==r&&r.offsetParent){var o,i,a=r.getBoundingClientRect(),s=a.width;if(t){var c=t.getBoundingClientRect(),u=a.top-c.top;o=c.height-Math.max(0,u),i=u+t.scrollTop}else o=window.innerHeight-Math.max(0,a.top),i=a.top+window.pageYOffset;n.current={offsetTop:i,visibleHeight:o,visibleWidth:s},e(n.current)}}),[e,t]),i=io(r),a=i.callbackRef,s=i.ref,c=(0,o.useCallback)((function(){r(s.current)}),[r,s]);return(0,o.useEffect)((function(){if(t){t.addEventListener("scroll",c);var e=new ResizeObserver(c);return e.observe(t),function(){t.removeEventListener("scroll",c),e.unobserve(t)}}return window.addEventListener("scroll",c),window.addEventListener("resize",c),function(){window.removeEventListener("scroll",c),window.removeEventListener("resize",c)}}),[c,t]),a}var Pi=["placeholder"],Ri=["style","children"],Ni=["style","children"];function ji(e){return e}var Mi=Fr((function(){var e=Tr((function(e){return"Item "+e})),t=Tr(null),n=Tr((function(e){return"Group "+e})),r=Tr({}),o=Tr(ji),i=Tr("div"),a=Tr(pr),s=function(e,t){return void 0===t&&(t=null),xr(Or(r,Rr((function(t){return t[e]})),kr()),t)};return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:o,headerFooterTag:i,scrollerRef:a,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}));function Hi(e,t){var n=Sr();return vr(n,(function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")})),Ir(n,e),n}var _i=Fr((function(e){var t=e[0],n=e[1],r={item:Hi(n.itemContent,"Rename the %citem%c prop to %citemContent."),group:Hi(n.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:Hi(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:Hi(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:Hi(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:Sr(),maxHeightCacheSize:Sr(),footer:Sr(),header:Sr(),HeaderContainer:Sr(),FooterContainer:Sr(),ItemContainer:Sr(),ScrollContainer:Sr(),GroupContainer:Sr(),ListContainer:Sr(),emptyComponent:Sr(),scrollSeek:Sr()};function o(e,t,r){Ir(Or(e,Lr(n.components),Rr((function(e){var n,o=e[0],i=e[1];return console.warn("react-virtuoso: "+r+" property is deprecated. Pass components."+t+" instead."),Xr({},i,((n={})[t]=o,n))}))),n.components)}return vr(r.adjustForPrependedItems,(function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")})),vr(r.maxHeightCacheSize,(function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")})),vr(r.HeaderContainer,(function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")})),vr(r.FooterContainer,(function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")})),vr(r.scrollSeek,(function(e){var r=e.placeholder,o=$r(e,Pi);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),mr(n.components,Xr({},br(n.components),{ScrollSeekPlaceholder:r})),mr(t.scrollSeekConfiguration,o)})),o(r.footer,"Footer","footer"),o(r.header,"Header","header"),o(r.ItemContainer,"Item","ItemContainer"),o(r.ListContainer,"List","ListContainer"),o(r.ScrollContainer,"Scroller","ScrollContainer"),o(r.emptyComponent,"EmptyPlaceholder","emptyComponent"),o(r.GroupContainer,"Group","GroupContainer"),Xr({},t,n,r)}),dr(Oi,Mi)),Li=function(e){return o.createElement("div",{style:{height:e.height}})},Bi={position:Ei(),zIndex:1,overflowAnchor:"none"},Ai={overflowAnchor:"none"},zi=o.memo((function(e){var t=e.showTopList,n=void 0!==t&&t,r=ta("listState"),i=ea("sizeRanges"),a=ta("useWindowScroll"),s=ta("customScrollParent"),c=ea("windowScrollContainerState"),u=ea("scrollContainerState"),l=s||a?c:u,d=ta("itemContent"),f=ta("context"),h=ta("groupContent"),g=ta("trackItemSizes"),p=so(i,ta("itemSize"),g,n?pr:l,ta("log"),ea("gap"),s).callbackRef,v=o.useState(0),m=v[0],y=v[1];na("deviation",(function(e){m!==e&&y(e)}));var b=ta("EmptyPlaceholder"),I=ta("ScrollSeekPlaceholder")||Li,w=ta("ListComponent"),S=ta("ItemComponent"),T=ta("GroupComponent"),C=ta("computeItemKey"),x=ta("isSeeking"),D=ta("groupIndices").length>0,O=ta("paddingTopAddition"),E=n?{}:{boxSizing:"border-box",paddingTop:r.offsetTop+O,paddingBottom:r.offsetBottom,marginTop:m};return!n&&0===r.totalCount&&b?(0,o.createElement)(b,Ki(b,f)):(0,o.createElement)(w,Xr({},Ki(w,f),{ref:p,style:E,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?r.topItems:r.items).map((function(e){var t=e.originalIndex,n=C(t+r.firstItemIndex,e.data,f);return x?(0,o.createElement)(I,Xr({},Ki(I,f),{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?(0,o.createElement)(T,Xr({},Ki(T,f),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:Bi}),h(e.index)):(0,o.createElement)(S,Xr({},Ki(S,f),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:Ai}),D?d(e.index,e.groupIndex,e.data,f):d(e.index,e.data,f))})))})),Fi={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ui={width:"100%",height:"100%",position:"absolute",top:0},Wi={width:"100%",position:Ei(),top:0};function Ki(e,t){if("string"!=typeof e)return{context:t}}var Vi=o.memo((function(){var e=ta("HeaderComponent"),t=ea("headerHeight"),n=ta("headerFooterTag"),r=ao((function(e){return t(co(e,"height"))})),i=ta("context");return e?(0,o.createElement)(n,{ref:r},(0,o.createElement)(e,Ki(e,i))):null})),Gi=o.memo((function(){var e=ta("FooterComponent"),t=ea("footerHeight"),n=ta("headerFooterTag"),r=ao((function(e){return t(co(e,"height"))})),i=ta("context");return e?(0,o.createElement)(n,{ref:r},(0,o.createElement)(e,Ki(e,i))):null}));function qi(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return o.memo((function(e){var i=e.style,a=e.children,s=$r(e,Ri),c=t("scrollContainerState"),u=r("ScrollerComponent"),l=t("smoothScrollTargetReached"),d=r("scrollerRef"),f=r("context"),h=lo(c,l,u,d),g=h.scrollerRef,p=h.scrollByCallback;return n("scrollTo",h.scrollToCallback),n("scrollBy",p),(0,o.createElement)(u,Xr({ref:g,style:Xr({},Fi,i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},s,Ki(u,f)),a)}))}function Yi(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return o.memo((function(e){var i=e.style,a=e.children,s=$r(e,Ni),c=t("windowScrollContainerState"),u=r("ScrollerComponent"),l=t("smoothScrollTargetReached"),d=r("totalListHeight"),f=r("deviation"),h=r("customScrollParent"),g=r("context"),p=lo(c,l,u,pr,h),v=p.scrollerRef,m=p.scrollByCallback,y=p.scrollToCallback;return no((function(){return v.current=h||window,function(){v.current=null}}),[v,h]),n("windowScrollTo",y),n("scrollBy",m),(0,o.createElement)(u,Xr({style:Xr({position:"relative"},i,0!==d?{height:d+f}:{}),"data-virtuoso-scroller":!0},s,Ki(u,g)),a)}))}var Xi=function(e){var t=e.children,n=ao(ar(ea("viewportHeight"),(function(e){return co(e,"height")})));return o.createElement("div",{style:Ui,ref:n,"data-viewport-type":"element"},t)},$i=function(e){var t=e.children,n=ki(ea("windowViewportRect"),ta("customScrollParent"));return o.createElement("div",{ref:n,style:Ui,"data-viewport-type":"window"},t)},Qi=function(e){var t=e.children,n=ta("TopItemListComponent"),r=ta("headerHeight"),i=Xr({},Wi,{marginTop:r+"px"}),a=ta("context");return(0,o.createElement)(n||"div",{style:i,context:a},t)},Zi=qr(_i,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo((function(e){var t=ta("useWindowScroll"),n=ta("topItemsIndexes").length>0,r=ta("customScrollParent"),i=r||t?$i:Xi;return o.createElement(r||t?oa:ra,Xr({},e),o.createElement(i,null,o.createElement(Vi,null),o.createElement(zi,null),o.createElement(Gi,null)),n&&o.createElement(Qi,null,o.createElement(zi,{showTopList:!0})))}))),Ji=Zi.Component,ea=Zi.usePublisher,ta=Zi.useEmitterValue,na=Zi.useEmitter,ra=qi({usePublisher:ea,useEmitterValue:ta,useEmitter:na}),oa=Yi({usePublisher:ea,useEmitterValue:ta,useEmitter:na}),ia={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},aa={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},sa=Math.round,ca=Math.ceil,ua=Math.floor,la=Math.min,da=Math.max;function fa(e,t){return Array.from({length:t-e+1}).map((function(t,n){return{index:n+e}}))}function ha(e,t){return e&&e.column===t.column&&e.row===t.row}var ga=Fr((function(e){var t=e[0],n=t.overscan,r=t.visibleRange,o=t.listBoundary,i=e[1],a=i.scrollTop,s=i.viewportHeight,c=i.scrollBy,u=i.scrollTo,l=i.smoothScrollTargetReached,d=i.scrollContainerState,f=e[2],h=e[3],g=e[4],p=g.propsReady,v=g.didMount,m=e[5],y=m.windowViewportRect,b=m.windowScrollTo,I=m.useWindowScroll,w=m.customScrollParent,S=m.windowScrollContainerState,T=e[6],C=Tr(0),x=Tr(0),D=Tr(ia),O=Tr({height:0,width:0}),E=Tr({height:0,width:0}),k=Sr(),P=Sr(),R=Tr(0),N=Tr({row:0,column:0});Ir(Or(v,Lr(x),Pr((function(e){return 0!==e[1]})),Rr((function(e){return{items:fa(0,e[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}}))),D),Ir(Or(zr(Ar(C),r,Ar(N,ha),Ar(E,(function(e,t){return e&&e.width===t.width&&e.height===t.height}))),Lr(O),Rr((function(e){var t=e[0],n=t[0],r=t[1],o=r[0],i=r[1],a=t[2],s=t[3],c=e[1],u=a.row,l=s.height,d=s.width,f=c.width;if(0===n||0===f)return ia;if(0===d)return aa;var h=ma(f,d,a.column),g=h*ua((o+u)/(l+u)),p=h*ca((i+u)/(l+u))-1;p=da(0,la(n-1,p));var v=fa(g=la(p,da(0,g)),p),m=pa(c,a,s,v),y=m.top,b=m.bottom,I=ca(n/h);return{items:v,offsetTop:y,offsetBottom:I*l+(I-1)*u-b,top:y,bottom:b,itemHeight:l,itemWidth:d}}))),D),Ir(Or(O,Rr((function(e){return e.height}))),s),Ir(Or(zr(O,E,D,N),Rr((function(e){var t=pa(e[0],e[3],e[1],e[2].items);return[t.top,t.bottom]})),kr(oi)),o);var j=Cr(Or(Ar(D),Pr((function(e){return e.items.length>0})),Lr(C),Pr((function(e){var t=e[0].items;return t[t.length-1].index===e[1]-1})),Rr((function(e){return e[1]-1})),kr())),M=Cr(Or(Ar(D),Pr((function(e){var t=e.items;return t.length>0&&0===t[0].index})),Nr(0),kr())),H=Cr(Or(Ar(D),Pr((function(e){return e.items.length>0})),Rr((function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}})),kr(ii)));Ir(H,h.scrollSeekRangeChanged),Ir(Or(k,Lr(O,E,C,N),Rr((function(e){var t=e[1],n=e[2],r=e[3],o=e[4],i=qo(e[0]),a=i.align,s=i.behavior,c=i.offset,u=i.index;"LAST"===u&&(u=r-1);var l=va(t,o,n,u=da(0,u,la(r-1,u)));return"end"===a?l=sa(l-t.height+n.height):"center"===a&&(l=sa(l-t.height/2+n.height/2)),c&&(l+=c),{top:l,behavior:s}}))),u);var _=xr(Or(D,Rr((function(e){return e.offsetBottom+e.bottom}))),0);return Ir(Or(y,Rr((function(e){return{width:e.visibleWidth,height:e.visibleHeight}}))),O),Xr({totalCount:C,viewportDimensions:O,itemDimensions:E,scrollTop:a,scrollHeight:P,overscan:n,scrollBy:c,scrollTo:u,scrollToIndex:k,smoothScrollTargetReached:l,windowViewportRect:y,windowScrollTo:b,useWindowScroll:I,customScrollParent:w,windowScrollContainerState:S,deviation:R,scrollContainerState:d,initialItemCount:x,gap:N},h,{gridState:D,totalListHeight:_},f,{startReached:M,endReached:j,rangeChanged:H,propsReady:p},T)}),dr(ci,fo,Qo,gi,Zo,Si,oo));function pa(e,t,n,r){var o=n.height;return void 0===o||0===r.length?{top:0,bottom:0}:{top:va(e,t,n,r[0].index),bottom:va(e,t,n,r[r.length-1].index)+o}}function va(e,t,n,r){var o=ma(e.width,n.width,t.column),i=ua(r/o),a=i*n.height+da(0,i-1)*t.row;return a>0?a+t.row:a}function ma(e,t,n){return da(1,ua((e+n)/(t+n)))}var ya=["placeholder"],ba=Fr((function(){var e=Tr((function(e){return"Item "+e})),t=Tr({}),n=Tr(null),r=Tr("virtuoso-grid-item"),o=Tr("virtuoso-grid-list"),i=Tr(ji),a=Tr(pr),s=function(e,n){return void 0===n&&(n=null),xr(Or(t,Rr((function(t){return t[e]})),kr()),n)};return{context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:r,listClassName:o,scrollerRef:a,ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}})),Ia=Fr((function(e){var t=e[0],n=e[1],r={item:Hi(n.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:Sr(),ScrollContainer:Sr(),ListContainer:Sr(),emptyComponent:Sr(),scrollSeek:Sr()};function o(e,t,r){Ir(Or(e,Lr(n.components),Rr((function(e){var n,o=e[0],i=e[1];return console.warn("react-virtuoso: "+r+" property is deprecated. Pass components."+t+" instead."),Xr({},i,((n={})[t]=o,n))}))),n.components)}return vr(r.scrollSeek,(function(e){var r=e.placeholder,o=$r(e,ya);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),mr(n.components,Xr({},br(n.components),{ScrollSeekPlaceholder:r})),mr(t.scrollSeekConfiguration,o)})),o(r.ItemContainer,"Item","ItemContainer"),o(r.ListContainer,"List","ListContainer"),o(r.ScrollContainer,"Scroller","ScrollContainer"),Xr({},t,n,r)}),dr(ga,ba)),wa=o.memo((function(){var e=Da("gridState"),t=Da("listClassName"),n=Da("itemClassName"),r=Da("itemContent"),i=Da("computeItemKey"),a=Da("isSeeking"),s=xa("scrollHeight"),c=Da("ItemComponent"),u=Da("ListComponent"),l=Da("ScrollSeekPlaceholder"),d=Da("context"),f=xa("itemDimensions"),h=xa("gap"),g=Da("log"),p=ao((function(e){s(e.parentElement.parentElement.scrollHeight);var t=e.firstChild;t&&f(t.getBoundingClientRect()),h({row:Pa("row-gap",getComputedStyle(e).rowGap,g),column:Pa("column-gap",getComputedStyle(e).columnGap,g)})}));return(0,o.createElement)(u,Xr({ref:p,className:t},Ki(u,d),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map((function(t){var s=i(t.index);return a?(0,o.createElement)(l,Xr({key:s},Ki(l,d),{index:t.index,height:e.itemHeight,width:e.itemWidth})):(0,o.createElement)(c,Xr({},Ki(c,d),{className:n,"data-index":t.index,key:s}),r(t.index,d))})))})),Sa=function(e){var t=e.children,n=xa("viewportDimensions"),r=ao((function(e){n(e.getBoundingClientRect())}));return o.createElement("div",{style:Ui,ref:r},t)},Ta=function(e){var t=e.children,n=ki(xa("windowViewportRect"),Da("customScrollParent"));return o.createElement("div",{ref:n,style:Ui},t)},Ca=qr(Ia,{optional:{totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},o.memo((function(e){var t=Xr({},e),n=Da("useWindowScroll"),r=Da("customScrollParent"),i=r||n?Ta:Sa;return o.createElement(r||n?ka:Ea,Xr({},t),o.createElement(i,null,o.createElement(wa,null)))}))),xa=(Ca.Component,Ca.usePublisher),Da=Ca.useEmitterValue,Oa=Ca.useEmitter,Ea=qi({usePublisher:xa,useEmitterValue:Da,useEmitter:Oa}),ka=Yi({usePublisher:xa,useEmitterValue:Da,useEmitter:Oa});function Pa(e,t,n){return"normal"===t||null!=t&&t.endsWith("px")||n(e+" was not resolved to pixel value correctly",t,eo.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}var Ra=Fr((function(){var e=Tr((function(e){return o.createElement("td",null,"Item $",e)})),t=Tr(null),n=Tr(null),r=Tr({}),i=Tr(ji),a=Tr(pr),s=function(e,t){return void 0===t&&(t=null),xr(Or(r,Rr((function(t){return t[e]})),kr()),t)};return{context:t,itemContent:e,fixedHeaderContent:n,components:r,computeItemKey:i,scrollerRef:a,TableComponent:s("Table","table"),TableHeadComponent:s("TableHead","thead"),TableBodyComponent:s("TableBody","tbody"),TableRowComponent:s("TableRow","tr"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),FillerRow:s("FillerRow")}})),Na=Fr((function(e){return Xr({},e[0],e[1])}),dr(Oi,Ra)),ja=function(e){return o.createElement("tr",null,o.createElement("td",{style:{height:e.height}}))},Ma=function(e){return o.createElement("tr",null,o.createElement("td",{style:{height:e.height,padding:0,border:0}}))},Ha=o.memo((function(){var e=za("listState"),t=Aa("sizeRanges"),n=za("useWindowScroll"),r=za("customScrollParent"),i=Aa("windowScrollContainerState"),a=Aa("scrollContainerState"),s=r||n?i:a,c=za("itemContent"),u=za("trackItemSizes"),l=so(t,za("itemSize"),u,s,za("log"),void 0,r),d=l.callbackRef,f=l.ref,h=o.useState(0),g=h[0],p=h[1];Fa("deviation",(function(e){g!==e&&(f.current.style.marginTop=e+"px",p(e))}));var v=za("EmptyPlaceholder"),m=za("ScrollSeekPlaceholder")||ja,y=za("FillerRow")||Ma,b=za("TableBodyComponent"),I=za("TableRowComponent"),w=za("computeItemKey"),S=za("isSeeking"),T=za("paddingTopAddition"),C=za("firstItemIndex"),x=za("statefulTotalCount"),D=za("context");if(0===x&&v)return(0,o.createElement)(v,Ki(v,D));var O=e.offsetTop+T+g,E=e.offsetBottom,k=O>0?o.createElement(y,{height:O,key:"padding-top"}):null,P=E>0?o.createElement(y,{height:E,key:"padding-bottom"}):null,R=e.items.map((function(e){var t=e.originalIndex,n=w(t+C,e.data,D);return S?(0,o.createElement)(m,Xr({},Ki(m,D),{key:n,index:e.index,height:e.size,type:e.type||"item"})):(0,o.createElement)(I,Xr({},Ki(I,D),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:{overflowAnchor:"none"}}),c(e.index,e.data,D))}));return(0,o.createElement)(b,Xr({ref:d,"data-test-id":"virtuoso-item-list"},Ki(b,D)),[k].concat(R,[P]))})),_a=function(e){var t=e.children,n=ao(ar(Aa("viewportHeight"),(function(e){return co(e,"height")})));return o.createElement("div",{style:Ui,ref:n,"data-viewport-type":"element"},t)},La=function(e){var t=e.children,n=ki(Aa("windowViewportRect"),za("customScrollParent"));return o.createElement("div",{ref:n,style:Ui,"data-viewport-type":"window"},t)},Ba=qr(Na,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},o.memo((function(e){var t=za("useWindowScroll"),n=za("customScrollParent"),r=Aa("fixedHeaderHeight"),i=za("fixedHeaderContent"),a=za("context"),s=ao(ar(r,(function(e){return co(e,"height")}))),c=n||t?Wa:Ua,u=n||t?La:_a,l=za("TableComponent"),d=za("TableHeadComponent"),f=i?o.createElement(d,Xr({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:s},Ki(d,a)),i()):null;return o.createElement(c,Xr({},e),o.createElement(u,null,o.createElement(l,Xr({style:{borderSpacing:0}},Ki(l,a)),[f,o.createElement(Ha,{key:"TableBody"})])))}))),Aa=(Ba.Component,Ba.usePublisher),za=Ba.useEmitterValue,Fa=Ba.useEmitter,Ua=qi({usePublisher:Aa,useEmitterValue:za,useEmitter:Fa}),Wa=Yi({usePublisher:Aa,useEmitterValue:za,useEmitter:Fa}),Ka=Ji;const Va=e=>"string"==typeof e?e:void 0===e||"object"!=typeof e||!e.props||!e.props.children||"string"!=typeof e.props.children&&"object"!=typeof e.props.children?"":"string"==typeof e.props.children?e.props.children:e.props.children.map((e=>Va(e))).join(""),Ga=(e,t,n,r,o)=>"function"==typeof n[e]?String(n[e]({node:n,path:r,treeIndex:o})).includes(t):"object"==typeof n[e]?Va(n[e]).includes(t):n[e]&&String(n[e]).includes(t),qa=({node:e,path:t,treeIndex:n,searchQuery:r})=>Ga("title",r,e,t,n)||Ga("subtitle",r,e,t,n);var Ya=Object.defineProperty,Xa=Object.defineProperties,$a=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,Za=Object.prototype.hasOwnProperty,Ja=Object.prototype.propertyIsEnumerable,es=(e,t,n)=>t in e?Ya(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ts=(e,t)=>{for(var n in t||(t={}))Za.call(t,n)&&es(e,n,t[n]);if(Qa)for(var n of Qa(t))Ja.call(t,n)&&es(e,n,t[n]);return e},ns=(e,t)=>Xa(e,$a(t));const rs=({targetIndex:e,node:t,currentIndex:n,getNodeKey:r,path:o=[],lowerSiblingCounts:i=[],ignoreCollapsed:a=!0,isPseudoRoot:s=!1})=>{const c=s?[]:[...o,r({node:t,treeIndex:n})];if(n===e)return{node:t,lowerSiblingCounts:i,path:c};if(!t.children||a&&!0!==t.expanded)return{nextIndex:n+1};let u=n+1;const l=t.children.length;for(let d=0;d<l;d+=1){const n=rs({ignoreCollapsed:a,getNodeKey:r,targetIndex:e,node:t.children[d],currentIndex:u,lowerSiblingCounts:[...i,l-d-1],path:c});if(n.node)return n;u=n.nextIndex}return{nextIndex:u}},os=({node:e,ignoreCollapsed:t=!0})=>rs({getNodeKey:()=>{},ignoreCollapsed:t,node:e,currentIndex:0,targetIndex:-1}).nextIndex-1,is=({callback:e,getNodeKey:t,ignoreCollapsed:n,isPseudoRoot:r=!1,node:o,parentNode:i,currentIndex:a,path:s=[],lowerSiblingCounts:c=[]})=>{const u=r?[]:[...s,t({node:o,treeIndex:a})];if(!r){if(!1===e(r?void 0:{node:o,parentNode:i,path:u,lowerSiblingCounts:c,treeIndex:a}))return!1}if(!o.children||!0!==o.expanded&&n&&!r)return a;let l=a;const d=o.children.length;if("function"!=typeof o.children)for(let f=0;f<d;f+=1)if(l=is({callback:e,getNodeKey:t,ignoreCollapsed:n,node:o.children[f],parentNode:r?void 0:o,currentIndex:l+1,lowerSiblingCounts:[...c,d-f-1],path:u}),!1===l)return!1;return l},as=({callback:e,getNodeKey:t,ignoreCollapsed:n,isPseudoRoot:r=!1,node:o,parentNode:i,currentIndex:a,path:s=[],lowerSiblingCounts:c=[]})=>{const u=ts({},o),l=r?[]:[...s,t({node:u,treeIndex:a})],d={node:u,parentNode:i,path:l,lowerSiblingCounts:c,treeIndex:a};if(!u.children||!0!==u.expanded&&n&&!r)return{treeIndex:a,node:e(d)};let f=a;const h=u.children.length;return"function"!=typeof u.children&&(u.children=u.children.map(((o,i)=>{const a=as({callback:e,getNodeKey:t,ignoreCollapsed:n,node:o,parentNode:r?void 0:u,currentIndex:f+1,lowerSiblingCounts:[...c,h-i-1],path:l});return f=a.treeIndex,a.node}))),{node:e(d),treeIndex:f}},ss=({treeData:e,getNodeKey:t,callback:n,ignoreCollapsed:r=!0})=>{e&&0!==e.length&&is({callback:n,getNodeKey:t,ignoreCollapsed:r,isPseudoRoot:!0,node:{children:e},currentIndex:-1,path:[],lowerSiblingCounts:[]})},cs=({treeData:e,getNodeKey:t,callback:n,ignoreCollapsed:r=!0})=>e&&0!==e.length?as({callback:n,getNodeKey:t,ignoreCollapsed:r,isPseudoRoot:!0,node:{children:e},currentIndex:-1,path:[],lowerSiblingCounts:[]}).node.children:[],us=({treeData:e,expanded:t=!0})=>cs({treeData:e,callback:({node:e})=>ns(ts({},e),{expanded:t}),getNodeKey:({treeIndex:e})=>e,ignoreCollapsed:!1}),ls=({treeData:e,path:t,newNode:n,getNodeKey:r,ignoreCollapsed:o=!0})=>{const i="RESULT_MISS",a=({isPseudoRoot:e=!1,node:s,currentTreeIndex:c,pathIndex:u})=>{if(!e&&r({node:s,treeIndex:c})!==t[u])return i;if(u>=t.length-1)return"function"==typeof n?n({node:s,treeIndex:c}):n;if(!s.children)throw new Error("Path referenced children of node with no children.");let l=c+1;for(let t=0;t<s.children.length;t+=1){const e=a({node:s.children[t],currentTreeIndex:l,pathIndex:u+1});if(e!==i)return ns(ts({},s),e?{children:[...s.children.slice(0,t),e,...s.children.slice(t+1)]}:{children:[...s.children.slice(0,t),...s.children.slice(t+1)]});l+=1+os({node:s.children[t],ignoreCollapsed:o})}return i},s=a({node:{children:e},currentTreeIndex:-1,pathIndex:-1,isPseudoRoot:!0});if(s===i)throw new Error("No node found at the given path.");return s.children},ds=({targetDepth:e,minimumTreeIndex:t,newNode:n,ignoreCollapsed:r,expandParent:o,isPseudoRoot:i=!1,isLastChild:a,node:s,currentIndex:c,currentDepth:u,getNodeKey:l,path:d=[]})=>{const f=e=>i?[]:[...d,l({node:e,treeIndex:c})];if(c>=t-1||a&&!(s.children&&s.children.length>0)){if("function"==typeof s.children)throw new TypeError("Cannot add to children defined by a function");{const e=o?{expanded:!0}:{},t=ns(ts(ts({},s),e),{children:s.children?[n,...s.children]:[n]});return{node:t,nextIndex:c+2,insertedTreeIndex:c+1,parentPath:f(t),parentNode:i?void 0:t}}}if(u>=e-1){if(!s.children||"function"==typeof s.children||!0!==s.expanded&&r&&!i)return{node:s,nextIndex:c+1};let e,o,u=c+1;for(let n=0;n<s.children.length;n+=1){if(u>=t){e=u,o=n;break}u+=1+os({node:s.children[n],ignoreCollapsed:r})}if(null==o){if(u<t&&!a)return{node:s,nextIndex:u};e=u,o=s.children.length}const l=ns(ts({},s),{children:[...s.children.slice(0,o),n,...s.children.slice(o)]});return{node:l,nextIndex:u,insertedTreeIndex:e,parentPath:f(l),parentNode:i?void 0:l}}if(!s.children||"function"==typeof s.children||!0!==s.expanded&&r&&!i)return{node:s,nextIndex:c+1};let h,g,p,v=c+1,m=s.children;"function"!=typeof m&&(m=m.map(((i,s)=>{if(null!=h)return i;const c=ds({targetDepth:e,minimumTreeIndex:t,newNode:n,ignoreCollapsed:r,expandParent:o,isLastChild:a&&s===m.length-1,node:i,currentIndex:v,currentDepth:u+1,getNodeKey:l,path:[]});return"insertedTreeIndex"in c&&({insertedTreeIndex:h,parentNode:p,parentPath:g}=c),v=c.nextIndex,c.node})));const y=ns(ts({},s),{children:m}),b={node:y,nextIndex:v};return null!=h&&(b.insertedTreeIndex=h,b.parentPath=[...f(y),...g],b.parentNode=p),b},fs=({treeData:e,depth:t,minimumTreeIndex:n,newNode:r,getNodeKey:o,ignoreCollapsed:i=!0,expandParent:a=!1})=>{if(!e&&0===t)return{treeData:[r],treeIndex:0,path:[o({node:r,treeIndex:0})],parentNode:void 0};const s=ds({targetDepth:t,minimumTreeIndex:n,newNode:r,ignoreCollapsed:i,expandParent:a,getNodeKey:o,isPseudoRoot:!0,isLastChild:!0,node:{children:e},currentIndex:-1,currentDepth:-1});if(!("insertedTreeIndex"in s))throw new Error("No suitable position found to insert.");const c=s.insertedTreeIndex;return{treeData:s.node.children,treeIndex:c,path:[...s.parentPath,o({node:r,treeIndex:c})],parentNode:s.parentNode}},hs=(e,t)=>!!e.children&&"function"!=typeof e.children&&e.children.some((e=>e===t||hs(e,t))),gs=(e,t=0)=>e.children?"function"==typeof e.children?t+1:e.children.reduce(((e,n)=>Math.max(e,gs(n,t+1))),t):t,ps=(...e)=>e.filter(Boolean).join(" ");var vs=Object.defineProperty,ms=Object.getOwnPropertySymbols,ys=Object.prototype.hasOwnProperty,bs=Object.prototype.propertyIsEnumerable,Is=(e,t,n)=>t in e?vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ws=(e,t)=>{for(var n in t||(t={}))ys.call(t,n)&&Is(e,n,t[n]);if(ms)for(var n of ms(t))bs.call(t,n)&&Is(e,n,t[n]);return e};const Ss={isSearchMatch:!1,isSearchFocus:!1,canDrag:!1,toggleChildrenVisibility:void 0,buttons:[],className:"",style:{},parentNode:void 0,draggedNode:void 0,canDrop:!1,title:void 0,subtitle:void 0,rowDirection:"ltr"};var Ts=function(e){const t=e=ws(ws({},Ss),e),{scaffoldBlockPxWidth:n,toggleChildrenVisibility:r,connectDragPreview:i,connectDragSource:a,isDragging:s,canDrop:c,canDrag:u,node:l,title:d,subtitle:f,draggedNode:h,path:g,treeIndex:p,isSearchMatch:v,isSearchFocus:m,buttons:y,className:b,style:I,didDrop:w,treeId:S,isOver:T,parentNode:C,rowDirection:x}=t,D=((e,t)=>{var n={};for(var r in e)ys.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ms)for(var r of ms(e))t.indexOf(r)<0&&bs.call(e,r)&&(n[r]=e[r]);return n})(t,["scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","node","title","subtitle","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","buttons","className","style","didDrop","treeId","isOver","parentNode","rowDirection"]),O=d||l.title,E=f||l.subtitle,k="rtl"===x?"rst__rtl":void 0;let P;u&&(P="function"==typeof l.children&&l.expanded?o.createElement("div",{className:"rst__loadingHandle"},o.createElement("div",{className:"rst__loadingCircle"},[...Array.from({length:12})].map(((e,t)=>o.createElement("div",{key:t,className:ps("rst__loadingCirclePoint",k??"")}))))):a(o.createElement("div",{className:"rst__moveHandle"}),{dropEffect:"copy"}));const R=h&&hs(h,l),N=!w&&s;let j={left:-.5*n,right:0};return"rtl"===x&&(j={right:-.5*n,left:0}),o.createElement("div",ws({style:{height:"100%"}},D),r&&l.children&&(l.children.length>0||"function"==typeof l.children)&&o.createElement("div",null,o.createElement("button",{type:"button","aria-label":l.expanded?"Collapse":"Expand",className:ps(l.expanded?"rst__collapseButton":"rst__expandButton",k??""),style:j,onClick:()=>r({node:l,path:g,treeIndex:p})}),l.expanded&&!s&&o.createElement("div",{style:{width:n},className:ps("rst__lineChildren",k??"")})),o.createElement("div",{className:ps("rst__rowWrapper",k??"")},i(o.createElement("div",{className:ps("rst__row",N?"rst__rowLandingPad":"",N&&!c?"rst__rowCancelPad":"",v?"rst__rowSearchMatch":"",m?"rst__rowSearchFocus":"",k??"",b??""),style:ws({opacity:R?.5:1},I)},P,o.createElement("div",{className:ps("rst__rowContents",u?"":"rst__rowContentsDragDisabled",k??"")},o.createElement("div",{className:ps("rst__rowLabel",k??"")},o.createElement("span",{className:ps("rst__rowTitle",l.subtitle?"rst__rowTitleWithSubtitle":"")},"function"==typeof O?O({node:l,path:g,treeIndex:p}):O),E&&o.createElement("span",{className:"rst__rowSubtitle"},"function"==typeof E?E({node:l,path:g,treeIndex:p}):E)),o.createElement("div",{className:"rst__rowToolbar"},null==y?void 0:y.map(((e,t)=>o.createElement("div",{key:t,className:"rst__toolbarButton"},e)))))))))},Cs=Object.defineProperty,xs=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,Os=Object.prototype.propertyIsEnumerable,Es=(e,t,n)=>t in e?Cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ks=(e,t)=>{for(var n in t||(t={}))Ds.call(t,n)&&Es(e,n,t[n]);if(xs)for(var n of xs(t))Os.call(t,n)&&Es(e,n,t[n]);return e};const Ps={isOver:!1,canDrop:!1};var Rs=function(e){e=ks(ks({},Ps),e);const{canDrop:t,isOver:n}=e;return o.createElement("div",{className:ps("rst__placeholder",t?"rst__placeholderLandingPad":"",t&&!n?"rst__placeholderCancelPad":"")})},Ns=Object.defineProperty,js=Object.defineProperties,Ms=Object.getOwnPropertyDescriptors,Hs=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,Ls=Object.prototype.propertyIsEnumerable,Bs=(e,t,n)=>t in e?Ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,As=(e,t)=>{for(var n in t||(t={}))_s.call(t,n)&&Bs(e,n,t[n]);if(Hs)for(var n of Hs(t))Ls.call(t,n)&&Bs(e,n,t[n]);return e};const zs={swapFrom:void 0,swapDepth:void 0,swapLength:void 0,canDrop:!1,draggedNode:void 0,rowDirection:"ltr"};class Fs extends o.Component{render(){const e=As(As({},zs),this.props),{children:t,listIndex:n,swapFrom:r,swapLength:i,swapDepth:a,scaffoldBlockPxWidth:s,lowerSiblingCounts:c,connectDropTarget:u,isOver:l,draggedNode:d,canDrop:f,treeIndex:h,rowHeight:g,treeId:p,getPrevRow:v,node:m,path:y,rowDirection:b}=e,I=((e,t)=>{var n={};for(var r in e)_s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Hs)for(var r of Hs(e))t.indexOf(r)<0&&Ls.call(e,r)&&(n[r]=e[r]);return n})(e,["children","listIndex","swapFrom","swapLength","swapDepth","scaffoldBlockPxWidth","lowerSiblingCounts","connectDropTarget","isOver","draggedNode","canDrop","treeIndex","rowHeight","treeId","getPrevRow","node","path","rowDirection"]),w="rtl"===b?"rst__rtl":void 0,S=c.length,T=[];for(const[D,O]of c.entries()){let e="";if(O>0?e=0===n?"rst__lineHalfHorizontalRight rst__lineHalfVerticalBottom":D===S-1?"rst__lineHalfHorizontalRight rst__lineFullVertical":"rst__lineFullVertical":0===n?e="rst__lineHalfHorizontalRight":D===S-1&&(e="rst__lineHalfVerticalTop rst__lineHalfHorizontalRight"),T.push(o.createElement("div",{key:`pre_${1+D}`,style:{width:s},className:ps("rst__lineBlock",e,w??"")})),h!==n&&D===a){let e="";e=n===r+i-1?"rst__highlightBottomLeftCorner":h===r?"rst__highlightTopLeftCorner":"rst__highlightLineVertical";const t="rtl"===b?{width:s,right:s*D}:{width:s,left:s*D};T.push(o.createElement("div",{key:D,style:t,className:ps("rst__absoluteLineBlock",e,w??"")}))}}const C="rtl"===b?{right:s*S}:{left:s*S};let x=g;return"function"==typeof g&&(x=g(h,m,y)),u(o.createElement("div",((e,t)=>js(e,Ms(t)))(As({},I),{style:{height:`${x}px`},className:ps("rst__node",w??""),ref:e=>this.node=e}),T,o.createElement("div",{className:"rst__nodeContent",style:C},o.Children.map(t,(e=>(0,o.cloneElement)(e,{isOver:l,canDrop:f,draggedNode:d}))))))}}var Us=Fs,Ws=Object.defineProperty,Ks=Object.getOwnPropertySymbols,Vs=Object.prototype.hasOwnProperty,Gs=Object.prototype.propertyIsEnumerable,qs=(e,t,n)=>t in e?Ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ys=(e,t)=>{for(var n in t||(t={}))Vs.call(t,n)&&qs(e,n,t[n]);if(Ks)for(var n of Ks(t))Gs.call(t,n)&&qs(e,n,t[n]);return e};const Xs={canDrop:!1,draggedNode:void 0};var $s=e=>{const t=e=Ys(Ys({},Xs),e),{children:n,connectDropTarget:r,treeId:i,drop:a}=t,s=((e,t)=>{var n={};for(var r in e)Vs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ks)for(var r of Ks(e))t.indexOf(r)<0&&Gs.call(e,r)&&(n[r]=e[r]);return n})(t,["children","connectDropTarget","treeId","drop"]);return r(o.createElement("div",null,o.Children.map(n,(e=>(0,o.cloneElement)(e,Ys({},s))))))};let Qs=0;const Zs=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),didDrop:t.didDrop()}),Js=(e,t,n,r)=>function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(O(Q(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),o=function(){return e}),O($(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var i=Te(t);return O("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),O($(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return me({containerDisplayName:"DragSource",createHandler:i,registerHandler:k,createConnector:function(e){return new A(e)},createMonitor:function(e){return new K(e)},DecoratedComponent:e,getType:o,collect:n,options:r})}}(r,{beginDrag:e=>(t(e),{node:e.node,parentNode:e.parentNode,path:e.path,treeIndex:e.treeIndex,treeId:e.treeId}),endDrag:(e,t)=>{n(t.getDropResult())},isDragging:(e,t)=>{const n=t.getItem().node;return e.node===n}},Zs)(e),ec=(e,t)=>{const n=t.getItem();return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedNode:n?n.node:void 0}},tc=(e,t,n,r,o,i)=>{let a=0;const s=e.getPrevRow();if(s){const{node:t}=s;let{path:n}=s;!r(t)&&(n=n.slice(0,-1)),a=Math.min(n.length,e.path.length)}let c,u=(t.getItem().path||[]).length;if(t.getItem().treeId!==o)if(u=0,n){const r=n.node.getBoundingClientRect(),o=t.getSourceClientOffset().x-r.left;c=Math.round(o/e.scaffoldBlockPxWidth)}else c=e.path.length;else{const n="rtl"===e.rowDirection?-1:1;c=Math.round(n*t.getDifferenceFromInitialOffset().x/e.scaffoldBlockPxWidth)}let l=Math.min(a,Math.max(0,u+c-1));if(void 0!==i&&void 0!==i){const e=t.getItem().node,n=gs(e);l=Math.max(0,Math.min(l,i-n-1))}return l},nc=(e,t,n,r,o,i,a,s,c,u,l)=>{const d={drop:(e,o,a)=>{const s={node:o.getItem().node,path:o.getItem().path,treeIndex:o.getItem().treeIndex,treeId:n,minimumTreeIndex:e.treeIndex,depth:tc(e,o,a,t,n,r)};return i(s),s},hover:(e,o,i)=>{const s=tc(e,o,i,t,n,r),c=o.getItem().node;(e.node!==c||s!==e.path.length-1)&&(cancelAnimationFrame(Qs),Qs=requestAnimationFrame((()=>{const t=o.getItem();t&&o.isOver()&&a({node:c,path:t.path,minimumTreeIndex:e.listIndex,depth:s})})))},canDrop:(e,i)=>((e,t,n,r,o,i,a,s,c)=>{if(!t.isOver())return!1;const u=e.getPrevRow(),l=u?u.path:[],d=u?u.node:{};if(tc(e,t,void 0,n,r,o)>=l.length&&"function"==typeof d.children)return!1;if("function"==typeof i){const{node:n}=t.getItem();return i({node:n,prevPath:t.getItem().path,prevParent:t.getItem().parentNode,prevTreeIndex:t.getItem().treeIndex,nextPath:e.children.props.path,nextParent:e.children.props.parentNode,nextTreeIndex:e.children.props.treeIndex})}return!0})(e,i,t,n,r,o)};return _e(s,d,ec)(e)},rc=e=>{let t,n=[],r=[];return o=>{const i=Object.keys(o).sort(),a=i.map((e=>o[e]));return(a.length!==n.length||a.some(((e,t)=>e!==n[t]))||i.some(((e,t)=>e!==r[t])))&&(n=a,r=i,t=e(o)),t}},oc=rc(fs),ic=rc((({treeData:e,getNodeKey:t,ignoreCollapsed:n=!0})=>{if(!e||0===e.length)return[];const r=[];return ss({treeData:e,getNodeKey:t,ignoreCollapsed:n,callback:e=>{r.push(e)}}),r})),ac=rc(os);var sc=Object.defineProperty,cc=Object.defineProperties,uc=Object.getOwnPropertyDescriptors,lc=Object.getOwnPropertySymbols,dc=Object.prototype.hasOwnProperty,fc=Object.prototype.propertyIsEnumerable,hc=(e,t,n)=>t in e?sc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gc=(e,t)=>{for(var n in t||(t={}))dc.call(t,n)&&hc(e,n,t[n]);if(lc)for(var n of lc(t))fc.call(t,n)&&hc(e,n,t[n]);return e},pc=(e,t)=>cc(e,uc(t));let vc=1;const mc=e=>{const t=pc(gc({},e),{style:gc(gc({},e.theme.style),e.style),innerStyle:gc(gc({},e.theme.innerStyle),e.innerStyle)}),n={nodeContentRenderer:Ts,placeholderRenderer:Rs,scaffoldBlockPxWidth:44,slideRegionSize:100,rowHeight:62,treeNodeRenderer:Us};for(const r of Object.keys(n))void 0===e[r]&&(t[r]=void 0!==e.theme[r]?e.theme[r]:n[r]);return t};class yc extends o.Component{constructor(e){super(e),this.startDrag=({path:e})=>{this.setState((t=>{const{treeData:n,node:r,treeIndex:o}=(({treeData:e,path:t,getNodeKey:n,ignoreCollapsed:r=!0})=>{let o,i;return{treeData:ls({treeData:e,path:t,getNodeKey:n,ignoreCollapsed:r,newNode:({node:e,treeIndex:t})=>{o=e,i=t}}),node:o,treeIndex:i}})({treeData:t.instanceProps.treeData,path:e,getNodeKey:this.props.getNodeKey});return{draggingTreeData:n,draggedNode:r,draggedDepth:e.length-1,draggedMinimumTreeIndex:o,dragging:!0}}))},this.dragHover=({node:e,depth:t,minimumTreeIndex:n})=>{this.state.draggedDepth===t&&this.state.draggedMinimumTreeIndex===n||this.setState((({draggingTreeData:r,instanceProps:o})=>{const i=r||o.treeData,a=oc({treeData:i,newNode:e,depth:t,minimumTreeIndex:n,expandParent:!0,getNodeKey:this.props.getNodeKey}),s=this.getRows(a.treeData)[a.treeIndex].path;return{draggedNode:e,draggedDepth:t,draggedMinimumTreeIndex:n,draggingTreeData:ls({treeData:i,path:s.slice(0,-1),newNode:({node:e})=>pc(gc({},e),{expanded:!0}),getNodeKey:this.props.getNodeKey}),searchFocusTreeIndex:void 0,dragging:!0}}))},this.endDrag=e=>{const{instanceProps:t}=this.state;if(e){if(e.treeId!==this.treeId){const{node:n,path:r,treeIndex:o}=e;let i=this.props.shouldCopyOnOutsideDrop;"function"==typeof i&&(i=i({node:n,prevTreeIndex:o,prevPath:r}));let a=this.state.draggingTreeData||t.treeData;i&&(a=ls({treeData:t.treeData,path:r,newNode:({node:e})=>gc({},e),getNodeKey:this.props.getNodeKey})),this.props.onChange(a),this.props.onMoveNode({treeData:a,node:n,treeIndex:void 0,path:void 0,nextPath:void 0,nextTreeIndex:void 0,prevPath:r,prevTreeIndex:o})}}else this.setState({draggingTreeData:void 0,draggedNode:void 0,draggedMinimumTreeIndex:void 0,draggedDepth:void 0,dragging:!1})},this.drop=e=>{this.moveNode(e)},this.canNodeHaveChildren=e=>{const{canNodeHaveChildren:t}=this.props;return!t||t(e)},this.listRef=o.createRef();const{dndType:t,nodeContentRenderer:n,treeNodeRenderer:r,slideRegionSize:i}=mc(e);this.treeId=`rst__${vc}`,vc+=1,this.dndType=t||this.treeId,this.nodeContentRenderer=Js(n,this.startDrag,this.endDrag,this.dndType),this.treePlaceholderRenderer=((e,t,n,r)=>_e(r,{drop:(e,r)=>{const{node:o,path:i,treeIndex:a}=r.getItem(),s={node:o,path:i,treeIndex:a,treeId:t,minimumTreeIndex:0,depth:0};return n(s),s}},ec)(e))($s,this.treeId,this.drop,this.dndType),this.scrollZoneVirtualList=(T||C)(o.forwardRef(((e,t)=>{const n=((e,t)=>{var n={};for(var r in e)dc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lc)for(var r of lc(e))t.indexOf(r)<0&&fc.call(e,r)&&(n[r]=e[r]);return n})(e,["dragDropManager","rowHeight"]);return o.createElement(Ka,gc({ref:this.listRef},n))}))),this.vStrength=I(i),this.hStrength=b(i),this.state={draggingTreeData:void 0,draggedNode:void 0,draggedMinimumTreeIndex:void 0,draggedDepth:void 0,searchMatches:[],searchFocusTreeIndex:void 0,dragging:!1,instanceProps:{treeData:[],ignoreOneTreeUpdate:!1,searchQuery:void 0,searchFocusOffset:void 0}},this.treeNodeRenderer=nc(r,this.canNodeHaveChildren,this.treeId,this.props.maxDepth,this.props.canDrop,this.drop,this.dragHover,this.dndType,this.state.draggingTreeData,this.props.treeData,this.props.getNodeKey),this.toggleChildrenVisibility=this.toggleChildrenVisibility.bind(this),this.moveNode=this.moveNode.bind(this),this.startDrag=this.startDrag.bind(this),this.dragHover=this.dragHover.bind(this),this.endDrag=this.endDrag.bind(this),this.drop=this.drop.bind(this),this.handleDndMonitorChange=this.handleDndMonitorChange.bind(this)}static search(e,t,n,r,o){const{onChange:i,getNodeKey:a,searchFinishCallback:s,searchQuery:c,searchMethod:u,searchFocusOffset:l,onlyExpandSearchedNodes:d}=e,{instanceProps:f}=t;if(!c&&!u)return s&&s([]),{searchMatches:[]};const h={instanceProps:{}},{treeData:g,matches:p}=(({getNodeKey:e,treeData:t,searchQuery:n,searchMethod:r,searchFocusOffset:o,expandAllMatchPaths:i=!1,expandFocusMatchPaths:a=!0})=>{let s=0;const c=({isPseudoRoot:t=!1,node:u,currentIndex:l,path:d=[]})=>{let f=[],h=!1,g=!1;const p=t?[]:[...d,e({node:u,treeIndex:l})],v=t?void 0:{path:p,treeIndex:l},m=u.children&&"function"!=typeof u.children&&u.children.length>0;!t&&r(ns(ts({},v),{node:u,searchQuery:n}))&&(s===o&&(g=!0),s+=1,h=!0);let y=l;const b=ts({},u);return m&&(b.children=b.children.map((e=>{const t=c({node:e,currentIndex:y+1,path:p});return t.node.expanded?y=t.treeIndex:y+=1,(t.matches.length>0||t.hasFocusMatch)&&(f=[...f,...t.matches],t.hasFocusMatch&&(g=!0),(i&&t.matches.length>0||(i||a)&&t.hasFocusMatch)&&(b.expanded=!0)),t.node}))),t||b.expanded||(f=f.map((e=>ns(ts({},e),{treeIndex:void 0})))),h&&(f=[ns(ts({},v),{node:b}),...f]),{node:f.length>0?b:u,matches:f,hasFocusMatch:g,treeIndex:y}},u=c({node:{children:t},isPseudoRoot:!0,currentIndex:-1});return{matches:u.matches,treeData:u.node.children}})({getNodeKey:a,treeData:d?us({treeData:f.treeData,expanded:!1}):f.treeData,searchQuery:c,searchMethod:u||qa,searchFocusOffset:l,expandAllMatchPaths:r&&!o,expandFocusMatchPaths:!!r});let v;return r&&(h.instanceProps.ignoreOneTreeUpdate=!0,i(g)),s&&s(p),n&&void 0!==l&&l<p.length&&(v=p[l].treeIndex),h.searchMatches=p,h.searchFocusTreeIndex=v,h}static loadLazyChildren(e,t){const{instanceProps:n}=t;ss({treeData:n.treeData,getNodeKey:e.getNodeKey,callback:({node:t,path:r,lowerSiblingCounts:o,treeIndex:i})=>{t.children&&"function"==typeof t.children&&(t.expanded||e.loadCollapsedLazyChildren)&&t.children({node:t,path:r,lowerSiblingCounts:o,treeIndex:i,done:o=>e.onChange(ls({treeData:n.treeData,path:r,newNode:({node:e})=>e===t?pc(gc({},e),{children:o}):e,getNodeKey:e.getNodeKey}))})}})}componentDidMount(){yc.loadLazyChildren(this.props,this.state);const e=yc.search(this.props,this.state,!0,!0,!1);this.setState(e),this.clearMonitorSubscription=this.props.dragDropManager.getMonitor().subscribeToStateChange(this.handleDndMonitorChange)}static getDerivedStateFromProps(e,t){const{instanceProps:n}=t,r={},o=D()(n.treeData,e.treeData);return n.treeData=e.treeData,o?D()(n.searchQuery,e.searchQuery)?n.searchFocusOffset!==e.searchFocusOffset&&Object.assign(r,yc.search(e,t,!0,!0,!0)):Object.assign(r,yc.search(e,t,!0,!0,!1)):(n.ignoreOneTreeUpdate?n.ignoreOneTreeUpdate=!1:(r.searchFocusTreeIndex=void 0,yc.loadLazyChildren(e,t),Object.assign(r,yc.search(e,t,!1,!1,!1))),r.draggingTreeData=void 0,r.draggedNode=void 0,r.draggedMinimumTreeIndex=void 0,r.draggedDepth=void 0,r.dragging=!1),n.searchQuery=e.searchQuery,n.searchFocusOffset=e.searchFocusOffset,r.instanceProps=gc(gc({},n),r.instanceProps),r}componentDidUpdate(e,t){this.state.dragging!==t.dragging&&this.props.onDragStateChanged&&this.props.onDragStateChanged({isDragging:this.state.dragging,draggedNode:this.state.draggedNode})}componentWillUnmount(){this.clearMonitorSubscription()}handleDndMonitorChange(){!this.props.dragDropManager.getMonitor().isDragging()&&this.state.draggingTreeData&&setTimeout((()=>{this.endDrag()}))}getRows(e){return ic({ignoreCollapsed:!0,getNodeKey:this.props.getNodeKey,treeData:e})}toggleChildrenVisibility({node:e,path:t}){const{instanceProps:n}=this.state,r=ls({treeData:n.treeData,path:t,newNode:({node:e})=>pc(gc({},e),{expanded:!e.expanded}),getNodeKey:this.props.getNodeKey});this.props.onChange(r),this.props.onVisibilityToggle({treeData:r,node:e,expanded:!e.expanded,path:t})}moveNode({node:e,path:t,treeIndex:n,depth:r,minimumTreeIndex:o}){const{treeData:i,treeIndex:a,path:s,parentNode:c}=fs({treeData:this.state.draggingTreeData,newNode:e,depth:r,minimumTreeIndex:o,expandParent:!0,getNodeKey:this.props.getNodeKey});this.props.onChange(i),this.props.onMoveNode({treeData:i,node:e,treeIndex:a,path:s,nextPath:s,nextTreeIndex:a,prevPath:t,prevTreeIndex:n,nextParentNode:c})}renderRow(e,{listIndex:t,style:n,getPrevRow:r,matchKeys:i,swapFrom:a,swapDepth:s,swapLength:c}){const{node:u,parentNode:l,path:d,lowerSiblingCounts:f,treeIndex:h}=e,{canDrag:g,generateNodeProps:p,scaffoldBlockPxWidth:v,searchFocusOffset:m,rowDirection:y,rowHeight:b}=mc(this.props),I=this.treeNodeRenderer,w=this.nodeContentRenderer,S=d[d.length-1],T=S in i,C=T&&i[S]===m,x={node:u,parentNode:l,path:d,lowerSiblingCounts:f,treeIndex:h,isSearchMatch:T,isSearchFocus:C},D=p?p(x):{},O="function"!=typeof g?g:g(x),E={treeIndex:h,scaffoldBlockPxWidth:v,node:u,path:d,treeId:this.treeId,rowDirection:y};return o.createElement(I,gc({style:n,rowHeight:b,key:S,listIndex:t,getPrevRow:r,lowerSiblingCounts:f,swapFrom:a,swapLength:c,swapDepth:s},E),o.createElement(w,gc(gc({parentNode:l,isSearchMatch:T,isSearchFocus:C,canDrag:O,toggleChildrenVisibility:this.toggleChildrenVisibility},E),D)))}render(){const{dragDropManager:e,style:t,className:n,innerStyle:r,placeholderRenderer:i,getNodeKey:a,rowDirection:s}=mc(this.props),{searchMatches:c,searchFocusTreeIndex:u,draggedNode:l,draggedDepth:d,draggedMinimumTreeIndex:f,instanceProps:h}=this.state,g=this.state.draggingTreeData||h.treeData,p="rtl"===s?"rst__rtl":void 0;let v,m,y;if(l&&void 0!==f){const e=oc({treeData:g,newNode:l,depth:d,minimumTreeIndex:f,expandParent:!0,getNodeKey:a}),t=f;m=e.treeIndex,y=1+ac({node:l}),v=((e,t,n,r=1)=>{const o=[...e.slice(0,t),...e.slice(t+r)];return[...o.slice(0,n),...e.slice(t,t+r),...o.slice(n)]})(this.getRows(e.treeData),m,t,y)}else v=this.getRows(g);const b={};for(const[o,{path:S}]of c.entries())b[S[S.length-1]]=o;void 0!==u&&this.listRef.current.scrollToIndex({index:u,align:"center"});let I,w=t;if(0===v.length){const e=this.treePlaceholderRenderer,t=i;I=o.createElement(e,{treeId:this.treeId,drop:this.drop},o.createElement(t,null))}else{w=gc({height:"100%"},w);const t=this.scrollZoneVirtualList;I=o.createElement(t,{data:v,dragDropManager:e,verticalStrength:this.vStrength,horizontalStrength:this.hStrength,className:"rst__virtualScrollOverride",style:r,itemContent:e=>this.renderRow(v[e],{listIndex:e,getPrevRow:()=>v[e-1]||void 0,matchKeys:b,swapFrom:m,swapDepth:d,swapLength:y})})}return o.createElement("div",{className:ps("rst__tree",n,p),style:w},I)}}yc.defaultProps={canDrag:!0,canDrop:void 0,canNodeHaveChildren:()=>!0,className:"",dndType:void 0,generateNodeProps:void 0,getNodeKey:({treeIndex:e})=>e,innerStyle:{},maxDepth:void 0,treeNodeRenderer:void 0,nodeContentRenderer:void 0,onMoveNode:()=>{},onVisibilityToggle:()=>{},placeholderRenderer:void 0,scaffoldBlockPxWidth:void 0,searchFinishCallback:void 0,searchFocusOffset:void 0,searchMethod:void 0,searchQuery:void 0,shouldCopyOnOutsideDrop:!1,slideRegionSize:void 0,style:{},theme:{},onDragStateChanged:()=>{},onlyExpandSearchedNodes:!1,rowDirection:"ltr",debugMode:!1,overscan:0};const bc=function(e){return o.createElement(J.Consumer,null,(({dragDropManager:t})=>void 0===t?void 0:o.createElement(yc,pc(gc({},e),{dragDropManager:t}))))};var Ic=function(e){return o.createElement(xn,{debugMode:e.debugMode,backend:ir},o.createElement(bc,gc({},e)))}},298357:function(e,t,n){var r="Expected a function",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,g=Math.min,p=function(){return d.Date.now()};function v(e,t,n){var o,i,a,s,c,u,l=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=o,r=i;return o=i=void 0,l=t,s=e.apply(r,n)}function I(e){return l=e,c=setTimeout(S,t),d?b(e):s}function w(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function S(){var e=p();if(w(e))return T(e);c=setTimeout(S,function(e){var n=t-(e-u);return f?g(n,a-(e-l)):n}(e))}function T(e){return c=void 0,v&&o?b(e):(o=i=void 0,s)}function C(){var e=p(),n=w(e);if(o=arguments,i=this,u=e,n){if(void 0===c)return I(u);if(f)return c=setTimeout(S,t),b(u)}return void 0===c&&(c=setTimeout(S,t)),s}return t=y(t)||0,m(n)&&(d=!!n.leading,a=(f="maxWait"in n)?h(y(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},C.flush=function(){return void 0===c?s:T(p())},C}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return m(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),v(e,t,{leading:o,maxWait:t,trailing:i})}}}]);