"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9599],{134656:function(e,t,s){var r=(0,s(525263).Z)((function(){return s.e(112).then(s.bind(s,643549))}));t.Z=r},569904:function(e,t,s){var r=s(467177),n=s(202784),i=s(213980),o=s.n(i),a=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,u=function(e,t,s){return t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s},m=function(e){var t=e,s=t.children,i=function(e,t){var s={};for(var n in e)c.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&l)for(var i,o=(0,r.Z)(l(e));!(i=o()).done;)n=i.value,t.indexOf(n)<0&&p.call(e,n)&&(s[n]=e[n]);return s}(t,["children"]);return n.createElement("div",function(e,t){for(var s in t||(t={}))c.call(t,s)&&u(e,s,t[s]);if(l)for(var n,i=(0,r.Z)(l(t));!(n=i()).done;)s=n.value,p.call(t,s)&&u(e,s,t[s]);return e}({},i),s)};m.defaultProps={className:"",style:{}},m.propTypes={className:o().string,style:o().object},t.Z=m},615697:function(e,t,s){var r=(0,s(525263).Z)((function(){return s.e(6131).then(s.bind(s,102149))}));t.Z=r},583879:function(e,t,s){s.r(t);var r=s(497326),n=s(894578),i=s(467177),o=s(202784),a=s(690299),l=s.n(a),c=s(213980),p=s.n(c),u=s(198),m=s(398781),d=s(931776),b=s(223444),h=s(770561),f=s(312594),v=s(294565),y=s(224008),g=s.n(y),w=s(437069),Z=s.n(w),E=s(287013),P=s.n(E),k=s(588703),N=s.n(k),O=s(309765),S=s(623102),j=s.n(S),x=s(24551),q=s(262600),F=s(134656),C=s(569904),T=s(615697),I=s(89926),R=s(269891),A=s(267682),M=s(382617),L=s(338664),z=Object.defineProperty,H=Object.defineProperties,B=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,V=function(e,t,s){return t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s},_=function(e,t){for(var s in t||(t={}))Q.call(t,s)&&V(e,s,t[s]);if(D)for(var r,n=(0,i.Z)(D(t));!(r=n()).done;){s=r.value;W.call(t,s)&&V(e,s,t[s])}return e},G=function(e,t){return H(e,B(t))},J=function(e,t,s){return V(e,"symbol"!=typeof t?t+"":t,s),s},K=l()("isle:select-question-matrix"),U=(0,x.Z)("select-question-matrix"),X=function(e){function t(t){var s;return s=e.call(this,t)||this,J((0,r.Z)(s),"handleChangeFactory",(function(e){return function(t){K("Received a new value for "+e+"...");var r=g()(s.state.answers,1);r[e]=t.value,s.setState({answers:r})}})),J((0,r.Z)(s),"handleSubmit",(function(){for(var e=s.context,t=!0,r=Z()(s.props.solution),n=0;n<r.length;n++){var i=r[n],o=s.props.solution[i],a=s.state.answers[i];(0,O.isPrimitive)(a)&&(N()(o)?P()(o,a)||(t=!1):o!==a&&(t=!1))}var l=!j()(s.props.solution);"none"!==s.props.provideFeedback&&l?t?e.addNotification({title:s.props.t("correct"),message:s.props.successMsg||s.props.t("success-message"),level:"success"}):e.addNotification({title:s.props.t("incorrect"),message:s.props.failureMsg||s.props.t("failure-message"),level:"error"}):e.addNotification({title:s.state.submitted?s.props.t("answer-resubmitted"):s.props.t("answer-submitted"),message:s.state.submitted?s.props.t("resubmit-message"):s.props.t("submit-message"),level:"info"}),e.log({id:s.id,type:M.QH,value:s.state.answers}),s.props.onSubmit(s.state.answers,t);var c=null;s.props.provideFeedback&&l&&(c=t?"success":"danger");var p=s.state.numbSubmissions+1;s.setState({submitted:!0,answerState:c,submittedAnswers:g()(s.state.answers),numbSubmissions:p,completed:(p>=s.props.nTries||t)&&"none"!==s.props.provideFeedback&&l})})),s.id=t.id||U(t),s.state={answers:{},submitted:!1,answerState:null,completed:!1,numbSubmissions:0,submittedAnswers:null},s}(0,n.Z)(t,e);var s=t.prototype;return s.renderColumnNames=function(){var e,t=this.props.cols.length;return e=t>7?1:t>4?2:3,o.createElement(m.Z.Row,{className:"multiple-choice-matrix-question-header"},o.createElement(f.Z,{sm:e}),this.props.cols.map((function(e,t){return o.createElement(f.Z,{key:t},o.createElement(m.Z.Label,null,(0,v.isPrimitive)(e)?o.createElement(I.Z,{raw:e}):e))})))},s.renderSelectInput=function(e,t){var s,r=e+":"+t,n=this.props.options[r]||[];n=n.map((function(e,t){return{label:e,value:t}}));var i="overall"===this.props.provideFeedback&&this.state.submitted||"individual"===this.props.provideFeedback&&this.state.submitted&&(0,O.isPrimitive)(this.state.submittedAnswers[r]);i&&(0,O.isPrimitive)(this.props.solution[r])&&(s=this.state.submittedAnswers[r]===this.props.solution[r]?"green":"red");var a,l=o.createElement(d.ZP,{name:"form-field-name",className:"select-field",isDisabled:this.state.completed,isSearchable:!1,options:n,key:"select-"+e+"-"+t,onChange:this.handleChangeFactory(r),menuPlacement:"top",menuPortalTarget:document.body,styles:{menuPortal:function(e){return G(_({},e),{zIndex:1010})},singleValue:function(e){return G(_({},e),{color:s})},menu:function(e){return G(_({},e),{width:"max-content",minWidth:"100%"})}}}),c=this.props.cellLabels[r];return a=this.state.completed?"green"===s?this.props.t("correct-answer"):this.props.t("should-have-been"):"green"===s?this.props.t("correct"):this.props.t("try-again"),o.createElement(o.Fragment,null,c?o.createElement("span",{className:"select-question-matrix-cell-label"},c):null,l,i?o.createElement(b.Z,{variant:"green"===s?"success":"danger"},a,this.state.completed?this.props.options[r][this.props.solution[r]]:null):null)},s.renderRowSelects=function(e){for(var t=this.props.cols.length,s=new Array(t),r=0;r<t;r++)s[r]=o.createElement(f.Z,{key:r},this.renderSelectInput(e,r));return o.createElement(o.Fragment,null,s)},s.renderRows=function(){var e,t=this,s=this.props.rows.length;return e=s>7?1:s>4?2:3,this.props.rows.map((function(s,r){return o.createElement(m.Z.Row,{key:r,style:{marginBottom:15,marginTop:15}},o.createElement(f.Z,{sm:e},o.createElement(m.Z.Label,{column:!0,style:{textAlign:"right"}},(0,v.isPrimitive)(s)?o.createElement(I.Z,{raw:s}):s)),t.renderRowSelects(r))}))},s.render=function(){var e=this.props.hints.length,t=Z()(this.state.answers).length,s=Z()(this.props.options).length,r=0===t||t<s&&!this.props.allowIncomplete||this.state.completed;return o.createElement(q.Z,_({id:this.id,border:this.state.answerState,className:"select-question-matrix "+this.props.className,style:this.props.style},this.props.panelProps),this.props.question?o.createElement("label",null,this.props.question):null,this.renderColumnNames(),this.renderRows(),o.createElement("div",{className:"select-question-matrix-toolbar"},o.createElement(h.Z,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,disabled:r},this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),e>0?o.createElement(F.Z,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.props.chat?o.createElement(T.Z,{for:this.id}):null),o.createElement("div",null,o.createElement(C.Z,{id:this.id,data:{type:"tensor",rows:this.props.rows,cols:this.props.cols,question:this.props.question,solution:this.props.solution},info:M.QH}),this.props.feedback?o.createElement(R.Z,{id:this.id+"_feedback",style:{float:"left"}}):null))},t}(o.Component);X.defaultProps={question:"",rows:[],cols:[],solution:{},options:{},hints:[],hintPlacement:"bottom",feedback:!0,provideFeedback:"individual",allowIncomplete:!1,nTries:3,failureMsg:null,successMsg:null,cellLabels:{},chat:!1,panelProps:{},className:"",style:{},onSubmit:function(){}},X.propTypes={question:p().oneOfType([p().string,p().node]),rows:p().array,cols:p().array,options:p().object,solution:p().object,hints:p().arrayOf(p().oneOfType([p().string,p().node])),hintPlacement:p().string,feedback:p().bool,provideFeedback:p().oneOf(["none","overall","individual"]),allowIncomplete:p().bool,nTries:p().number,failureMsg:p().string,successMsg:p().string,cellLabels:p().object,chat:p().bool,panelProps:p().object,className:p().string,style:p().object,onSubmit:p().func},X.contextType=A.Z,t.default=(0,u.Z)("questions/select-matrix")((0,L.W)(X))},770561:function(e,t,s){var r=s(807896),n=s(231461),i=s(72779),o=s.n(i),a=s(202784),l=s(429658),c=s(482695),p=["bsPrefix","variant","size","active","className","block","type","as"],u=a.forwardRef((function(e,t){var s=e.bsPrefix,i=e.variant,u=e.size,m=e.active,d=e.className,b=e.block,h=e.type,f=e.as,v=(0,n.Z)(e,p),y=(0,l.vE)(s,"btn"),g=o()(d,y,m&&"active",i&&y+"-"+i,b&&y+"-block",u&&y+"-"+u);if(v.href)return a.createElement(c.Z,(0,r.Z)({},v,{as:f,ref:t,className:o()(g,v.disabled&&"disabled")}));t&&(v.ref=t),h?v.type=h:f||(v.type="button");var w=f||"button";return a.createElement(w,(0,r.Z)({},v,{className:g}))}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=u}}]);